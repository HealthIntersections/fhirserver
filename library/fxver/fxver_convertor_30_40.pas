unit fxver_convertor_30_40;

{
  Copyright (c) 2011+, HL7 and Health Intersections Pty Ltd (http://www.healthintersections.com.au)
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
}

{$I fhir.inc}

interface

uses
  SysUtils, Classes,
  fsl_base, fsl_utilities,
  fhir_objects,
  
  fhir3_types, fhir3_resources, fhir3_utilities,
  fhir4_types, fhir4_resources, fhir4_utilities,
  fxver_convertor_base;

Type

  TVersionConvertor_30_40 = class (TVersionConvertorBase)
  private
    class procedure copyElement3(src : fhir3_types.TFhirElement; tgt : fhir4_types.TFhirElement); overload;
    class procedure copyElement4(src : fhir4_types.TFhirElement; tgt : fhir3_types.TFhirElement); overload;
    class procedure copyBackboneElement3(src : fhir3_types.TFhirBackboneElement; tgt : fhir4_types.TFhirBackboneElement); overload;
    class procedure copyBackboneElement4(src : fhir4_types.TFhirBackboneElement; tgt : fhir3_types.TFhirBackboneElement); overload;
    class function convertNarrativeStatus3(src : fhir3_types.TFhirNarrativeStatusEnum) : fhir4_types.TFhirNarrativeStatusEnum; overload;
    class function convertNarrativeStatus4(src : fhir4_types.TFhirNarrativeStatusEnum) : fhir3_types.TFhirNarrativeStatusEnum; overload;
    class function convertIdentifierUse3(src : fhir3_types.TFhirIdentifierUseEnum) : fhir4_types.TFhirIdentifierUseEnum; overload;
    class function convertIdentifierUse4(src : fhir4_types.TFhirIdentifierUseEnum) : fhir3_types.TFhirIdentifierUseEnum; overload;
    class function convertQuantityComparator3(src : fhir3_types.TFhirQuantityComparatorEnum) : fhir4_types.TFhirQuantityComparatorEnum; overload;
    class function convertQuantityComparator4(src : fhir4_types.TFhirQuantityComparatorEnum) : fhir3_types.TFhirQuantityComparatorEnum; overload;
    class function convertAddressUse3(src : fhir3_types.TFhirAddressUseEnum) : fhir4_types.TFhirAddressUseEnum; overload;
    class function convertAddressUse4(src : fhir4_types.TFhirAddressUseEnum) : fhir3_types.TFhirAddressUseEnum; overload;
    class function convertAddressType3(src : fhir3_types.TFhirAddressTypeEnum) : fhir4_types.TFhirAddressTypeEnum; overload;
    class function convertAddressType4(src : fhir4_types.TFhirAddressTypeEnum) : fhir3_types.TFhirAddressTypeEnum; overload;
    class function convertContactPointSystem3(src : fhir3_types.TFhirContactPointSystemEnum) : fhir4_types.TFhirContactPointSystemEnum; overload;
    class function convertContactPointSystem4(src : fhir4_types.TFhirContactPointSystemEnum) : fhir3_types.TFhirContactPointSystemEnum; overload;
    class function convertContactPointUse3(src : fhir3_types.TFhirContactPointUseEnum) : fhir4_types.TFhirContactPointUseEnum; overload;
    class function convertContactPointUse4(src : fhir4_types.TFhirContactPointUseEnum) : fhir3_types.TFhirContactPointUseEnum; overload;
    class function convertContributorType3(src : fhir3_types.TFhirContributorTypeEnum) : fhir4_types.TFhirContributorTypeEnum; overload;
    class function convertContributorType4(src : fhir4_types.TFhirContributorTypeEnum) : fhir3_types.TFhirContributorTypeEnum; overload;
    class function convertPropertyRepresentation3(src : fhir3_types.TFhirPropertyRepresentationEnum) : fhir4_types.TFhirPropertyRepresentationEnum; overload;
    class function convertPropertyRepresentation4(src : fhir4_types.TFhirPropertyRepresentationEnum) : fhir3_types.TFhirPropertyRepresentationEnum; overload;
    class function convertSlicingRules3(src : fhir3_types.TFhirResourceSlicingRulesEnum) : fhir4_types.TFhirResourceSlicingRulesEnum; overload;
    class function convertSlicingRules4(src : fhir4_types.TFhirResourceSlicingRulesEnum) : fhir3_types.TFhirResourceSlicingRulesEnum; overload;
    class function convertDiscriminatorType3(src : fhir3_types.TFhirDiscriminatorTypeEnum) : fhir4_types.TFhirDiscriminatorTypeEnum; overload;
    class function convertDiscriminatorType4(src : fhir4_types.TFhirDiscriminatorTypeEnum) : fhir3_types.TFhirDiscriminatorTypeEnum; overload;
    class function convertAggregationMode3(src : fhir3_types.TFhirResourceAggregationModeEnum) : fhir4_types.TFhirResourceAggregationModeEnum; overload;
//    class function convertAggregationMode4(src : fhir4_types.TFhirResourceAggregationModeEnum) : fhir3_types.TFhirResourceAggregationModeEnum; overload;
    class function convertReferenceVersionRules3(src : fhir3_types.TFhirReferenceVersionRulesEnum) : fhir4_types.TFhirReferenceVersionRulesEnum; overload;
//    class function convertReferenceVersionRules4(src : fhir4_types.TFhirReferenceVersionRulesEnum) : fhir3_types.TFhirReferenceVersionRulesEnum; overload;
    class function convertConstraintSeverity3(src : fhir3_types.TFhirConstraintSeverityEnum) : fhir4_types.TFhirConstraintSeverityEnum; overload;
    class function convertConstraintSeverity4(src : fhir4_types.TFhirConstraintSeverityEnum) : fhir3_types.TFhirConstraintSeverityEnum; overload;
    class function convertBindingStrength3(src : fhir3_types.TFhirBindingStrengthEnum) : fhir4_types.TFhirBindingStrengthEnum; overload;
    class function convertBindingStrength4(src : fhir4_types.TFhirBindingStrengthEnum) : fhir3_types.TFhirBindingStrengthEnum; overload;
    class function convertNameUse3(src : fhir3_types.TFhirNameUseEnum) : fhir4_types.TFhirNameUseEnum; overload;
    class function convertNameUse4(src : fhir4_types.TFhirNameUseEnum) : fhir3_types.TFhirNameUseEnum; overload;
    class function convertParameterUse3(src : fhir3_types.TFhirOperationParameterUseEnum) : fhir4_types.TFhirOperationParameterUseEnum; overload;
    class function convertParameterUse4(src : fhir4_types.TFhirOperationParameterUseEnum) : fhir3_types.TFhirOperationParameterUseEnum; overload;
    class function convertRelatedArtifactType3(src : fhir3_types.TFhirRelatedArtifactTypeEnum) : fhir4_types.TFhirRelatedArtifactTypeEnum; overload;
    class function convertRelatedArtifactType4(src : fhir4_types.TFhirRelatedArtifactTypeEnum) : fhir3_types.TFhirRelatedArtifactTypeEnum; overload;
    class function convertUnitsOfTime3(src : fhir3_types.TFhirUnitsOfTimeEnum) : fhir4_types.TFhirUnitsOfTimeEnum; overload;
    class function convertUnitsOfTime4(src : fhir4_types.TFhirUnitsOfTimeEnum) : fhir3_types.TFhirUnitsOfTimeEnum; overload;
    class function convertDayOfWeek3(src : fhir3_types.TFhirDaysOfWeekEnum) : fhir4_types.TFhirDaysOfWeekEnum; overload;
    class function convertDayOfWeek4(src : fhir4_types.TFhirDaysOfWeekEnum) : fhir3_types.TFhirDaysOfWeekEnum; overload;
    class function convertEventTiming3(src : fhir3_types.TFhirEventTimingEnum) : fhir4_types.TFhirEventTimingEnum; overload;
    class function convertEventTiming4(src : fhir4_types.TFhirEventTimingEnum) : fhir3_types.TFhirEventTimingEnum; overload;
    class function convertTriggerType3(src : fhir3_types.TFhirTriggerTypeEnum) : fhir4_types.TFhirTriggerTypeEnum; overload;
    class function convertTriggerType4(src : fhir4_types.TFhirTriggerTypeEnum) : fhir3_types.TFhirTriggerTypeEnum; overload;
    class procedure copyDomainResource3(src : fhir3_resources.TFhirDomainResource; tgt : fhir4_resources.TFhirDomainResource); overload;
    class procedure copyDomainResource4(src : fhir4_resources.TFhirDomainResource; tgt : fhir3_resources.TFhirDomainResource); overload;
    class procedure copyResource3(src : fhir3_resources.TFhirResource; tgt : fhir4_resources.TFhirResource); overload;
    class procedure copyResource4(src : fhir4_resources.TFhirResource; tgt : fhir3_resources.TFhirResource); overload;
    class function convertPublicationStatus3(src : fhir3_types.TFhirPublicationStatusEnum) : fhir4_types.TFhirPublicationStatusEnum; overload;
    class function convertPublicationStatus4(src : fhir4_types.TFhirPublicationStatusEnum) : fhir3_types.TFhirPublicationStatusEnum; overload;
    class function convertActivityDefinitionKind3(src : fhir3_types.TFhirResourceTypesEnum) : fhir4_types.TFhirResourceTypesEnum; overload;
    class function convertActivityDefinitionKind4(src : fhir4_types.TFhirResourceTypesEnum) : fhir3_types.TFhirResourceTypesEnum; overload;
    class function convertActivityParticipantType3(src : fhir3_types.TFhirActionParticipantTypeEnum) : fhir4_types.TFhirActionParticipantTypeEnum; overload;
    class function convertActivityParticipantType4(src : fhir4_types.TFhirActionParticipantTypeEnum) : fhir3_types.TFhirActionParticipantTypeEnum; overload;
    class function convertAllergyIntoleranceClinicalStatus3(src : fhir3_types.TFhirAllergyClinicalStatusEnum) : fhir4_types.TFhirCodeableConcept; overload;
    class function convertAllergyIntoleranceClinicalStatus4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirAllergyClinicalStatusEnum; overload;
    class function convertAllergyIntoleranceVerificationStatus3(src : fhir3_types.TFhirAllergyVerificationStatusEnum) : fhir4_types.TFhirCodeableConcept; overload;
    class function convertAllergyIntoleranceVerificationStatus4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirAllergyVerificationStatusEnum; overload;
    class function convertAllergyIntoleranceType3(src : fhir3_types.TFhirAllergyIntoleranceTypeEnum) : fhir4_types.TFhirAllergyIntoleranceTypeEnum; overload;
    class function convertAllergyIntoleranceType4(src : fhir4_types.TFhirAllergyIntoleranceTypeEnum) : fhir3_types.TFhirAllergyIntoleranceTypeEnum; overload;
    class function convertAllergyIntoleranceCategory3(src : fhir3_types.TFhirAllergyIntoleranceCategoryEnum) : fhir4_types.TFhirAllergyIntoleranceCategoryEnum; overload;
    class function convertAllergyIntoleranceCategory4(src : fhir4_types.TFhirAllergyIntoleranceCategoryEnum) : fhir3_types.TFhirAllergyIntoleranceCategoryEnum; overload;
    class function convertAllergyIntoleranceCriticality3(src : fhir3_types.TFhirAllergyIntoleranceCriticalityEnum) : fhir4_types.TFhirAllergyIntoleranceCriticalityEnum; overload;
    class function convertAllergyIntoleranceCriticality4(src : fhir4_types.TFhirAllergyIntoleranceCriticalityEnum) : fhir3_types.TFhirAllergyIntoleranceCriticalityEnum; overload;
    class function convertAllergyIntoleranceSeverity3(src : fhir3_types.TFhirReactionEventSeverityEnum) : fhir4_types.TFhirReactionEventSeverityEnum; overload;
    class function convertAllergyIntoleranceSeverity4(src : fhir4_types.TFhirReactionEventSeverityEnum) : fhir3_types.TFhirReactionEventSeverityEnum; overload;
    class function convertAppointmentStatus3(src : fhir3_types.TFhirAppointmentstatusEnum) : fhir4_types.TFhirAppointmentstatusEnum; overload;
    class function convertAppointmentStatus4(src : fhir4_types.TFhirAppointmentstatusEnum) : fhir3_types.TFhirAppointmentstatusEnum; overload;
    class function convertParticipantRequired3(src : fhir3_types.TFhirParticipantrequiredEnum) : fhir4_types.TFhirParticipantrequiredEnum; overload;
    class function convertParticipantRequired4(src : fhir4_types.TFhirParticipantrequiredEnum) : fhir3_types.TFhirParticipantrequiredEnum; overload;
    class function convertParticipationStatus3(src : fhir3_types.TFhirParticipationstatusEnum) : fhir4_types.TFhirParticipationstatusEnum; overload;
    class function convertParticipationStatus4(src : fhir4_types.TFhirParticipationstatusEnum) : fhir3_types.TFhirParticipationstatusEnum; overload;
    class function convertParticipantStatus3(src : fhir3_types.TFhirParticipationstatusEnum) : fhir4_types.TFhirParticipationstatusEnum; overload;
    class function convertParticipantStatus4(src : fhir4_types.TFhirParticipationstatusEnum) : fhir3_types.TFhirParticipationstatusEnum; overload;
    class function convertAuditEventAction3(src : fhir3_types.TFhirAuditEventActionEnum) : fhir4_types.TFhirAuditEventActionEnum; overload;
    class function convertAuditEventAction4(src : fhir4_types.TFhirAuditEventActionEnum) : fhir3_types.TFhirAuditEventActionEnum; overload;
    class function convertAuditEventOutcome3(src : fhir3_types.TFhirAuditEventOutcomeEnum) : fhir4_types.TFhirAuditEventOutcomeEnum; overload;
    class function convertAuditEventOutcome4(src : fhir4_types.TFhirAuditEventOutcomeEnum) : fhir3_types.TFhirAuditEventOutcomeEnum; overload;
    class function convertAuditEventAgentNetworkType3(src : fhir3_types.TFhirNetworkTypeEnum) : fhir4_types.TFhirNetworkTypeEnum; overload;
    class function convertAuditEventAgentNetworkType4(src : fhir4_types.TFhirNetworkTypeEnum) : fhir3_types.TFhirNetworkTypeEnum; overload;
    class function convertBundleType3(src : fhir3_types.TFhirBundleTypeEnum) : fhir4_types.TFhirBundleTypeEnum; overload;
    class function convertBundleType4(src : fhir4_types.TFhirBundleTypeEnum) : fhir3_types.TFhirBundleTypeEnum; overload;
    class function convertSearchEntryMode3(src : fhir3_types.TFhirSearchEntryModeEnum) : fhir4_types.TFhirSearchEntryModeEnum; overload;
    class function convertSearchEntryMode4(src : fhir4_types.TFhirSearchEntryModeEnum) : fhir3_types.TFhirSearchEntryModeEnum; overload;
    class function convertHTTPVerb3(src : fhir3_types.TFhirHttpVerbEnum) : fhir4_types.TFhirHttpVerbEnum; overload;
    class function convertHTTPVerb4(src : fhir4_types.TFhirHttpVerbEnum) : fhir3_types.TFhirHttpVerbEnum; overload;
    class function convertCapabilityStatementKind3(src : fhir3_types.TFhirCapabilityStatementKindEnum) : fhir4_types.TFhirCapabilityStatementKindEnum; overload;
    class function convertCapabilityStatementKind4(src : fhir4_types.TFhirCapabilityStatementKindEnum) : fhir3_types.TFhirCapabilityStatementKindEnum; overload;
    class function convertRestfulCapabilityMode3(src : fhir3_types.TFhirRestfulCapabilityModeEnum) : fhir4_types.TFhirRestfulCapabilityModeEnum; overload;
    class function convertRestfulCapabilityMode4(src : fhir4_types.TFhirRestfulCapabilityModeEnum) : fhir3_types.TFhirRestfulCapabilityModeEnum; overload;
    class function convertReferenceToCanonical3(src : fhir3_types.TFhirReference) : fhir4_types.TFhirCanonical; overload;
    class function convertCanonicalToReference4(src : fhir4_types.TFhirCanonical) : fhir3_types.TFhirReference; overload;
    class function convertResourceVersionPolicy3(src : fhir3_types.TFhirVersioningPolicyEnum) : fhir4_types.TFhirVersioningPolicyEnum; overload;
    class function convertResourceVersionPolicy4(src : fhir4_types.TFhirVersioningPolicyEnum) : fhir3_types.TFhirVersioningPolicyEnum; overload;
    class function convertConditionalReadStatus3(src : fhir3_types.TFhirConditionalReadStatusEnum) : fhir4_types.TFhirConditionalReadStatusEnum; overload;
    class function convertConditionalReadStatus4(src : fhir4_types.TFhirConditionalReadStatusEnum) : fhir3_types.TFhirConditionalReadStatusEnum; overload;
    class function convertConditionalDeleteStatus3(src : fhir3_types.TFhirConditionalDeleteStatusEnum) : fhir4_types.TFhirConditionalDeleteStatusEnum; overload;
    class function convertConditionalDeleteStatus4(src : fhir4_types.TFhirConditionalDeleteStatusEnum) : fhir3_types.TFhirConditionalDeleteStatusEnum; overload;
    class function convertReferenceHandlingPolicy3(src : fhir3_types.TFhirReferenceHandlingPolicyEnum) : fhir4_types.TFhirReferenceHandlingPolicyEnum; overload;
    class function convertReferenceHandlingPolicy4(src : fhir4_types.TFhirReferenceHandlingPolicyEnum) : fhir3_types.TFhirReferenceHandlingPolicyEnum; overload;
    class function convertTypeRestfulInteraction3(src : fhir3_types.TFhirTypeRestfulInteractionEnum) : fhir4_types.TFhirTypeRestfulInteractionEnum; overload;
    class function convertTypeRestfulInteraction4(src : fhir4_types.TFhirTypeRestfulInteractionEnum) : fhir3_types.TFhirTypeRestfulInteractionEnum; overload;
    class function convertSearchParamType3(src : fhir3_types.TFhirSearchParamTypeEnum) : fhir4_types.TFhirSearchParamTypeEnum; overload;
    class function convertSearchParamType4(src : fhir4_types.TFhirSearchParamTypeEnum) : fhir3_types.TFhirSearchParamTypeEnum; overload;
    class function convertSystemRestfulInteraction3(src : fhir3_types.TFhirSystemRestfulInteractionEnum) : fhir4_types.TFhirSystemRestfulInteractionEnum; overload;
    class function convertSystemRestfulInteraction4(src : fhir4_types.TFhirSystemRestfulInteractionEnum) : fhir3_types.TFhirSystemRestfulInteractionEnum; overload;
    class function convertEventCapabilityMode3(src : fhir3_types.TFhirEventCapabilityModeEnum) : fhir4_types.TFhirEventCapabilityModeEnum; overload;
    class function convertEventCapabilityMode4(src : fhir4_types.TFhirEventCapabilityModeEnum) : fhir3_types.TFhirEventCapabilityModeEnum; overload;
    class function convertDocumentMode3(src : fhir3_types.TFhirDocumentModeEnum) : fhir4_types.TFhirDocumentModeEnum; overload;
    class function convertDocumentMode4(src : fhir4_types.TFhirDocumentModeEnum) : fhir3_types.TFhirDocumentModeEnum; overload;
    class function convertCareTeamStatus3(src : fhir3_types.TFhirCareTeamStatusEnum) : fhir4_types.TFhirCareTeamStatusEnum; overload;
    class function convertCareTeamStatus4(src : fhir4_types.TFhirCareTeamStatusEnum) : fhir3_types.TFhirCareTeamStatusEnum; overload;
//    class function convertChargeItemStatus3(src : fhir3_types.TFhirChargeitemStatusEnum) : fhir4_types.TFhirChargeitemStatusEnum; overload;
//    class function convertChargeItemStatus4(src : fhir4_types.TFhirChargeitemStatusEnum) : fhir3_types.TFhirChargeitemStatusEnum; overload;
//    class function convertUse3(src : fhir3_types.TFhirClaimUseEnum) : fhir4_types.TFhirClaimUseEnum; overload;
//    class function convertUse4(src : fhir4_types.TFhirClaimUseEnum) : fhir3_types.TFhirClaimUseEnum; overload;
    class function convertClinicalImpressionStatus3(src : fhir3_types.TFhirClinicalImpressionStatusEnum) : fhir4_types.TFhirClinicalImpressionStatusEnum; overload;
    class function convertClinicalImpressionStatus4(src : fhir4_types.TFhirClinicalImpressionStatusEnum) : fhir3_types.TFhirClinicalImpressionStatusEnum; overload;
    class function convertCodeSystemHierarchyMeaning3(src : fhir3_types.TFhirCodesystemHierarchyMeaningEnum) : fhir4_types.TFhirCodesystemHierarchyMeaningEnum; overload;
    class function convertCodeSystemHierarchyMeaning4(src : fhir4_types.TFhirCodesystemHierarchyMeaningEnum) : fhir3_types.TFhirCodesystemHierarchyMeaningEnum; overload;
    class function convertCodeSystemContentMode3(src : fhir3_types.TFhirCodesystemContentModeEnum) : fhir4_types.TFhirCodesystemContentModeEnum; overload;
    class function convertCodeSystemContentMode4(src : fhir4_types.TFhirCodesystemContentModeEnum) : fhir3_types.TFhirCodesystemContentModeEnum; overload;
    class function convertFilterOperator3(src : fhir3_types.TFhirFilterOperatorEnum) : fhir4_types.TFhirFilterOperatorEnum; overload;
    class function convertFilterOperator4(src : fhir4_types.TFhirFilterOperatorEnum) : fhir3_types.TFhirFilterOperatorEnum; overload;
    class function convertPropertyType3(src : fhir3_types.TFhirConceptPropertyTypeEnum) : fhir4_types.TFhirConceptPropertyTypeEnum; overload;
    class function convertPropertyType4(src : fhir4_types.TFhirConceptPropertyTypeEnum) : fhir3_types.TFhirConceptPropertyTypeEnum; overload;
    class function convertCommunicationStatus3(src : fhir3_types.TFhirEventStatusEnum) : fhir4_types.TFhirEventStatusEnum; overload;
    class function convertCommunicationStatus4(src : fhir4_types.TFhirEventStatusEnum) : fhir3_types.TFhirEventStatusEnum; overload;
    class function convertCompartmentType3(src : fhir3_types.TFhirCompartmentTypeEnum) : fhir4_types.TFhirCompartmentTypeEnum; overload;
    class function convertCompartmentType4(src : fhir4_types.TFhirCompartmentTypeEnum) : fhir3_types.TFhirCompartmentTypeEnum; overload;
    class function convertCompositionStatus3(src : fhir3_types.TFhirCompositionStatusEnum) : fhir4_types.TFhirCompositionStatusEnum; overload;
    class function convertCompositionStatus4(src : fhir4_types.TFhirCompositionStatusEnum) : fhir3_types.TFhirCompositionStatusEnum; overload;
    class function convertDocumentConfidentiality3(src : fhir3_types.TFhirV3ConfidentialityClassificationEnum) : fhir4_types.TFhirV3ConfidentialityClassificationEnum; overload;
    class function convertDocumentConfidentiality4(src : fhir4_types.TFhirV3ConfidentialityClassificationEnum) : fhir3_types.TFhirV3ConfidentialityClassificationEnum; overload;
    class function convertCompositionAttestationMode3(src : fhir3_types.TFhirCompositionAttestationModeEnum) : fhir4_types.TFhirCompositionAttestationModeEnum; overload;
    class function convertCompositionAttestationMode4(src : fhir4_types.TFhirCompositionAttestationModeEnum) : fhir3_types.TFhirCompositionAttestationModeEnum; overload;
    class function convertDocumentRelationshipType3(src : fhir3_types.TFhirDocumentRelationshipTypeEnum) : fhir4_types.TFhirDocumentRelationshipTypeEnum; overload;
    class function convertDocumentRelationshipType4(src : fhir4_types.TFhirDocumentRelationshipTypeEnum) : fhir3_types.TFhirDocumentRelationshipTypeEnum; overload;
    class function convertSectionMode3(src : fhir3_types.TFhirListModeEnum) : fhir4_types.TFhirListModeEnum; overload;
    class function convertSectionMode4(src : fhir4_types.TFhirListModeEnum) : fhir3_types.TFhirListModeEnum; overload;
    class function convertConceptMapEquivalence3(src : fhir3_types.TFhirConceptMapEquivalenceEnum) : fhir4_types.TFhirConceptMapEquivalenceEnum; overload;
    class function convertConceptMapEquivalence4(src : fhir4_types.TFhirConceptMapEquivalenceEnum) : fhir3_types.TFhirConceptMapEquivalenceEnum; overload;
    class function convertConceptMapGroupUnmappedMode3(src : fhir3_types.TFhirConceptmapUnmappedModeEnum) : fhir4_types.TFhirConceptmapUnmappedModeEnum; overload;
    class function convertConceptMapGroupUnmappedMode4(src : fhir4_types.TFhirConceptmapUnmappedModeEnum) : fhir3_types.TFhirConceptmapUnmappedModeEnum; overload;
    class function convertConditionClinicalStatus3(src : fhir3_types.TFhirConditionClinicalEnum) : fhir4_types.TFhirCodeableConcept; overload;
    class function convertConditionClinicalStatus4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirConditionClinicalEnum; overload;
    class function convertConditionVerificationStatus3(src : fhir3_types.TFhirConditionVerStatusEnum) : fhir4_types.TFhirCodeableConcept; overload;
    class function convertConditionVerificationStatus4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirConditionVerStatusEnum; overload;
//    class function convertConsentDataMeaning3(src : fhir3_types.TFhirConsentDataMeaningEnum) : fhir4_types.TFhirConsentDataMeaningEnum; overload;
//    class function convertConsentDataMeaning4(src : fhir4_types.TFhirConsentDataMeaningEnum) : fhir3_types.TFhirConsentDataMeaningEnum; overload;
    class function convertDetectedIssueStatus3(src : fhir3_types.TFhirObservationStatusEnum) : fhir4_types.TFhirObservationStatusEnum; overload;
    class function convertDetectedIssueStatus4(src : fhir4_types.TFhirObservationStatusEnum) : fhir3_types.TFhirObservationStatusEnum; overload;
    class function convertDetectedIssueSeverity3(src : fhir3_types.TFhirDetectedissueSeverityEnum) : fhir4_types.TFhirDetectedissueSeverityEnum; overload;
    class function convertDetectedIssueSeverity4(src : fhir4_types.TFhirDetectedissueSeverityEnum) : fhir3_types.TFhirDetectedissueSeverityEnum; overload;
    class function convertFHIRDeviceStatus3(src : fhir3_types.TFhirDeviceStatusEnum) : fhir4_types.TFhirDeviceStatusEnum; overload;
    class function convertFHIRDeviceStatus4(src : fhir4_types.TFhirDeviceStatusEnum) : fhir3_types.TFhirDeviceStatusEnum; overload;
//    class function convertUDIEntryType3(src : fhir3_types.TFhirUdiEntryTypeEnum) : fhir4_types.TFhirUdiEntryTypeEnum; overload;
//    class function convertUDIEntryType4(src : fhir4_types.TFhirUdiEntryTypeEnum) : fhir3_types.TFhirUdiEntryTypeEnum; overload;
    class function convertDeviceMetricOperationalStatus3(src : fhir3_types.TFhirMetricOperationalStatusEnum) : fhir4_types.TFhirMetricOperationalStatusEnum; overload;
    class function convertDeviceMetricOperationalStatus4(src : fhir4_types.TFhirMetricOperationalStatusEnum) : fhir3_types.TFhirMetricOperationalStatusEnum; overload;
    class function convertDeviceMetricColor3(src : fhir3_types.TFhirMetricColorEnum) : fhir4_types.TFhirMetricColorEnum; overload;
    class function convertDeviceMetricColor4(src : fhir4_types.TFhirMetricColorEnum) : fhir3_types.TFhirMetricColorEnum; overload;
    class function convertDeviceMetricCategory3(src : fhir3_types.TFhirMetricCategoryEnum) : fhir4_types.TFhirMetricCategoryEnum; overload;
    class function convertDeviceMetricCategory4(src : fhir4_types.TFhirMetricCategoryEnum) : fhir3_types.TFhirMetricCategoryEnum; overload;
    class function convertDeviceMetricCalibrationType3(src : fhir3_types.TFhirMetricCalibrationTypeEnum) : fhir4_types.TFhirMetricCalibrationTypeEnum; overload;
    class function convertDeviceMetricCalibrationType4(src : fhir4_types.TFhirMetricCalibrationTypeEnum) : fhir3_types.TFhirMetricCalibrationTypeEnum; overload;
    class function convertDeviceMetricCalibrationState3(src : fhir3_types.TFhirMetricCalibrationStateEnum) : fhir4_types.TFhirMetricCalibrationStateEnum; overload;
    class function convertDeviceMetricCalibrationState4(src : fhir4_types.TFhirMetricCalibrationStateEnum) : fhir3_types.TFhirMetricCalibrationStateEnum; overload;
    class function convertDeviceUseStatementStatus3(src : fhir3_types.TFhirDeviceStatementStatusEnum) : fhir4_types.TFhirDeviceStatementStatusEnum; overload;
    class function convertDeviceUseStatementStatus4(src : fhir4_types.TFhirDeviceStatementStatusEnum) : fhir3_types.TFhirDeviceStatementStatusEnum; overload;
    class function convertDiagnosticReportStatus3(src : fhir3_types.TFhirDiagnosticReportStatusEnum) : fhir4_types.TFhirDiagnosticReportStatusEnum; overload;
    class function convertDiagnosticReportStatus4(src : fhir4_types.TFhirDiagnosticReportStatusEnum) : fhir3_types.TFhirDiagnosticReportStatusEnum; overload;
    class function convertDocumentReferenceStatus3(src : fhir3_types.TFhirDocumentReferenceStatusEnum) : fhir4_types.TFhirDocumentReferenceStatusEnum; overload;
    class function convertDocumentReferenceStatus4(src : fhir4_types.TFhirDocumentReferenceStatusEnum) : fhir3_types.TFhirDocumentReferenceStatusEnum; overload;
    class function convertReferredDocumentStatus3(src : fhir3_types.TFhirCompositionStatusEnum) : fhir4_types.TFhirCompositionStatusEnum; overload;
    class function convertReferredDocumentStatus4(src : fhir4_types.TFhirCompositionStatusEnum) : fhir3_types.TFhirCompositionStatusEnum; overload;
    class function convertEncounterStatus3(src : fhir3_types.TFhirEncounterStatusEnum) : fhir4_types.TFhirEncounterStatusEnum; overload;
    class function convertEncounterStatus4(src : fhir4_types.TFhirEncounterStatusEnum) : fhir3_types.TFhirEncounterStatusEnum; overload;
    class function convertEncounterLocationStatus3(src : fhir3_types.TFhirEncounterLocationStatusEnum) : fhir4_types.TFhirEncounterLocationStatusEnum; overload;
    class function convertEncounterLocationStatus4(src : fhir4_types.TFhirEncounterLocationStatusEnum) : fhir3_types.TFhirEncounterLocationStatusEnum; overload;
    class function convertEndpointStatus3(src : fhir3_types.TFhirEndpointStatusEnum) : fhir4_types.TFhirEndpointStatusEnum; overload;
    class function convertEndpointStatus4(src : fhir4_types.TFhirEndpointStatusEnum) : fhir3_types.TFhirEndpointStatusEnum; overload;
    class function convertEpisodeOfCareStatus3(src : fhir3_types.TFhirEpisodeOfCareStatusEnum) : fhir4_types.TFhirEpisodeOfCareStatusEnum; overload;
    class function convertEpisodeOfCareStatus4(src : fhir4_types.TFhirEpisodeOfCareStatusEnum) : fhir3_types.TFhirEpisodeOfCareStatusEnum; overload;
    class function convertFamilyHistoryStatus3(src : fhir3_types.TFhirHistoryStatusEnum) : fhir4_types.TFhirHistoryStatusEnum; overload;
    class function convertFamilyHistoryStatus4(src : fhir4_types.TFhirHistoryStatusEnum) : fhir3_types.TFhirHistoryStatusEnum; overload;
    class function convertAdministrativeGender3(src : fhir3_types.TFhirAdministrativeGenderEnum) : fhir4_types.TFhirAdministrativeGenderEnum; overload;
    class function convertAdministrativeGender4(src : fhir4_types.TFhirAdministrativeGenderEnum) : fhir3_types.TFhirAdministrativeGenderEnum; overload;
    class function convertFlagStatus3(src : fhir3_types.TFhirFlagStatusEnum) : fhir4_types.TFhirFlagStatusEnum; overload;
    class function convertFlagStatus4(src : fhir4_types.TFhirFlagStatusEnum) : fhir3_types.TFhirFlagStatusEnum; overload;
    class function convertGoalStatus3(src : fhir3_types.TFhirGoalStatusEnum) : fhir4_types.TFhirGoalStatusEnum; overload;
    class function convertGoalStatus4(src : fhir4_types.TFhirGoalStatusEnum) : fhir3_types.TFhirGoalStatusEnum; overload;
    class function convertCompartmentCode3(src : fhir3_types.TFhirCompartmentTypeEnum) : fhir4_types.TFhirCompartmentTypeEnum; overload;
    class function convertCompartmentCode4(src : fhir4_types.TFhirCompartmentTypeEnum) : fhir3_types.TFhirCompartmentTypeEnum; overload;
    class function convertGraphCompartmentRule3(src : fhir3_types.TFhirGraphCompartmentRuleEnum) : fhir4_types.TFhirGraphCompartmentRuleEnum; overload;
    class function convertGraphCompartmentRule4(src : fhir4_types.TFhirGraphCompartmentRuleEnum) : fhir3_types.TFhirGraphCompartmentRuleEnum; overload;
    class function convertGroupType3(src : fhir3_types.TFhirGroupTypeEnum) : fhir4_types.TFhirGroupTypeEnum; overload;
    class function convertGroupType4(src : fhir4_types.TFhirGroupTypeEnum) : fhir3_types.TFhirGroupTypeEnum; overload;
//    class function convertDaysOfWeek3(src : fhir3_types.TFhirDaysOfWeekEnum) : fhir4_types.TFhirDaysOfWeekEnum; overload;
//    class function convertDaysOfWeek4(src : fhir4_types.TFhirDaysOfWeekEnum) : fhir3_types.TFhirDaysOfWeekEnum; overload;
    class function convertImmunizationStatus3(src : fhir3_types.TFhirImmunizationStatusEnum) : fhir4_types.TFhirImmunizationStatusEnum; overload;
    class function convertImmunizationStatus4(src : fhir4_types.TFhirImmunizationStatusEnum) : fhir3_types.TFhirImmunizationStatusEnum; overload;
    class function findPackage(definition : fhir3_resources.TFhirImplementationGuidePackageList; id : String) : fhir3_resources.TFhirImplementationGuidePackage; overload;
    class function convertPageGeneration3(kind : fhir3_types.TFhirGuidePageKindEnum) : fhir4_types.TFhirGuidePageGenerationEnum; overload;
    class function convertPageGeneration4(generation : fhir4_types.TFhirGuidePageGenerationEnum) : fhir3_types.TFhirGuidePageKindEnum; overload;
    class function convertLinkageType3(src : fhir3_types.TFhirLinkageTypeEnum) : fhir4_types.TFhirLinkageTypeEnum; overload;
    class function convertLinkageType4(src : fhir4_types.TFhirLinkageTypeEnum) : fhir3_types.TFhirLinkageTypeEnum; overload;
    class function convertListStatus3(src : fhir3_types.TFhirListStatusEnum) : fhir4_types.TFhirListStatusEnum; overload;
    class function convertListStatus4(src : fhir4_types.TFhirListStatusEnum) : fhir3_types.TFhirListStatusEnum; overload;
    class function convertListMode3(src : fhir3_types.TFhirListModeEnum) : fhir4_types.TFhirListModeEnum; overload;
    class function convertListMode4(src : fhir4_types.TFhirListModeEnum) : fhir3_types.TFhirListModeEnum; overload;
    class function convertLocationStatus3(src : fhir3_types.TFhirLocationStatusEnum) : fhir4_types.TFhirLocationStatusEnum; overload;
    class function convertLocationStatus4(src : fhir4_types.TFhirLocationStatusEnum) : fhir3_types.TFhirLocationStatusEnum; overload;
    class function convertLocationMode3(src : fhir3_types.TFhirLocationModeEnum) : fhir4_types.TFhirLocationModeEnum; overload;
    class function convertLocationMode4(src : fhir4_types.TFhirLocationModeEnum) : fhir3_types.TFhirLocationModeEnum; overload;
    class function convertMedicationStatus3(src : fhir3_types.TFhirMedicationStatusEnum) : fhir4_types.TFhirMedicationStatusEnum; overload;
    class function convertMedicationStatus4(src : fhir4_types.TFhirMedicationStatusEnum) : fhir3_types.TFhirMedicationStatusEnum; overload;
    class function convertMedicationAdministrationStatus3(src : fhir3_types.TFhirMedicationAdminStatusEnum) : String; overload;
    class function convertMedicationAdministrationStatus4(src : String) : fhir3_types.TFhirMedicationAdminStatusEnum; overload;
    class function convertMedicationDispenseStatus3(src : fhir3_types.TFhirMedicationDispenseStatusEnum) : String; overload;
    class function convertMedicationDispenseStatus4(src : String) : fhir3_types.TFhirMedicationDispenseStatusEnum; overload;
    class function convertMedicationRequestStatus3(src : fhir3_types.TFhirMedicationRequestStatusEnum) : fhir4_types.TFhirMedicationRequestStatusEnum; overload;
    class function convertMedicationRequestStatus4(src : fhir4_types.TFhirMedicationRequestStatusEnum) : fhir3_types.TFhirMedicationRequestStatusEnum; overload;
    class function convertMedicationRequestIntent3(src : fhir3_types.TFhirMedicationRequestIntentEnum) : fhir4_types.TFhirMedicationRequestIntentEnum; overload;
    class function convertMedicationRequestIntent4(src : fhir4_types.TFhirMedicationRequestIntentEnum) : fhir3_types.TFhirMedicationRequestIntentEnum; overload;
    class function convertMedicationRequestPriority3(src : fhir3_types.TFhirMedicationRequestPriorityEnum) : fhir4_types.TFhirRequestPriorityEnum; overload;
    class function convertMedicationRequestPriority4(src : fhir4_types.TFhirRequestPriorityEnum) : fhir3_types.TFhirMedicationRequestPriorityEnum; overload;
    class function convertMedicationStatementStatus3(src : fhir3_types.TFhirMedicationStatementStatusEnum) : fhir4_types.TFhirMedicationStatementStatusEnum; overload;
    class function convertMedicationStatementStatus4(src : fhir4_types.TFhirMedicationStatementStatusEnum) : fhir3_types.TFhirMedicationStatementStatusEnum; overload;
    class function convertMessageSignificanceCategory3(src : fhir3_types.TFhirMessageSignificanceCategoryEnum) : fhir4_types.TFhirMessageSignificanceCategoryEnum; overload;
    class function convertMessageSignificanceCategory4(src : fhir4_types.TFhirMessageSignificanceCategoryEnum) : fhir3_types.TFhirMessageSignificanceCategoryEnum; overload;
    class function convertProvenanceEntityRole4(src : fhir4_types.TFhirProvenanceEntityRoleEnum) : fhir3_types.TFhirProvenanceEntityRoleEnum; overload;
    class function convertProvenanceEntityRole3(src : fhir3_types.TFhirProvenanceEntityRoleEnum) : fhir4_types.TFhirProvenanceEntityRoleEnum; overload;
    class function convertResponseType3(src : fhir3_types.TFhirResponseCodeEnum) : fhir4_types.TFhirResponseCodeEnum; overload;
    class function convertResponseType4(src : fhir4_types.TFhirResponseCodeEnum) : fhir3_types.TFhirResponseCodeEnum; overload;
    class function convertNamingSystemType3(src : fhir3_types.TFhirNamingsystemTypeEnum) : fhir4_types.TFhirNamingsystemTypeEnum; overload;
    class function convertNamingSystemType4(src : fhir4_types.TFhirNamingsystemTypeEnum) : fhir3_types.TFhirNamingsystemTypeEnum; overload;
    class function convertNamingSystemIdentifierType3(src : fhir3_types.TFhirNamingsystemIdentifierTypeEnum) : fhir4_types.TFhirNamingsystemIdentifierTypeEnum; overload;
    class function convertNamingSystemIdentifierType4(src : fhir4_types.TFhirNamingsystemIdentifierTypeEnum) : fhir3_types.TFhirNamingsystemIdentifierTypeEnum; overload;
    class function convertObservationStatus3(src : fhir3_types.TFhirObservationStatusEnum) : fhir4_types.TFhirObservationStatusEnum; overload;
    class function convertObservationStatus4(src : fhir4_types.TFhirObservationStatusEnum) : fhir3_types.TFhirObservationStatusEnum; overload;
    class function convertOperationKind3(src : fhir3_types.TFhirOperationKindEnum) : fhir4_types.TFhirOperationKindEnum; overload;
    class function convertOperationKind4(src : fhir4_types.TFhirOperationKindEnum) : fhir3_types.TFhirOperationKindEnum; overload;
    class function convertOperationParameterUse3(src : fhir3_types.TFhirOperationParameterUseEnum) : fhir4_types.TFhirOperationParameterUseEnum; overload;
    class function convertOperationParameterUse4(src : fhir4_types.TFhirOperationParameterUseEnum) : fhir3_types.TFhirOperationParameterUseEnum; overload;
    class function convertIssueSeverity3(src : fhir3_types.TFhirIssueSeverityEnum) : fhir4_types.TFhirIssueSeverityEnum; overload;
    class function convertIssueSeverity4(src : fhir4_types.TFhirIssueSeverityEnum) : fhir3_types.TFhirIssueSeverityEnum; overload;
    class function convertIssueType3(src : fhir3_types.TFhirIssueTypeEnum) : fhir4_types.TFhirIssueTypeEnum; overload;
    class function convertIssueType4(src : fhir4_types.TFhirIssueTypeEnum) : fhir3_types.TFhirIssueTypeEnum; overload;
    class function convertLinkType3(src : fhir3_types.TFhirLinkTypeEnum) : fhir4_types.TFhirLinkTypeEnum; overload;
    class function convertLinkType4(src : fhir4_types.TFhirLinkTypeEnum) : fhir3_types.TFhirLinkTypeEnum; overload;
    class function convertPaymentNoticeStatus3(src : fhir3_types.TFhirFmStatusEnum) : fhir4_types.TFhirFmStatusEnum; overload;
    class function convertPaymentNoticeStatus4(src : fhir4_types.TFhirFmStatusEnum) : fhir3_types.TFhirFmStatusEnum; overload;
    class function convertIdentityAssuranceLevel3(src : fhir3_types.TFhirIdentityAssuranceLevelEnum) : fhir4_types.TFhirIdentityAssuranceLevelEnum; overload;
    class function convertIdentityAssuranceLevel4(src : fhir4_types.TFhirIdentityAssuranceLevelEnum) : fhir3_types.TFhirIdentityAssuranceLevelEnum; overload;
    class function convertQuestionnaireItemType3(src : fhir3_types.TFhirItemTypeEnum) : fhir4_types.TFhirItemTypeEnum; overload;
    class function convertQuestionnaireItemType4(src : fhir4_types.TFhirItemTypeEnum) : fhir3_types.TFhirItemTypeEnum; overload;
    class function convertQuestionnaireResponseStatus3(src : fhir3_types.TFhirQuestionnaireAnswersStatusEnum) : fhir4_types.TFhirQuestionnaireAnswersStatusEnum; overload;
    class function convertQuestionnaireResponseStatus4(src : fhir4_types.TFhirQuestionnaireAnswersStatusEnum) : fhir3_types.TFhirQuestionnaireAnswersStatusEnum; overload;
    class function convertRiskAssessmentStatus3(src : fhir3_types.TFhirObservationStatusEnum) : fhir4_types.TFhirObservationStatusEnum; overload;
    class function convertRiskAssessmentStatus4(src : fhir4_types.TFhirObservationStatusEnum) : fhir3_types.TFhirObservationStatusEnum; overload;
    class function convertXPathUsageType3(src : fhir3_types.TFhirSearchXpathUsageEnum) : fhir4_types.TFhirSearchXpathUsageEnum; overload;
    class function convertXPathUsageType4(src : fhir4_types.TFhirSearchXpathUsageEnum) : fhir3_types.TFhirSearchXpathUsageEnum; overload;
//    class function convertSearchComparator3(src : fhir3_types.TFhirSearchComparatorEnum) : fhir4_types.TFhirSearchComparatorEnum; overload;
//    class function convertSearchComparator4(src : fhir4_types.TFhirSearchComparatorEnum) : fhir3_types.TFhirSearchComparatorEnum; overload;
//    class function convertSearchModifierCode3(src : fhir3_types.TFhirSearchModifierCodeEnum) : fhir4_types.TFhirSearchModifierCodeEnum; overload;
//    class function convertSearchModifierCode4(src : fhir4_types.TFhirSearchModifierCodeEnum) : fhir3_types.TFhirSearchModifierCodeEnum; overload;
    class function convertQualityType3(src : fhir3_types.TFhirQualityTypeEnum) : fhir4_types.TFhirQualityTypeEnum; overload;
    class function convertQualityType4(src : fhir4_types.TFhirQualityTypeEnum) : fhir3_types.TFhirQualityTypeEnum; overload;
    class function convertRepositoryType3(src : fhir3_types.TFhirRepositoryTypeEnum) : fhir4_types.TFhirRepositoryTypeEnum; overload;
    class function convertRepositoryType4(src : fhir4_types.TFhirRepositoryTypeEnum) : fhir3_types.TFhirRepositoryTypeEnum; overload;
    class function convertSlotStatus3(src : fhir3_types.TFhirSlotstatusEnum) : fhir4_types.TFhirSlotstatusEnum; overload;
    class function convertSlotStatus4(src : fhir4_types.TFhirSlotstatusEnum) : fhir3_types.TFhirSlotstatusEnum; overload;
    class function convertSpecimenStatus3(src : fhir3_types.TFhirSpecimenStatusEnum) : fhir4_types.TFhirSpecimenStatusEnum; overload;
    class function convertSpecimenStatus4(src : fhir4_types.TFhirSpecimenStatusEnum) : fhir3_types.TFhirSpecimenStatusEnum; overload;
    class function convertStructureDefinitionKind3(src : fhir3_types.TFhirStructureDefinitionKindEnum) : fhir4_types.TFhirStructureDefinitionKindEnum; overload;
    class function convertStructureDefinitionKind4(src : fhir4_types.TFhirStructureDefinitionKindEnum) : fhir3_types.TFhirStructureDefinitionKindEnum; overload;
    class function convertExtensionContext3(src : fhir3_types.TFhirExtensionContextEnum) : fhir4_types.TFhirExtensionContextTypeEnum; overload;
    class function convertExtensionContext4(src : fhir4_types.TFhirExtensionContextTypeEnum) : fhir3_types.TFhirExtensionContextEnum; overload;
    class function convertTypeDerivationRule3(src : fhir3_types.TFhirTypeDerivationRuleEnum) : fhir4_types.TFhirTypeDerivationRuleEnum; overload;
    class function convertTypeDerivationRule4(src : fhir4_types.TFhirTypeDerivationRuleEnum) : fhir3_types.TFhirTypeDerivationRuleEnum; overload;
    class function convertStructureMapModelMode3(src : fhir3_types.TFhirMapModelModeEnum) : fhir4_types.TFhirMapModelModeEnum; overload;
    class function convertStructureMapModelMode4(src : fhir4_types.TFhirMapModelModeEnum) : fhir3_types.TFhirMapModelModeEnum; overload;
    class function convertStructureMapGroupTypeMode3(src : fhir3_types.TFhirMapGroupTypeModeEnum) : fhir4_types.TFhirMapGroupTypeModeEnum; overload;
    class function convertStructureMapGroupTypeMode4(src : fhir4_types.TFhirMapGroupTypeModeEnum) : fhir3_types.TFhirMapGroupTypeModeEnum; overload;
    class function convertStructureMapInputMode3(src : fhir3_types.TFhirMapInputModeEnum) : fhir4_types.TFhirMapInputModeEnum; overload;
    class function convertStructureMapInputMode4(src : fhir4_types.TFhirMapInputModeEnum) : fhir3_types.TFhirMapInputModeEnum; overload;
    class function convertStructureMapSourceListMode3(src : fhir3_types.TFhirMapSourceListModeEnum) : fhir4_types.TFhirMapSourceListModeEnum; overload;
    class function convertStructureMapSourceListMode4(src : fhir4_types.TFhirMapSourceListModeEnum) : fhir3_types.TFhirMapSourceListModeEnum; overload;
    class function convertStructureMapContextType3(src : fhir3_types.TFhirMapContextTypeEnum) : fhir4_types.TFhirMapContextTypeEnum; overload;
    class function convertStructureMapContextType4(src : fhir4_types.TFhirMapContextTypeEnum) : fhir3_types.TFhirMapContextTypeEnum; overload;
    class function convertStructureMapTargetListMode3(src : fhir3_types.TFhirMapTargetListModeEnum) : fhir4_types.TFhirMapTargetListModeEnum; overload;
    class function convertStructureMapTargetListMode4(src : fhir4_types.TFhirMapTargetListModeEnum) : fhir3_types.TFhirMapTargetListModeEnum; overload;
    class function convertStructureMapTransform3(src : fhir3_types.TFhirMapTransformEnum) : fhir4_types.TFhirMapTransformEnum; overload;
    class function convertStructureMapTransform4(src : fhir4_types.TFhirMapTransformEnum) : fhir3_types.TFhirMapTransformEnum; overload;
    class function convertSubscriptionStatus3(src : fhir3_types.TFhirSubscriptionStatusEnum) : fhir4_types.TFhirSubscriptionStatusEnum; overload;
    class function convertSubscriptionStatus4(src : fhir4_types.TFhirSubscriptionStatusEnum) : fhir3_types.TFhirSubscriptionStatusEnum; overload;
    class function convertSubscriptionChannelType3(src : fhir3_types.TFhirSubscriptionChannelTypeEnum) : fhir4_types.TFhirSubscriptionChannelTypeEnum; overload;
    class function convertSubscriptionChannelType4(src : fhir4_types.TFhirSubscriptionChannelTypeEnum) : fhir3_types.TFhirSubscriptionChannelTypeEnum; overload;
    class function convertFHIRSubstanceStatus3(src : fhir3_types.TFhirSubstanceStatusEnum) : fhir4_types.TFhirSubstanceStatusEnum; overload;
    class function convertFHIRSubstanceStatus4(src : fhir4_types.TFhirSubstanceStatusEnum) : fhir3_types.TFhirSubstanceStatusEnum; overload;
    class function convertSupplyDeliveryStatus3(src : fhir3_types.TFhirSupplydeliveryStatusEnum) : fhir4_types.TFhirSupplydeliveryStatusEnum; overload;
    class function convertSupplyDeliveryStatus4(src : fhir4_types.TFhirSupplydeliveryStatusEnum) : fhir3_types.TFhirSupplydeliveryStatusEnum; overload;
//    class function convertContentType3(src : fhir3_types.TFhirContentTypeEnum) : String; overload;
    class function convertActionGroupingBehavior3(src : fhir3_types.TFhirActionGroupingBehaviorEnum) : fhir4_types.TFhirActionGroupingBehaviorEnum; overload;
    class function convertActionGroupingBehavior4(src : fhir4_types.TFhirActionGroupingBehaviorEnum) : fhir3_types.TFhirActionGroupingBehaviorEnum; overload;
    class function convertActionSelectionBehavior3(src : fhir3_types.TFhirActionSelectionBehaviorEnum) : fhir4_types.TFhirActionSelectionBehaviorEnum; overload;
    class function convertActionSelectionBehavior4(src : fhir4_types.TFhirActionSelectionBehaviorEnum) : fhir3_types.TFhirActionSelectionBehaviorEnum; overload;
    class function convertActionRequiredBehavior3(src : fhir3_types.TFhirActionRequiredBehaviorEnum) : fhir4_types.TFhirActionRequiredBehaviorEnum; overload;
    class function convertActionRequiredBehavior4(src : fhir4_types.TFhirActionRequiredBehaviorEnum) : fhir3_types.TFhirActionRequiredBehaviorEnum; overload;
    class function convertActionPrecheckBehavior3(src : fhir3_types.TFhirActionPrecheckBehaviorEnum) : fhir4_types.TFhirActionPrecheckBehaviorEnum; overload;
    class function convertActionPrecheckBehavior4(src : fhir4_types.TFhirActionPrecheckBehaviorEnum) : fhir3_types.TFhirActionPrecheckBehaviorEnum; overload;
    class function convertActionCardinalityBehavior3(src : fhir3_types.TFhirActionCardinalityBehaviorEnum) : fhir4_types.TFhirActionCardinalityBehaviorEnum; overload;
    class function convertActionCardinalityBehavior4(src : fhir4_types.TFhirActionCardinalityBehaviorEnum) : fhir3_types.TFhirActionCardinalityBehaviorEnum; overload;
    class function convertActionConditionKind3(src : fhir3_types.TFhirActionConditionKindEnum) : fhir4_types.TFhirActionConditionKindEnum; overload;
    class function convertActionConditionKind4(src : fhir4_types.TFhirActionConditionKindEnum) : fhir3_types.TFhirActionConditionKindEnum; overload;
    class function convertActionRelationshipType3(src : fhir3_types.TFhirActionRelationshipTypeEnum) : fhir4_types.TFhirActionRelationshipTypeEnum; overload;
    class function convertActionRelationshipType4(src : fhir4_types.TFhirActionRelationshipTypeEnum) : fhir3_types.TFhirActionRelationshipTypeEnum; overload;
    class function convertActionParticipantType3(src : fhir3_types.TFhirActionParticipantTypeEnum) : fhir4_types.TFhirActionParticipantTypeEnum; overload;
    class function convertActionParticipantType4(src : fhir4_types.TFhirActionParticipantTypeEnum) : fhir3_types.TFhirActionParticipantTypeEnum; overload;
  public
    class function convertBase64Binary3(src : fhir3_types.TFhirBase64Binary) : fhir4_types.TFhirBase64Binary; overload;
    class function convertBase64Binary4(src : fhir4_types.TFhirBase64Binary) : fhir3_types.TFhirBase64Binary; overload;
    class function convertBoolean3(src : fhir3_types.TFhirBoolean) : fhir4_types.TFhirBoolean; overload;
    class function convertBoolean4(src : fhir4_types.TFhirBoolean) : fhir3_types.TFhirBoolean; overload;
    class function convertCode3(src : fhir3_types.TFhirCode) : fhir4_types.TFhirCode; overload;
    class function convertCode4(src : fhir4_types.TFhirCode) : fhir3_types.TFhirCode; overload;
    class function convertCode3(src : fhir3_types.TFhirEnum) : fhir4_types.TFhirEnum; overload;
    class function convertCode4(src : fhir4_types.TFhirEnum) : fhir3_types.TFhirEnum; overload;
    class function convertDate3(src : fhir3_types.TFhirDate) : fhir4_types.TFhirDate; overload;
    class function convertDate4(src : fhir4_types.TFhirDate) : fhir3_types.TFhirDate; overload;
    class function convertDateTime3(src : fhir3_types.TFhirDateTime) : fhir4_types.TFhirDateTime; overload;
    class function convertDateTime4(src : fhir4_types.TFhirDateTime) : fhir3_types.TFhirDateTime; overload;
    class function convertDecimal3(src : fhir3_types.TFhirDecimal) : fhir4_types.TFhirDecimal; overload;
    class function convertDecimal4(src : fhir4_types.TFhirDecimal) : fhir3_types.TFhirDecimal; overload;
    class function convertId3(src : fhir3_types.TFhirId) : fhir4_types.TFhirId; overload;
    class function convertId4(src : fhir4_types.TFhirId) : fhir3_types.TFhirId; overload;
    class function convertInstant3(src : fhir3_types.TFhirInstant) : fhir4_types.TFhirInstant; overload;
    class function convertInstant4(src : fhir4_types.TFhirInstant) : fhir3_types.TFhirInstant; overload;
    class function convertInteger3(src : fhir3_types.TFhirInteger) : fhir4_types.TFhirInteger; overload;
    class function convertInteger4(src : fhir4_types.TFhirInteger) : fhir3_types.TFhirInteger; overload;
    class function convertMarkdown3(src : fhir3_types.TFhirMarkdown) : fhir4_types.TFhirMarkdown; overload;
    class function convertMarkdown4(src : fhir4_types.TFhirMarkdown) : fhir3_types.TFhirMarkdown; overload;
    class function convertOid3(src : fhir3_types.TFhirOid) : fhir4_types.TFhirOid; overload;
    class function convertOid4(src : fhir4_types.TFhirOid) : fhir3_types.TFhirOid; overload;
    class function convertPositiveInt3(src : fhir3_types.TFhirPositiveInt) : fhir4_types.TFhirPositiveInt; overload;
    class function convertPositiveInt4(src : fhir4_types.TFhirPositiveInt) : fhir3_types.TFhirPositiveInt; overload;
    class function convertString3(src : fhir3_types.TFhirString) : fhir4_types.TFhirString; overload;
    class function convertString2CodeableConcept3(src : fhir3_types.TFhirString) : fhir4_types.TFhirCodeableConcept; overload;
    class function convertString4(src : fhir4_types.TFhirString) : fhir3_types.TFhirString; overload;
    class function convertTime3(src : fhir3_types.TFhirTime) : fhir4_types.TFhirTime; overload;
    class function convertTime4(src : fhir4_types.TFhirTime) : fhir3_types.TFhirTime; overload;
    class function convertUnsignedInt3(src : fhir3_types.TFhirUnsignedInt) : fhir4_types.TFhirUnsignedInt; overload;
    class function convertUnsignedInt4(src : fhir4_types.TFhirUnsignedInt) : fhir3_types.TFhirUnsignedInt; overload;
    class function convertUri3(src : fhir3_types.TFhirUri) : fhir4_types.TFhirUri; overload;
    class function convertUriToCanonical3(src : fhir3_types.TFhirUri) : fhir4_types.TFhirCanonical; overload;
    class function convertUriToUrl3(src : fhir3_types.TFhirUri) : fhir4_types.TFhirUrl; overload;
    class function convertUri4(src : fhir4_types.TFhirUri) : fhir3_types.TFhirUri; overload;
    class function convertUuid3(src : fhir3_types.TFhirUuid) : fhir4_types.TFhirUuid; overload;
    class function convertUuid4(src : fhir4_types.TFhirUuid) : fhir3_types.TFhirUuid; overload;
    class function convertExtension3(src : fhir3_types.TFhirExtension) : fhir4_types.TFhirExtension; overload;
    class function convertExtension4(src : fhir4_types.TFhirExtension) : fhir3_types.TFhirExtension; overload;
    class function convertNarrative3(src : fhir3_types.TFhirNarrative) : fhir4_types.TFhirNarrative; overload;
    class function convertNarrative4(src : fhir4_types.TFhirNarrative) : fhir3_types.TFhirNarrative; overload;
    class function convertAge3(src : fhir3_types.TFhirAge) : fhir4_types.TFhirAge; overload;
    class function convertAge4(src : fhir4_types.TFhirAge) : fhir3_types.TFhirAge; overload;
    class function convertAnnotation3(src : fhir3_types.TFhirAnnotation) : fhir4_types.TFhirAnnotation; overload;
    class function convertAnnotation4(src : fhir4_types.TFhirAnnotation) : fhir3_types.TFhirAnnotation; overload;
    class function convertAttachment3(src : fhir3_types.TFhirAttachment) : fhir4_types.TFhirAttachment; overload;
    class function convertAttachment4(src : fhir4_types.TFhirAttachment) : fhir3_types.TFhirAttachment; overload;
    class function convertCodeableConcept3(src : fhir3_types.TFhirCodeableConcept) : fhir4_types.TFhirCodeableConcept; overload;
    class function convertCodeableConcept4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirCodeableConcept; overload;
    class function convertCodeableConceptToCoding4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirCoding; overload;
    class function convertCodeableConceptToCoding3(src : fhir3_types.TFhirCodeableConcept) : fhir4_types.TFhirCoding; overload;
    class function convertCoding3(src : fhir3_types.TFhirCoding) : fhir4_types.TFhirCoding; overload;
    class function convertCoding4(src : fhir4_types.TFhirCoding) : fhir3_types.TFhirCoding; overload;
    class function convertCoding3(src : fhir3_types.TFhirCode) : fhir4_types.TFhirCoding; overload;
    class function convertCoding3(src : fhir3_types.TFhirCodeableConcept) : fhir4_types.TFhirCoding; overload;
    class function convertCoding4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirCoding; overload;
    class function convertCodingToCodeableConcept3(src : fhir3_types.TFhirCoding) : fhir4_types.TFhirCodeableConcept; overload;
    class function convertCodingToCodeableConcept4(src : fhir4_types.TFhirCoding) : fhir3_types.TFhirCodeableConcept; overload;
    class function convertCount3(src : fhir3_types.TFhirCount) : fhir4_types.TFhirCount; overload;
    class function convertCount4(src : fhir4_types.TFhirCount) : fhir3_types.TFhirCount; overload;
    class function convertDistance3(src : fhir3_types.TFhirDistance) : fhir4_types.TFhirDistance; overload;
    class function convertDistance4(src : fhir4_types.TFhirDistance) : fhir3_types.TFhirDistance; overload;
    class function convertDuration3(src : fhir3_types.TFhirDuration) : fhir4_types.TFhirDuration; overload;
    class function convertDuration4(src : fhir4_types.TFhirDuration) : fhir3_types.TFhirDuration; overload;
    class function convertIdentifier3(src : fhir3_types.TFhirIdentifier) : fhir4_types.TFhirIdentifier; overload;
    class function convertIdentifier4(src : fhir4_types.TFhirIdentifier) : fhir3_types.TFhirIdentifier; overload;
    class function convertMoney3(src : fhir3_types.TFhirMoney) : fhir4_types.TFhirMoney; overload;
    class function convertMoney4(src : fhir4_types.TFhirMoney) : fhir3_types.TFhirMoney; overload;
    class function convertPeriod3(src : fhir3_types.TFhirPeriod) : fhir4_types.TFhirPeriod; overload;
    class function convertPeriod4(src : fhir4_types.TFhirPeriod) : fhir3_types.TFhirPeriod; overload;
    class procedure copyQuantity3(src : fhir3_types.TFhirQuantity; tgt : fhir4_types.TFhirQuantity); overload;
    class procedure copyQuantity4(src : fhir4_types.TFhirQuantity; tgt : fhir3_types.TFhirQuantity); overload;
    class function convertQuantity3(src : fhir3_types.TFhirQuantity) : fhir4_types.TFhirQuantity; overload;
    class function convertQuantity4(src : fhir4_types.TFhirQuantity) : fhir3_types.TFhirQuantity; overload;
    class function convertRange3(src : fhir3_types.TFhirRange) : fhir4_types.TFhirRange; overload;
    class function convertRange4(src : fhir4_types.TFhirRange) : fhir3_types.TFhirRange; overload;
    class function convertRatio3(src : fhir3_types.TFhirRatio) : fhir4_types.TFhirRatio; overload;
    class function convertRatio4(src : fhir4_types.TFhirRatio) : fhir3_types.TFhirRatio; overload;
    class function convertReference3(src : fhir3_types.TFhirReference) : fhir4_types.TFhirReference; overload;
    class function convertReference4(src : fhir4_types.TFhirReference) : fhir3_types.TFhirReference; overload;
    class function convertSampledData3(src : fhir3_types.TFhirSampledData) : fhir4_types.TFhirSampledData; overload;
    class function convertSampledData4(src : fhir4_types.TFhirSampledData) : fhir3_types.TFhirSampledData; overload;
    class function convertSignature3(src : fhir3_types.TFhirSignature) : fhir4_types.TFhirSignature; overload;
    class function convertSignature4(src : fhir4_types.TFhirSignature) : fhir3_types.TFhirSignature; overload;
    class function convertAddress3(src : fhir3_types.TFhirAddress) : fhir4_types.TFhirAddress; overload;
    class function convertAddress4(src : fhir4_types.TFhirAddress) : fhir3_types.TFhirAddress; overload;
    class function convertContactDetail3(src : fhir3_types.TFhirContactDetail) : fhir4_types.TFhirContactDetail; overload;
    class function convertContactDetail4(src : fhir4_types.TFhirContactDetail) : fhir3_types.TFhirContactDetail; overload;
    class function convertContactPoint3(src : fhir3_types.TFhirContactPoint) : fhir4_types.TFhirContactPoint; overload;
    class function convertContactPoint4(src : fhir4_types.TFhirContactPoint) : fhir3_types.TFhirContactPoint; overload;
    class function convertContributor3(src : fhir3_types.TFhirContributor) : fhir4_types.TFhirContributor; overload;
    class function convertContributor4(src : fhir4_types.TFhirContributor) : fhir3_types.TFhirContributor; overload;
    class function convertDosage3(src : fhir3_types.TFhirDosage) : fhir4_types.TFhirDosage; overload;
    class function convertDosage4(src : fhir4_types.TFhirDosage) : fhir3_types.TFhirDosage; overload;
    class function convertElementDefinition3(src : fhir3_types.TFhirElementDefinition) : fhir4_types.TFhirElementDefinition; overload;
    class function convertElementDefinition4(src : fhir4_types.TFhirElementDefinition) : fhir3_types.TFhirElementDefinition; overload;
    class function convertElementDefinitionSlicingComponent3(src : fhir3_types.TFhirElementDefinitionSlicing) : fhir4_types.TFhirElementDefinitionSlicing; overload;
    class function convertElementDefinitionSlicingComponent4(src : fhir4_types.TFhirElementDefinitionSlicing) : fhir3_types.TFhirElementDefinitionSlicing; overload;
    class function convertElementDefinitionSlicingDiscriminatorComponent3(src : fhir3_types.TFhirElementDefinitionSlicingDiscriminator) : fhir4_types.TFhirElementDefinitionSlicingDiscriminator; overload;
    class function convertElementDefinitionSlicingDiscriminatorComponent4(src : fhir4_types.TFhirElementDefinitionSlicingDiscriminator) : fhir3_types.TFhirElementDefinitionSlicingDiscriminator; overload;
    class function convertElementDefinitionBaseComponent3(src : fhir3_types.TFhirElementDefinitionBase) : fhir4_types.TFhirElementDefinitionBase; overload;
    class function convertElementDefinitionBaseComponent4(src : fhir4_types.TFhirElementDefinitionBase) : fhir3_types.TFhirElementDefinitionBase; overload;
    class procedure convertTypeRefComponent3(src : fhir3_types.TFhirElementDefinitionType; list : fhir4_types.TFhirElementDefinitionTypeList); overload;
    class procedure convertTypeRefComponent4(src : fhir4_types.TFhirElementDefinitionType; list : fhir3_types.TFhirElementDefinitionTypeList); overload;
    class function convertElementDefinitionExampleComponent3(src : fhir3_types.TFhirElementDefinitionExample) : fhir4_types.TFhirElementDefinitionExample; overload;
    class function convertElementDefinitionExampleComponent4(src : fhir4_types.TFhirElementDefinitionExample) : fhir3_types.TFhirElementDefinitionExample; overload;
    class function convertElementDefinitionConstraintComponent3(src : fhir3_types.TFhirElementDefinitionConstraint) : fhir4_types.TFhirElementDefinitionConstraint; overload;
    class function convertElementDefinitionConstraintComponent4(src : fhir4_types.TFhirElementDefinitionConstraint) : fhir3_types.TFhirElementDefinitionConstraint; overload;
    class function convertElementDefinitionBindingComponent3(src : fhir3_types.TFhirElementDefinitionBinding) : fhir4_types.TFhirElementDefinitionBinding; overload;
    class function convertElementDefinitionBindingComponent4(src : fhir4_types.TFhirElementDefinitionBinding) : fhir3_types.TFhirElementDefinitionBinding; overload;
    class function convertElementDefinitionMappingComponent3(src : fhir3_types.TFhirElementDefinitionMapping) : fhir4_types.TFhirElementDefinitionMapping; overload;
    class function convertElementDefinitionMappingComponent4(src : fhir4_types.TFhirElementDefinitionMapping) : fhir3_types.TFhirElementDefinitionMapping; overload;
    class function convertHumanName3(src : fhir3_types.TFhirHumanName) : fhir4_types.TFhirHumanName; overload;
    class function convertHumanName4(src : fhir4_types.TFhirHumanName) : fhir3_types.TFhirHumanName; overload;
    class function convertMeta3(src : fhir3_types.TFhirMeta) : fhir4_types.TFhirMeta; overload;
    class function convertMeta4(src : fhir4_types.TFhirMeta) : fhir3_types.TFhirMeta; overload;
    class function convertParameterDefinition3(src : fhir3_types.TFhirParameterDefinition) : fhir4_types.TFhirParameterDefinition; overload;
    class function convertParameterDefinition4(src : fhir4_types.TFhirParameterDefinition) : fhir3_types.TFhirParameterDefinition; overload;
    class function convertRelatedArtifact3(src : fhir3_types.TFhirRelatedArtifact) : fhir4_types.TFhirRelatedArtifact; overload;
    class function convertRelatedArtifact4(src : fhir4_types.TFhirRelatedArtifact) : fhir3_types.TFhirRelatedArtifact; overload;
    class function convertTiming3(src : fhir3_types.TFhirTiming) : fhir4_types.TFhirTiming; overload;
    class function convertTiming4(src : fhir4_types.TFhirTiming) : fhir3_types.TFhirTiming; overload;
    class function convertTimingRepeatComponent3(src : fhir3_types.TFhirTimingRepeat) : fhir4_types.TFhirTimingRepeat; overload;
    class function convertTimingRepeatComponent4(src : fhir4_types.TFhirTimingRepeat) : fhir3_types.TFhirTimingRepeat; overload;
    class function convertUsageContext3(src : fhir3_types.TFhirUsageContext) : fhir4_types.TFhirUsageContext; overload;
    class function convertUsageContext4(src : fhir4_types.TFhirUsageContext) : fhir3_types.TFhirUsageContext; overload;
    class function convertSimpleQuantity3(src : fhir3_types.TFhirQuantity) : fhir4_types.TFhirQuantity; overload;
    class function convertSimpleQuantity4(src : fhir4_types.TFhirQuantity) : fhir3_types.TFhirQuantity; overload;
    class function convertTriggerDefinition3(src : fhir3_types.TFhirTriggerDefinition) : fhir4_types.TFhirTriggerDefinition; overload;
    class function convertTriggerDefinition4(src : fhir4_types.TFhirTriggerDefinition) : fhir3_types.TFhirTriggerDefinition; overload;
    class function convertDataRequirement3(src : fhir3_types.TFhirDataRequirement) : fhir4_types.TFhirDataRequirement; overload;
    class function convertDataRequirement4(src : fhir4_types.TFhirDataRequirement) : fhir3_types.TFhirDataRequirement; overload;
    class function convertDataRequirementCodeFilterComponent3(src : fhir3_types.TFhirDataRequirementCodeFilter) : fhir4_types.TFhirDataRequirementCodeFilter; overload;
    class function convertDataRequirementCodeFilterComponent4(src : fhir4_types.TFhirDataRequirementCodeFilter) : fhir3_types.TFhirDataRequirementCodeFilter; overload;
    class function convertDataRequirementDateFilterComponent3(src : fhir3_types.TFhirDataRequirementDateFilter) : fhir4_types.TFhirDataRequirementDateFilter; overload;
    class function convertDataRequirementDateFilterComponent4(src : fhir4_types.TFhirDataRequirementDateFilter) : fhir3_types.TFhirDataRequirementDateFilter; overload;
    class function convertType3(src : fhir3_types.TFhirType) : fhir4_types.TFhirType; overload;
    class function convertType4(src : fhir4_types.TFhirType) : fhir3_types.TFhirType; overload;
    class function convertParameters3(src : fhir3_resources.TFhirParameters) : fhir4_resources.TFhirParameters; overload;
    class function convertParameters4(src : fhir4_resources.TFhirParameters) : fhir3_resources.TFhirParameters; overload;
    class function convertParametersParameterComponent3(src : fhir3_resources.TFhirParametersParameter) : fhir4_resources.TFhirParametersParameter; overload;
    class function convertParametersParameterComponent4(src : fhir4_resources.TFhirParametersParameter) : fhir3_resources.TFhirParametersParameter; overload;
    class function convertActivityDefinition3(src : fhir3_resources.TFhirActivityDefinition) : fhir4_resources.TFhirActivityDefinition; overload;
    class function convertActivityDefinition4(src : fhir4_resources.TFhirActivityDefinition) : fhir3_resources.TFhirActivityDefinition; overload;
    class function convertActivityDefinitionParticipantComponent3(src : fhir3_resources.TFhirActivityDefinitionParticipant) : fhir4_resources.TFhirActivityDefinitionParticipant; overload;
    class function convertActivityDefinitionParticipantComponent4(src : fhir4_resources.TFhirActivityDefinitionParticipant) : fhir3_resources.TFhirActivityDefinitionParticipant; overload;
    class function convertActivityDefinitionDynamicValueComponent3(src : fhir3_resources.TFhirActivityDefinitionDynamicValue) : fhir4_resources.TFhirActivityDefinitionDynamicValue; overload;
    class function convertActivityDefinitionDynamicValueComponent4(src : fhir4_resources.TFhirActivityDefinitionDynamicValue) : fhir3_resources.TFhirActivityDefinitionDynamicValue; overload;
    class function convertAllergyIntolerance3(src : fhir3_resources.TFhirAllergyIntolerance) : fhir4_resources.TFhirAllergyIntolerance; overload;
    class function convertAllergyIntolerance4(src : fhir4_resources.TFhirAllergyIntolerance) : fhir3_resources.TFhirAllergyIntolerance; overload;
    class function convertAllergyIntoleranceReactionComponent3(src : fhir3_resources.TFhirAllergyIntoleranceReaction) : fhir4_resources.TFhirAllergyIntoleranceReaction; overload;
    class function convertAllergyIntoleranceReactionComponent4(src : fhir4_resources.TFhirAllergyIntoleranceReaction) : fhir3_resources.TFhirAllergyIntoleranceReaction; overload;
    class function convertAppointment3(src : fhir3_resources.TFhirAppointment) : fhir4_resources.TFhirAppointment; overload;
    class function convertAppointment4(src : fhir4_resources.TFhirAppointment) : fhir3_resources.TFhirAppointment; overload;
    class function convertAppointmentParticipantComponent3(src : fhir3_resources.TFhirAppointmentParticipant) : fhir4_resources.TFhirAppointmentParticipant; overload;
    class function convertAppointmentParticipantComponent4(src : fhir4_resources.TFhirAppointmentParticipant) : fhir3_resources.TFhirAppointmentParticipant; overload;
    class function convertAppointmentResponse3(src : fhir3_resources.TFhirAppointmentResponse) : fhir4_resources.TFhirAppointmentResponse; overload;
    class function convertAppointmentResponse4(src : fhir4_resources.TFhirAppointmentResponse) : fhir3_resources.TFhirAppointmentResponse; overload;
    class function convertAuditEvent3(src : fhir3_resources.TFhirAuditEvent) : fhir4_resources.TFhirAuditEvent; overload;
    class function convertAuditEvent4(src : fhir4_resources.TFhirAuditEvent) : fhir3_resources.TFhirAuditEvent; overload;
    class function convertAuditEventAgentComponent3(src : fhir3_resources.TFhirAuditEventAgent) : fhir4_resources.TFhirAuditEventAgent; overload;
    class function convertAuditEventAgentComponent4(src : fhir4_resources.TFhirAuditEventAgent) : fhir3_resources.TFhirAuditEventAgent; overload;
    class function convertAuditEventAgentNetworkComponent3(src : fhir3_resources.TFhirAuditEventAgentNetwork) : fhir4_resources.TFhirAuditEventAgentNetwork; overload;
    class function convertAuditEventAgentNetworkComponent4(src : fhir4_resources.TFhirAuditEventAgentNetwork) : fhir3_resources.TFhirAuditEventAgentNetwork; overload;
    class function convertAuditEventSourceComponent3(src : fhir3_resources.TFhirAuditEventSource) : fhir4_resources.TFhirAuditEventSource; overload;
    class function convertAuditEventSourceComponent4(src : fhir4_resources.TFhirAuditEventSource) : fhir3_resources.TFhirAuditEventSource; overload;
    class function convertAuditEventEntityComponent3(src : fhir3_resources.TFhirAuditEventEntity) : fhir4_resources.TFhirAuditEventEntity; overload;
    class function convertAuditEventEntityComponent4(src : fhir4_resources.TFhirAuditEventEntity) : fhir3_resources.TFhirAuditEventEntity; overload;
    class function convertAuditEventEntityDetailComponent3(src : fhir3_resources.TFhirAuditEventEntityDetail) : fhir4_resources.TFhirAuditEventEntityDetail; overload;
    class function convertAuditEventEntityDetailComponent4(src : fhir4_resources.TFhirAuditEventEntityDetail) : fhir3_resources.TFhirAuditEventEntityDetail; overload;
    class function convertBasic3(src : fhir3_resources.TFhirBasic) : fhir4_resources.TFhirBasic; overload;
    class function convertBasic4(src : fhir4_resources.TFhirBasic) : fhir3_resources.TFhirBasic; overload;
    class function convertBinary3(src : fhir3_resources.TFhirBinary) : fhir4_resources.TFhirBinary; overload;
    class function convertBinary4(src : fhir4_resources.TFhirBinary) : fhir3_resources.TFhirBinary; overload;
    class function convertBodySite3(src : fhir3_resources.TFhirBodySite) : fhir4_resources.TFhirBodyStructure; overload;
    class function convertBodySite4(src : fhir4_resources.TFhirBodyStructure) : fhir3_resources.TFhirBodySite; overload;
    class function convertBundle3(src : fhir3_resources.TFhirBundle) : fhir4_resources.TFhirBundle; overload;
    class function convertBundle4(src : fhir4_resources.TFhirBundle) : fhir3_resources.TFhirBundle; overload;
    class function convertBundleLinkComponent3(src : fhir3_resources.TFhirBundleLink) : fhir4_resources.TFhirBundleLink; overload;
    class function convertBundleLinkComponent4(src : fhir4_resources.TFhirBundleLink) : fhir3_resources.TFhirBundleLink; overload;
    class function convertBundleEntryComponent3(src : fhir3_resources.TFhirBundleEntry) : fhir4_resources.TFhirBundleEntry; overload;
    class function convertBundleEntryComponent4(src : fhir4_resources.TFhirBundleEntry) : fhir3_resources.TFhirBundleEntry; overload;
    class function convertBundleEntrySearchComponent3(src : fhir3_resources.TFhirBundleEntrySearch) : fhir4_resources.TFhirBundleEntrySearch; overload;
    class function convertBundleEntrySearchComponent4(src : fhir4_resources.TFhirBundleEntrySearch) : fhir3_resources.TFhirBundleEntrySearch; overload;
    class function convertBundleEntryRequestComponent3(src : fhir3_resources.TFhirBundleEntryRequest) : fhir4_resources.TFhirBundleEntryRequest; overload;
    class function convertBundleEntryRequestComponent4(src : fhir4_resources.TFhirBundleEntryRequest) : fhir3_resources.TFhirBundleEntryRequest; overload;
    class function convertBundleEntryResponseComponent3(src : fhir3_resources.TFhirBundleEntryResponse) : fhir4_resources.TFhirBundleEntryResponse; overload;
    class function convertBundleEntryResponseComponent4(src : fhir4_resources.TFhirBundleEntryResponse) : fhir3_resources.TFhirBundleEntryResponse; overload;
    class function convertCapabilityStatement3(src : fhir3_resources.TFhirCapabilityStatement) : fhir4_resources.TFhirCapabilityStatement; overload;
    class function convertCapabilityStatement4(src : fhir4_resources.TFhirCapabilityStatement) : fhir3_resources.TFhirCapabilityStatement; overload;
    class function convertCapabilityStatementSoftwareComponent3(src : fhir3_resources.TFhirCapabilityStatementSoftware) : fhir4_resources.TFhirCapabilityStatementSoftware; overload;
    class function convertCapabilityStatementSoftwareComponent4(src : fhir4_resources.TFhirCapabilityStatementSoftware) : fhir3_resources.TFhirCapabilityStatementSoftware; overload;
    class function convertCapabilityStatementImplementationComponent3(src : fhir3_resources.TFhirCapabilityStatementImplementation) : fhir4_resources.TFhirCapabilityStatementImplementation; overload;
    class function convertCapabilityStatementImplementationComponent4(src : fhir4_resources.TFhirCapabilityStatementImplementation) : fhir3_resources.TFhirCapabilityStatementImplementation; overload;
    class function convertCapabilityStatementRestComponent3(src : fhir3_resources.TFhirCapabilityStatementRest) : fhir4_resources.TFhirCapabilityStatementRest; overload;
    class function convertCapabilityStatementRestComponent4(src : fhir4_resources.TFhirCapabilityStatementRest) : fhir3_resources.TFhirCapabilityStatementRest; overload;
    class function convertCapabilityStatementRestSecurityComponent3(src : fhir3_resources.TFhirCapabilityStatementRestSecurity) : fhir4_resources.TFhirCapabilityStatementRestSecurity; overload;
    class function convertCapabilityStatementRestSecurityComponent4(src : fhir4_resources.TFhirCapabilityStatementRestSecurity) : fhir3_resources.TFhirCapabilityStatementRestSecurity; overload;
    class function convertCapabilityStatementRestResourceComponent3(src : fhir3_resources.TFhirCapabilityStatementRestResource) : fhir4_resources.TFhirCapabilityStatementRestResource; overload;
    class function convertCapabilityStatementRestResourceComponent4(src : fhir4_resources.TFhirCapabilityStatementRestResource) : fhir3_resources.TFhirCapabilityStatementRestResource; overload;
    class function convertResourceInteractionComponent3(src : fhir3_resources.TFhirCapabilityStatementRestResourceInteraction) : fhir4_resources.TFhirCapabilityStatementRestResourceInteraction; overload;
    class function convertResourceInteractionComponent4(src : fhir4_resources.TFhirCapabilityStatementRestResourceInteraction) : fhir3_resources.TFhirCapabilityStatementRestResourceInteraction; overload;
    class function convertCapabilityStatementRestResourceSearchParamComponent3(src : fhir3_resources.TFhirCapabilityStatementRestResourceSearchParam) : fhir4_resources.TFhirCapabilityStatementRestResourceSearchParam; overload;
    class function convertCapabilityStatementRestResourceSearchParamComponent4(src : fhir4_resources.TFhirCapabilityStatementRestResourceSearchParam) : fhir3_resources.TFhirCapabilityStatementRestResourceSearchParam; overload;
    class function convertSystemInteractionComponent3(src : fhir3_resources.TFhirCapabilityStatementRestInteraction) : fhir4_resources.TFhirCapabilityStatementRestInteraction; overload;
    class function convertSystemInteractionComponent4(src : fhir4_resources.TFhirCapabilityStatementRestInteraction) : fhir3_resources.TFhirCapabilityStatementRestInteraction; overload;
    class function convertCapabilityStatementRestOperationComponent3(src : fhir3_resources.TFhirCapabilityStatementRestOperation) : fhir4_resources.TFhirCapabilityStatementRestResourceOperation; overload;
    class function convertCapabilityStatementRestOperationComponent4(src : fhir4_resources.TFhirCapabilityStatementRestResourceOperation) : fhir3_resources.TFhirCapabilityStatementRestOperation; overload;
    class function convertCapabilityStatementMessagingComponent3(src : fhir3_resources.TFhirCapabilityStatementMessaging) : fhir4_resources.TFhirCapabilityStatementMessaging; overload;
    class function convertCapabilityStatementMessagingComponent4(src : fhir4_resources.TFhirCapabilityStatementMessaging) : fhir3_resources.TFhirCapabilityStatementMessaging; overload;
    class function convertCapabilityStatementMessagingEndpointComponent3(src : fhir3_resources.TFhirCapabilityStatementMessagingEndpoint) : fhir4_resources.TFhirCapabilityStatementMessagingEndpoint; overload;
    class function convertCapabilityStatementMessagingEndpointComponent4(src : fhir4_resources.TFhirCapabilityStatementMessagingEndpoint) : fhir3_resources.TFhirCapabilityStatementMessagingEndpoint; overload;
    class function convertCapabilityStatementMessagingSupportedMessageComponent3(src : fhir3_resources.TFhirCapabilityStatementMessagingSupportedMessage) : fhir4_resources.TFhirCapabilityStatementMessagingSupportedMessage; overload;
    class function convertCapabilityStatementMessagingSupportedMessageComponent4(src : fhir4_resources.TFhirCapabilityStatementMessagingSupportedMessage) : fhir3_resources.TFhirCapabilityStatementMessagingSupportedMessage; overload;
    class function convertCapabilityStatementDocumentComponent3(src : fhir3_resources.TFhirCapabilityStatementDocument) : fhir4_resources.TFhirCapabilityStatementDocument; overload;
    class function convertCapabilityStatementDocumentComponent4(src : fhir4_resources.TFhirCapabilityStatementDocument) : fhir3_resources.TFhirCapabilityStatementDocument; overload;
    class function convertCareTeam3(src : fhir3_resources.TFhirCareTeam) : fhir4_resources.TFhirCareTeam; overload;
    class function convertCareTeam4(src : fhir4_resources.TFhirCareTeam) : fhir3_resources.TFhirCareTeam; overload;
    class function convertCareTeamParticipantComponent3(src : fhir3_resources.TFhirCareTeamParticipant) : fhir4_resources.TFhirCareTeamParticipant; overload;
    class function convertCareTeamParticipantComponent4(src : fhir4_resources.TFhirCareTeamParticipant) : fhir3_resources.TFhirCareTeamParticipant; overload;
    class function convertClinicalImpression3(src : fhir3_resources.TFhirClinicalImpression) : fhir4_resources.TFhirClinicalImpression; overload;
    class function convertClinicalImpression4(src : fhir4_resources.TFhirClinicalImpression) : fhir3_resources.TFhirClinicalImpression; overload;
    class function convertClinicalImpressionInvestigationComponent3(src : fhir3_resources.TFhirClinicalImpressionInvestigation) : fhir4_resources.TFhirClinicalImpressionInvestigation; overload;
    class function convertClinicalImpressionInvestigationComponent4(src : fhir4_resources.TFhirClinicalImpressionInvestigation) : fhir3_resources.TFhirClinicalImpressionInvestigation; overload;
    class function convertClinicalImpressionFindingComponent3(src : fhir3_resources.TFhirClinicalImpressionFinding) : fhir4_resources.TFhirClinicalImpressionFinding; overload;
    class function convertClinicalImpressionFindingComponent4(src : fhir4_resources.TFhirClinicalImpressionFinding) : fhir3_resources.TFhirClinicalImpressionFinding; overload;
    class function convertCodeSystem3(src : fhir3_resources.TFhirCodeSystem) : fhir4_resources.TFhirCodeSystem; overload;
    class function convertCodeSystem4(src : fhir4_resources.TFhirCodeSystem) : fhir3_resources.TFhirCodeSystem; overload;
    class function convertCodeSystemFilterComponent3(src : fhir3_resources.TFhirCodeSystemFilter) : fhir4_resources.TFhirCodeSystemFilter; overload;
    class function convertCodeSystemFilterComponent4(src : fhir4_resources.TFhirCodeSystemFilter) : fhir3_resources.TFhirCodeSystemFilter; overload;
    class function convertPropertyComponent3(src : fhir3_resources.TFhirCodeSystemProperty) : fhir4_resources.TFhirCodeSystemProperty; overload;
    class function convertPropertyComponent4(src : fhir4_resources.TFhirCodeSystemProperty) : fhir3_resources.TFhirCodeSystemProperty; overload;
    class function convertConceptDefinitionComponent3(src : fhir3_resources.TFhirCodeSystemConcept) : fhir4_resources.TFhirCodeSystemConcept; overload;
    class function convertConceptDefinitionComponent4(src : fhir4_resources.TFhirCodeSystemConcept) : fhir3_resources.TFhirCodeSystemConcept; overload;
    class function convertConceptDefinitionDesignationComponent3(src : fhir3_resources.TFhirCodeSystemConceptDesignation) : fhir4_resources.TFhirCodeSystemConceptDesignation; overload;
    class function convertConceptDefinitionDesignationComponent4(src : fhir4_resources.TFhirCodeSystemConceptDesignation) : fhir3_resources.TFhirCodeSystemConceptDesignation; overload;
    class function convertConceptPropertyComponent3(src : fhir3_resources.TFhirCodeSystemConceptProperty) : fhir4_resources.TFhirCodeSystemConceptProperty; overload;
    class function convertConceptPropertyComponent4(src : fhir4_resources.TFhirCodeSystemConceptProperty) : fhir3_resources.TFhirCodeSystemConceptProperty; overload;
    class function convertCommunication3(src : fhir3_resources.TFhirCommunication) : fhir4_resources.TFhirCommunication; overload;
    class function convertCommunication4(src : fhir4_resources.TFhirCommunication) : fhir3_resources.TFhirCommunication; overload;
    class function convertCommunicationPayloadComponent3(src : fhir3_resources.TFhirCommunicationPayload) : fhir4_resources.TFhirCommunicationPayload; overload;
    class function convertCommunicationPayloadComponent4(src : fhir4_resources.TFhirCommunicationPayload) : fhir3_resources.TFhirCommunicationPayload; overload;
    class function convertCompartmentDefinition3(src : fhir3_resources.TFhirCompartmentDefinition) : fhir4_resources.TFhirCompartmentDefinition; overload;
    class function convertCompartmentDefinition4(src : fhir4_resources.TFhirCompartmentDefinition) : fhir3_resources.TFhirCompartmentDefinition; overload;
    class function convertCompartmentDefinitionResourceComponent3(src : fhir3_resources.TFhirCompartmentDefinitionResource) : fhir4_resources.TFhirCompartmentDefinitionResource; overload;
    class function convertCompartmentDefinitionResourceComponent4(src : fhir4_resources.TFhirCompartmentDefinitionResource) : fhir3_resources.TFhirCompartmentDefinitionResource; overload;
    class function convertComposition3(src : fhir3_resources.TFhirComposition) : fhir4_resources.TFhirComposition; overload;
    class function convertComposition4(src : fhir4_resources.TFhirComposition) : fhir3_resources.TFhirComposition; overload;
    class function convertCompositionAttesterComponent3(src : fhir3_resources.TFhirCompositionAttester) : fhir4_resources.TFhirCompositionAttester; overload;
    class function convertCompositionAttesterComponent4(src : fhir4_resources.TFhirCompositionAttester) : fhir3_resources.TFhirCompositionAttester; overload;
    class function convertCompositionRelatesToComponent3(src : fhir3_resources.TFhirCompositionRelatesTo) : fhir4_resources.TFhirCompositionRelatesTo; overload;
    class function convertCompositionRelatesToComponent4(src : fhir4_resources.TFhirCompositionRelatesTo) : fhir3_resources.TFhirCompositionRelatesTo; overload;
    class function convertCompositionEventComponent3(src : fhir3_resources.TFhirCompositionEvent) : fhir4_resources.TFhirCompositionEvent; overload;
    class function convertCompositionEventComponent4(src : fhir4_resources.TFhirCompositionEvent) : fhir3_resources.TFhirCompositionEvent; overload;
    class function convertSectionComponent3(src : fhir3_resources.TFhirCompositionSection) : fhir4_resources.TFhirCompositionSection; overload;
    class function convertSectionComponent4(src : fhir4_resources.TFhirCompositionSection) : fhir3_resources.TFhirCompositionSection; overload;
    class function convertConceptMap3(src : fhir3_resources.TFhirConceptMap) : fhir4_resources.TFhirConceptMap; overload;
    class function convertConceptMap4(src : fhir4_resources.TFhirConceptMap) : fhir3_resources.TFhirConceptMap; overload;
    class function convertConceptMapGroupComponent3(src : fhir3_resources.TFhirConceptMapGroup) : fhir4_resources.TFhirConceptMapGroup; overload;
    class function convertConceptMapGroupComponent4(src : fhir4_resources.TFhirConceptMapGroup) : fhir3_resources.TFhirConceptMapGroup; overload;
    class function convertSourceElementComponent3(src : fhir3_resources.TFhirConceptMapGroupElement) : fhir4_resources.TFhirConceptMapGroupElement; overload;
    class function convertSourceElementComponent4(src : fhir4_resources.TFhirConceptMapGroupElement) : fhir3_resources.TFhirConceptMapGroupElement; overload;
    class function convertTargetElementComponent3(src : fhir3_resources.TFhirConceptMapGroupElementTarget) : fhir4_resources.TFhirConceptMapGroupElementTarget; overload;
    class function convertTargetElementComponent4(src : fhir4_resources.TFhirConceptMapGroupElementTarget) : fhir3_resources.TFhirConceptMapGroupElementTarget; overload;
    class function convertOtherElementComponent3(src : fhir3_resources.TFhirConceptMapGroupElementTargetDependsOn) : fhir4_resources.TFhirConceptMapGroupElementTargetDependsOn; overload;
    class function convertOtherElementComponent4(src : fhir4_resources.TFhirConceptMapGroupElementTargetDependsOn) : fhir3_resources.TFhirConceptMapGroupElementTargetDependsOn; overload;
    class function convertConceptMapGroupUnmappedComponent3(src : fhir3_resources.TFhirConceptMapGroupUnmapped) : fhir4_resources.TFhirConceptMapGroupUnmapped; overload;
    class function convertConceptMapGroupUnmappedComponent4(src : fhir4_resources.TFhirConceptMapGroupUnmapped) : fhir3_resources.TFhirConceptMapGroupUnmapped; overload;
    class function convertCondition3(src : fhir3_resources.TFhirCondition) : fhir4_resources.TFhirCondition; overload;
    class function convertCondition4(src : fhir4_resources.TFhirCondition) : fhir3_resources.TFhirCondition; overload;
    class function convertConditionStageComponent3(src : fhir3_resources.TFhirConditionStage) : fhir4_resources.TFhirConditionStage; overload;
    class function convertConditionStageComponent4(src : fhir4_resources.TFhirConditionStage) : fhir3_resources.TFhirConditionStage; overload;
    class function convertConditionEvidenceComponent3(src : fhir3_resources.TFhirConditionEvidence) : fhir4_resources.TFhirConditionEvidence; overload;
    class function convertConditionEvidenceComponent4(src : fhir4_resources.TFhirConditionEvidence) : fhir3_resources.TFhirConditionEvidence; overload;
    class function convertConsent3(src : fhir3_resources.TFhirConsent) : fhir4_resources.TFhirConsent; overload;
    class function convertConsent4(src : fhir4_resources.TFhirConsent) : fhir3_resources.TFhirConsent; overload;
    class function convertConsentPolicyComponent3(src : fhir3_resources.TFhirConsentPolicy) : fhir4_resources.TFhirConsentPolicy; overload;
    class function convertConsentPolicyComponent4(src : fhir4_resources.TFhirConsentPolicy) : fhir3_resources.TFhirConsentPolicy; overload;
    class function convertDataElement3(src : fhir3_resources.TFhirDataElement) : fhir4_resources.TFhirStructureDefinition; overload;
    class function convertDataElementMappingComponent3(src : fhir3_resources.TFhirDataElementMapping) : fhir4_resources.TFhirStructureDefinitionMapping; overload;
    class function convertDetectedIssue3(src : fhir3_resources.TFhirDetectedIssue) : fhir4_resources.TFhirDetectedIssue; overload;
    class function convertDetectedIssue4(src : fhir4_resources.TFhirDetectedIssue) : fhir3_resources.TFhirDetectedIssue; overload;
    class function convertDetectedIssueMitigationComponent3(src : fhir3_resources.TFhirDetectedIssueMitigation) : fhir4_resources.TFhirDetectedIssueMitigation; overload;
    class function convertDetectedIssueMitigationComponent4(src : fhir4_resources.TFhirDetectedIssueMitigation) : fhir3_resources.TFhirDetectedIssueMitigation; overload;
    class function convertDevice3(src : fhir3_resources.TFhirDevice) : fhir4_resources.TFhirDevice; overload;
    class function convertDevice4(src : fhir4_resources.TFhirDevice) : fhir3_resources.TFhirDevice; overload;
    class function convertDeviceMetric3(src : fhir3_resources.TFhirDeviceMetric) : fhir4_resources.TFhirDeviceMetric; overload;
    class function convertDeviceMetric4(src : fhir4_resources.TFhirDeviceMetric) : fhir3_resources.TFhirDeviceMetric; overload;
    class function convertDeviceMetricCalibrationComponent3(src : fhir3_resources.TFhirDeviceMetricCalibration) : fhir4_resources.TFhirDeviceMetricCalibration; overload;
    class function convertDeviceMetricCalibrationComponent4(src : fhir4_resources.TFhirDeviceMetricCalibration) : fhir3_resources.TFhirDeviceMetricCalibration; overload;
    class function convertDeviceUseStatement3(src : fhir3_resources.TFhirDeviceUseStatement) : fhir4_resources.TFhirDeviceUseStatement; overload;
    class function convertDeviceUseStatement4(src : fhir4_resources.TFhirDeviceUseStatement) : fhir3_resources.TFhirDeviceUseStatement; overload;
    class function convertDiagnosticReport3(src : fhir3_resources.TFhirDiagnosticReport) : fhir4_resources.TFhirDiagnosticReport; overload;
    class function convertDiagnosticReport4(src : fhir4_resources.TFhirDiagnosticReport) : fhir3_resources.TFhirDiagnosticReport; overload;
    class function convertDiagnosticReportImageComponent3(src : fhir3_resources.TFhirDiagnosticReportImage) : fhir4_resources.TFhirDiagnosticReportMedia; overload;
    class function convertDiagnosticReportImageComponent4(src : fhir4_resources.TFhirDiagnosticReportMedia) : fhir3_resources.TFhirDiagnosticReportImage; overload;
    class function convertDocumentManifestRelatedComponent3(src : fhir3_resources.TFhirDocumentManifestRelated) : fhir4_resources.TFhirDocumentManifestRelated; overload;
    class function convertDocumentManifestRelatedComponent4(src : fhir4_resources.TFhirDocumentManifestRelated) : fhir3_resources.TFhirDocumentManifestRelated; overload;
    class function convertDocumentReference3(src : fhir3_resources.TFhirDocumentReference) : fhir4_resources.TFhirDocumentReference; overload;
    class function convertDocumentReference4(src : fhir4_resources.TFhirDocumentReference) : fhir3_resources.TFhirDocumentReference; overload;
    class function convertDocumentReferenceRelatesToComponent3(src : fhir3_resources.TFhirDocumentReferenceRelatesTo) : fhir4_resources.TFhirDocumentReferenceRelatesTo; overload;
    class function convertDocumentReferenceRelatesToComponent4(src : fhir4_resources.TFhirDocumentReferenceRelatesTo) : fhir3_resources.TFhirDocumentReferenceRelatesTo; overload;
    class function convertDocumentReferenceContentComponent3(src : fhir3_resources.TFhirDocumentReferenceContent) : fhir4_resources.TFhirDocumentReferenceContent; overload;
    class function convertDocumentReferenceContentComponent4(src : fhir4_resources.TFhirDocumentReferenceContent) : fhir3_resources.TFhirDocumentReferenceContent; overload;
    class function convertDocumentReferenceContextComponent3(src : fhir3_resources.TFhirDocumentReferenceContext) : fhir4_resources.TFhirDocumentReferenceContext; overload;
    class function convertDocumentReferenceContextComponent4(src : fhir4_resources.TFhirDocumentReferenceContext) : fhir3_resources.TFhirDocumentReferenceContext; overload;
    class function convertDocumentReferenceContextRelatedComponent3(src : fhir3_resources.TFhirDocumentReferenceContextRelated) : fhir4_types.TFhirReference; overload;
    class function convertDocumentReferenceContextRelatedComponent4(src : fhir4_types.TFhirReference) : fhir3_resources.TFhirDocumentReferenceContextRelated; overload;
    class function convertEncounter3(src : fhir3_resources.TFhirEncounter) : fhir4_resources.TFhirEncounter; overload;
    class function convertEncounter4(src : fhir4_resources.TFhirEncounter) : fhir3_resources.TFhirEncounter; overload;
    class function convertStatusHistoryComponent3(src : fhir3_resources.TFhirEncounterStatusHistory) : fhir4_resources.TFhirEncounterStatusHistory; overload;
    class function convertStatusHistoryComponent4(src : fhir4_resources.TFhirEncounterStatusHistory) : fhir3_resources.TFhirEncounterStatusHistory; overload;
    class function convertClassHistoryComponent3(src : fhir3_resources.TFhirEncounterClassHistory) : fhir4_resources.TFhirEncounterClassHistory; overload;
    class function convertClassHistoryComponent4(src : fhir4_resources.TFhirEncounterClassHistory) : fhir3_resources.TFhirEncounterClassHistory; overload;
    class function convertEncounterParticipantComponent3(src : fhir3_resources.TFhirEncounterParticipant) : fhir4_resources.TFhirEncounterParticipant; overload;
    class function convertEncounterParticipantComponent4(src : fhir4_resources.TFhirEncounterParticipant) : fhir3_resources.TFhirEncounterParticipant; overload;
    class function convertEncounterHospitalizationComponent3(src : fhir3_resources.TFhirEncounterHospitalization) : fhir4_resources.TFhirEncounterHospitalization; overload;
    class function convertEncounterHospitalizationComponent4(src : fhir4_resources.TFhirEncounterHospitalization) : fhir3_resources.TFhirEncounterHospitalization; overload;
    class function convertDiagnosisComponent3(src : fhir3_resources.TFhirEncounterDiagnosis) : fhir4_resources.TFhirEncounterDiagnosis; overload;
    class function convertDiagnosisComponent4(src : fhir4_resources.TFhirEncounterDiagnosis) : fhir3_resources.TFhirEncounterDiagnosis; overload;
    class function convertEncounterLocationComponent3(src : fhir3_resources.TFhirEncounterLocation) : fhir4_resources.TFhirEncounterLocation; overload;
    class function convertEncounterLocationComponent4(src : fhir4_resources.TFhirEncounterLocation) : fhir3_resources.TFhirEncounterLocation; overload;
    class function convertEndpoint3(src : fhir3_resources.TFhirEndpoint) : fhir4_resources.TFhirEndpoint; overload;
    class function convertEndpoint4(src : fhir4_resources.TFhirEndpoint) : fhir3_resources.TFhirEndpoint; overload;
    class function convertEpisodeOfCare3(src : fhir3_resources.TFhirEpisodeOfCare) : fhir4_resources.TFhirEpisodeOfCare; overload;
    class function convertEpisodeOfCare4(src : fhir4_resources.TFhirEpisodeOfCare) : fhir3_resources.TFhirEpisodeOfCare; overload;
    class function convertDiagnosisComponent3(src : fhir3_resources.TFhirEpisodeOfCareDiagnosis) : fhir4_resources.TFhirEpisodeOfCareDiagnosis; overload;
    class function convertDiagnosisComponent4(src : fhir4_resources.TFhirEpisodeOfCareDiagnosis) : fhir3_resources.TFhirEpisodeOfCareDiagnosis; overload;
    class function convertEpisodeOfCareStatusHistoryComponent3(src : fhir3_resources.TFhirEpisodeOfCareStatusHistory) : fhir4_resources.TFhirEpisodeOfCareStatusHistory; overload;
    class function convertEpisodeOfCareStatusHistoryComponent4(src : fhir4_resources.TFhirEpisodeOfCareStatusHistory) : fhir3_resources.TFhirEpisodeOfCareStatusHistory; overload;
//    class function convertExpansionProfile3(src : fhir3_resources.TFhirExpansionProfile) : fhir4_resources.TFHIRParameters overload;
//    class function convertExpansionProfile4(src : fhir4_resources.TFHIRParameters) : fhir3_resources.TFhirExpansionProfile; overload;
//    class function convertExpansionProfileFixedVersionComponent3(src : fhir3_resources.TFhirExpansionProfileFixedVersion) : fhir4_resources.TFhirExpansionProfileFixedVersion; overload;
//    class function convertExpansionProfileFixedVersionComponent4(src : fhir4_resources.TFhirExpansionProfileFixedVersion) : fhir3_resources.TFhirExpansionProfileFixedVersion; overload;
//    class function convertExpansionProfileExcludedSystemComponent3(src : fhir3_resources.TFhirExpansionProfileExcludedSystem) : fhir4_resources.TFhirExpansionProfileExcludedSystem; overload;
//    class function convertExpansionProfileExcludedSystemComponent4(src : fhir4_resources.TFhirExpansionProfileExcludedSystem) : fhir3_resources.TFhirExpansionProfileExcludedSystem; overload;
//    class function convertExpansionProfileDesignationComponent3(src : fhir3_resources.TFhirExpansionProfileDesignation) : fhir4_resources.TFhirExpansionProfileDesignation; overload;
//    class function convertExpansionProfileDesignationComponent4(src : fhir4_resources.TFhirExpansionProfileDesignation) : fhir3_resources.TFhirExpansionProfileDesignation; overload;
//    class function convertDesignationIncludeComponent3(src : fhir3_resources.TFhirExpansionProfileDesignationInclude) : fhir4_resources.TFhirExpansionProfileDesignationInclude; overload;
//    class function convertDesignationIncludeComponent4(src : fhir4_resources.TFhirExpansionProfileDesignationInclude) : fhir3_resources.TFhirExpansionProfileDesignationInclude; overload;
//    class function convertDesignationIncludeDesignationComponent3(src : fhir3_resources.TFhirExpansionProfileDesignationIncludeDesignation) : fhir4_resources.TFhirExpansionProfileDesignationIncludeDesignation; overload;
//    class function convertDesignationIncludeDesignationComponent4(src : fhir4_resources.TFhirExpansionProfileDesignationIncludeDesignation) : fhir3_resources.TFhirExpansionProfileDesignationIncludeDesignation; overload;
//    class function convertDesignationExcludeComponent3(src : fhir3_resources.TFhirExpansionProfileDesignationExclude) : fhir4_resources.TFhirExpansionProfileDesignationExclude; overload;
//    class function convertDesignationExcludeComponent4(src : fhir4_resources.TFhirExpansionProfileDesignationExclude) : fhir3_resources.TFhirExpansionProfileDesignationExclude; overload;
//    class function convertDesignationExcludeDesignationComponent3(src : fhir3_resources.TFhirExpansionProfileDesignationExcludeDesignation) : fhir4_resources.TFhirExpansionProfileDesignationExcludeDesignation; overload;
//    class function convertDesignationExcludeDesignationComponent4(src : fhir4_resources.TFhirExpansionProfileDesignationExcludeDesignation) : fhir3_resources.TFhirExpansionProfileDesignationExcludeDesignation; overload;
    class function convertFamilyMemberHistory3(src : fhir3_resources.TFhirFamilyMemberHistory) : fhir4_resources.TFhirFamilyMemberHistory; overload;
    class function convertFamilyMemberHistory4(src : fhir4_resources.TFhirFamilyMemberHistory) : fhir3_resources.TFhirFamilyMemberHistory; overload;
    class function convertFamilyMemberHistoryConditionComponent3(src : fhir3_resources.TFhirFamilyMemberHistoryCondition) : fhir4_resources.TFhirFamilyMemberHistoryCondition; overload;
    class function convertFamilyMemberHistoryConditionComponent4(src : fhir4_resources.TFhirFamilyMemberHistoryCondition) : fhir3_resources.TFhirFamilyMemberHistoryCondition; overload;
    class function convertFlag3(src : fhir3_resources.TFhirFlag) : fhir4_resources.TFhirFlag; overload;
    class function convertFlag4(src : fhir4_resources.TFhirFlag) : fhir3_resources.TFhirFlag; overload;
    class function convertGoal3(src : fhir3_resources.TFhirGoal) : fhir4_resources.TFhirGoal; overload;
    class function convertGoal4(src : fhir4_resources.TFhirGoal) : fhir3_resources.TFhirGoal; overload;
    class function convertGoalTargetComponent3(src : fhir3_resources.TFhirGoalTarget) : fhir4_resources.TFhirGoalTarget; overload;
    class function convertGoalTargetComponent4(src : fhir4_resources.TFhirGoalTarget) : fhir3_resources.TFhirGoalTarget; overload;
    class function convertGraphDefinition3(src : fhir3_resources.TFhirGraphDefinition) : fhir4_resources.TFhirGraphDefinition; overload;
    class function convertGraphDefinition4(src : fhir4_resources.TFhirGraphDefinition) : fhir3_resources.TFhirGraphDefinition; overload;
    class function convertGraphDefinitionLinkComponent3(src : fhir3_resources.TFhirGraphDefinitionLink) : fhir4_resources.TFhirGraphDefinitionLink; overload;
    class function convertGraphDefinitionLinkComponent4(src : fhir4_resources.TFhirGraphDefinitionLink) : fhir3_resources.TFhirGraphDefinitionLink; overload;
    class function convertGraphDefinitionLinkTargetComponent3(src : fhir3_resources.TFhirGraphDefinitionLinkTarget) : fhir4_resources.TFhirGraphDefinitionLinkTarget; overload;
    class function convertGraphDefinitionLinkTargetComponent4(src : fhir4_resources.TFhirGraphDefinitionLinkTarget) : fhir3_resources.TFhirGraphDefinitionLinkTarget; overload;
    class function convertGraphDefinitionLinkTargetCompartmentComponent3(src : fhir3_resources.TFhirGraphDefinitionLinkTargetCompartment) : fhir4_resources.TFhirGraphDefinitionLinkTargetCompartment; overload;
    class function convertGraphDefinitionLinkTargetCompartmentComponent4(src : fhir4_resources.TFhirGraphDefinitionLinkTargetCompartment) : fhir3_resources.TFhirGraphDefinitionLinkTargetCompartment; overload;
    class function convertGroup3(src : fhir3_resources.TFhirGroup) : fhir4_resources.TFhirGroup; overload;
    class function convertGroup4(src : fhir4_resources.TFhirGroup) : fhir3_resources.TFhirGroup; overload;
    class function convertGroupCharacteristicComponent3(src : fhir3_resources.TFhirGroupCharacteristic) : fhir4_resources.TFhirGroupCharacteristic; overload;
    class function convertGroupCharacteristicComponent4(src : fhir4_resources.TFhirGroupCharacteristic) : fhir3_resources.TFhirGroupCharacteristic; overload;
    class function convertGroupMemberComponent3(src : fhir3_resources.TFhirGroupMember) : fhir4_resources.TFhirGroupMember; overload;
    class function convertGroupMemberComponent4(src : fhir4_resources.TFhirGroupMember) : fhir3_resources.TFhirGroupMember; overload;
    class function convertHealthcareService3(src : fhir3_resources.TFhirHealthcareService) : fhir4_resources.TFhirHealthcareService; overload;
    class function convertHealthcareService4(src : fhir4_resources.TFhirHealthcareService) : fhir3_resources.TFhirHealthcareService; overload;
    class function convertHealthcareServiceAvailableTimeComponent3(src : fhir3_resources.TFhirHealthcareServiceAvailableTime) : fhir4_resources.TFhirHealthcareServiceAvailableTime; overload;
    class function convertHealthcareServiceAvailableTimeComponent4(src : fhir4_resources.TFhirHealthcareServiceAvailableTime) : fhir3_resources.TFhirHealthcareServiceAvailableTime; overload;
    class function convertHealthcareServiceNotAvailableComponent3(src : fhir3_resources.TFhirHealthcareServiceNotAvailable) : fhir4_resources.TFhirHealthcareServiceNotAvailable; overload;
    class function convertHealthcareServiceNotAvailableComponent4(src : fhir4_resources.TFhirHealthcareServiceNotAvailable) : fhir3_resources.TFhirHealthcareServiceNotAvailable; overload;
    class function convertImmunization3(src : fhir3_resources.TFhirImmunization) : fhir4_resources.TFhirImmunization; overload;
    class function convertImmunization4(src : fhir4_resources.TFhirImmunization) : fhir3_resources.TFhirImmunization; overload;
    class function convertImmunizationPractitionerComponent3(src : fhir3_resources.TFhirImmunizationPractitioner) : fhir4_resources.TFhirImmunizationPerformer; overload;
    class function convertImmunizationPractitionerComponent4(src : fhir4_resources.TFhirImmunizationPerformer) : fhir3_resources.TFhirImmunizationPractitioner; overload;
    class function convertImplementationGuide3(src : fhir3_resources.TFhirImplementationGuide) : fhir4_resources.TFhirImplementationGuide; overload;
    class function convertImplementationGuide4(src : fhir4_resources.TFhirImplementationGuide) : fhir3_resources.TFhirImplementationGuide; overload;
    class function convertImplementationGuideDependencyComponent3(src : fhir3_resources.TFhirImplementationGuideDependency) : fhir4_resources.TFhirImplementationGuideDependsOn; overload;
    class function convertImplementationGuideDependencyComponent4(src : fhir4_resources.TFhirImplementationGuideDependsOn) : fhir3_resources.TFhirImplementationGuideDependency; overload;
    class function convertImplementationGuidePackageComponent3(context : fhir4_resources.TFhirImplementationGuideDefinition; src : fhir3_resources.TFhirImplementationGuidePackage) : fhir4_resources.TFhirImplementationGuideDefinitionGrouping; overload;
    class function convertImplementationGuidePackageComponent4(src : fhir4_resources.TFhirImplementationGuideDefinitionGrouping) : fhir3_resources.TFhirImplementationGuidePackage; overload;
    class function convertImplementationGuidePackageResourceComponent3(src : fhir3_resources.TFhirImplementationGuidePackageResource) : fhir4_resources.TFhirImplementationGuideDefinitionResource; overload;
    class function convertImplementationGuidePackageResourceComponent4(src : fhir4_resources.TFhirImplementationGuideDefinitionResource) : fhir3_resources.TFhirImplementationGuidePackageResource; overload;
    class function convertImplementationGuideGlobalComponent3(src : fhir3_resources.TFhirImplementationGuideGlobal) : fhir4_resources.TFhirImplementationGuideGlobal; overload;
    class function convertImplementationGuideGlobalComponent4(src : fhir4_resources.TFhirImplementationGuideGlobal) : fhir3_resources.TFhirImplementationGuideGlobal; overload;
    class function convertImplementationGuidePageComponent3(src : fhir3_resources.TFhirImplementationGuidePage) : fhir4_resources.TFhirImplementationGuideDefinitionPage; overload;
    class function convertImplementationGuidePageComponent4(src : fhir4_resources.TFhirImplementationGuideDefinitionPage) : fhir3_resources.TFhirImplementationGuidePage; overload;
    class function convertLinkage3(src : fhir3_resources.TFhirLinkage) : fhir4_resources.TFhirLinkage; overload;
    class function convertLinkage4(src : fhir4_resources.TFhirLinkage) : fhir3_resources.TFhirLinkage; overload;
    class function convertLinkageItemComponent3(src : fhir3_resources.TFhirLinkageItem) : fhir4_resources.TFhirLinkageItem; overload;
    class function convertLinkageItemComponent4(src : fhir4_resources.TFhirLinkageItem) : fhir3_resources.TFhirLinkageItem; overload;
    class function convertList3(src : fhir3_resources.TFhirList) : fhir4_resources.TFhirList; overload;
    class function convertList4(src : fhir4_resources.TFhirList) : fhir3_resources.TFhirList; overload;
    class function convertListEntryComponent3(src : fhir3_resources.TFhirListEntry) : fhir4_resources.TFhirListEntry; overload;
    class function convertListEntryComponent4(src : fhir4_resources.TFhirListEntry) : fhir3_resources.TFhirListEntry; overload;
    class function convertLocation3(src : fhir3_resources.TFhirLocation) : fhir4_resources.TFhirLocation; overload;
    class function convertLocation4(src : fhir4_resources.TFhirLocation) : fhir3_resources.TFhirLocation; overload;
    class function convertLocationPositionComponent3(src : fhir3_resources.TFhirLocationPosition) : fhir4_resources.TFhirLocationPosition; overload;
    class function convertLocationPositionComponent4(src : fhir4_resources.TFhirLocationPosition) : fhir3_resources.TFhirLocationPosition; overload;
    class function convertMedicationIngredientComponent3(src : fhir3_resources.TFhirMedicationIngredient) : fhir4_resources.TFhirMedicationIngredient; overload;
    class function convertMedicationIngredientComponent4(src : fhir4_resources.TFhirMedicationIngredient) : fhir3_resources.TFhirMedicationIngredient; overload;
    class function convertMedication3(src : fhir3_resources.TFhirMedication) : fhir4_resources.TFhirMedication; overload;
    class function convertMedication4(src : fhir4_resources.TFhirMedication) : fhir3_resources.TFhirMedication; overload;
    class function convertMedicationPackageBatchComponent3(src : fhir3_resources.TFhirMedicationPackageBatch) : fhir4_resources.TFhirMedicationBatch; overload;
    class function convertMedicationPackageBatchComponent4(src : fhir4_resources.TFhirMedicationBatch) : fhir3_resources.TFhirMedicationPackageBatch; overload;
    class function convertMedicationAdministration3(src : fhir3_resources.TFhirMedicationAdministration) : fhir4_resources.TFhirMedicationAdministration; overload;
    class function convertMedicationAdministration4(src : fhir4_resources.TFhirMedicationAdministration) : fhir3_resources.TFhirMedicationAdministration; overload;
    class function convertMedicationAdministrationPerformerComponent3(src : fhir3_resources.TFhirMedicationAdministrationPerformer) : fhir4_resources.TFhirMedicationAdministrationPerformer; overload;
    class function convertMedicationAdministrationPerformerComponent4(src : fhir4_resources.TFhirMedicationAdministrationPerformer) : fhir3_resources.TFhirMedicationAdministrationPerformer; overload;
    class function convertMedicationAdministrationDosageComponent3(src : fhir3_resources.TFhirMedicationAdministrationDosage) : fhir4_resources.TFhirMedicationAdministrationDosage; overload;
    class function convertMedicationAdministrationDosageComponent4(src : fhir4_resources.TFhirMedicationAdministrationDosage) : fhir3_resources.TFhirMedicationAdministrationDosage; overload;
    class function convertMedicationDispense3(src : fhir3_resources.TFhirMedicationDispense) : fhir4_resources.TFhirMedicationDispense; overload;
    class function convertMedicationDispense4(src : fhir4_resources.TFhirMedicationDispense) : fhir3_resources.TFhirMedicationDispense; overload;
    class function convertMedicationDispensePerformerComponent3(src : fhir3_resources.TFhirMedicationDispensePerformer) : fhir4_resources.TFhirMedicationDispensePerformer; overload;
    class function convertMedicationDispensePerformerComponent4(src : fhir4_resources.TFhirMedicationDispensePerformer) : fhir3_resources.TFhirMedicationDispensePerformer; overload;
    class function convertMedicationDispenseSubstitutionComponent3(src : fhir3_resources.TFhirMedicationDispenseSubstitution) : fhir4_resources.TFhirMedicationDispenseSubstitution; overload;
    class function convertMedicationDispenseSubstitutionComponent4(src : fhir4_resources.TFhirMedicationDispenseSubstitution) : fhir3_resources.TFhirMedicationDispenseSubstitution; overload;
    class function convertMedicationRequest3(src : fhir3_resources.TFhirMedicationRequest) : fhir4_resources.TFhirMedicationRequest; overload;
    class function convertMedicationRequest4(src : fhir4_resources.TFhirMedicationRequest) : fhir3_resources.TFhirMedicationRequest; overload;
    class function convertMedicationRequestDispenseRequestComponent3(src : fhir3_resources.TFhirMedicationRequestDispenseRequest) : fhir4_resources.TFhirMedicationRequestDispenseRequest; overload;
    class function convertMedicationRequestDispenseRequestComponent4(src : fhir4_resources.TFhirMedicationRequestDispenseRequest) : fhir3_resources.TFhirMedicationRequestDispenseRequest; overload;
    class function convertMedicationRequestSubstitutionComponent3(src : fhir3_resources.TFhirMedicationRequestSubstitution) : fhir4_resources.TFhirMedicationRequestSubstitution; overload;
    class function convertMedicationRequestSubstitutionComponent4(src : fhir4_resources.TFhirMedicationRequestSubstitution) : fhir3_resources.TFhirMedicationRequestSubstitution; overload;
    class function convertMedicationStatement3(src : fhir3_resources.TFhirMedicationStatement) : fhir4_resources.TFhirMedicationStatement; overload;
    class function convertMedicationStatement4(src : fhir4_resources.TFhirMedicationStatement) : fhir3_resources.TFhirMedicationStatement; overload;
    class function convertMessageDefinition3(src : fhir3_resources.TFhirMessageDefinition) : fhir4_resources.TFhirMessageDefinition; overload;
    class function convertCoding2Uri(code : fhir3_types.TFhirCoding) : String; overload;
    class function convertMessageDefinition4(src : fhir4_resources.TFhirMessageDefinition) : fhir3_resources.TFhirMessageDefinition; overload;
    class function convertUri2Coding(uri : String) : fhir3_types.TFhirCoding; overload;
    class function convertMessageDefinitionFocusComponent3(src : fhir3_resources.TFhirMessageDefinitionFocus) : fhir4_resources.TFhirMessageDefinitionFocus; overload;
    class function convertMessageDefinitionFocusComponent4(src : fhir4_resources.TFhirMessageDefinitionFocus) : fhir3_resources.TFhirMessageDefinitionFocus; overload;
    class function convertMessageDefinitionAllowedResponseComponent3(src : fhir3_resources.TFhirMessageDefinitionAllowedResponse) : fhir4_resources.TFhirMessageDefinitionAllowedResponse; overload;
    class function convertMessageDefinitionAllowedResponseComponent4(src : fhir4_resources.TFhirMessageDefinitionAllowedResponse) : fhir3_resources.TFhirMessageDefinitionAllowedResponse; overload;
    class function convertMessageHeader3(src : fhir3_resources.TFhirMessageHeader) : fhir4_resources.TFhirMessageHeader; overload;
    class function convertMessageHeader4(src : fhir4_resources.TFhirMessageHeader) : fhir3_resources.TFhirMessageHeader; overload;
    class function convertMessageDestinationComponent3(src : fhir3_resources.TFhirMessageHeaderDestination) : fhir4_resources.TFhirMessageHeaderDestination; overload;
    class function convertMessageDestinationComponent4(src : fhir4_resources.TFhirMessageHeaderDestination) : fhir3_resources.TFhirMessageHeaderDestination; overload;
    class function convertMessageSourceComponent3(src : fhir3_resources.TFhirMessageHeaderSource) : fhir4_resources.TFhirMessageHeaderSource; overload;
    class function convertMessageSourceComponent4(src : fhir4_resources.TFhirMessageHeaderSource) : fhir3_resources.TFhirMessageHeaderSource; overload;
    class function convertMessageHeaderResponseComponent3(src : fhir3_resources.TFhirMessageHeaderResponse) : fhir4_resources.TFhirMessageHeaderResponse; overload;
    class function convertMessageHeaderResponseComponent4(src : fhir4_resources.TFhirMessageHeaderResponse) : fhir3_resources.TFhirMessageHeaderResponse; overload;
    class function convertNamingSystem3(src : fhir3_resources.TFhirNamingSystem) : fhir4_resources.TFhirNamingSystem; overload;
    class function convertNamingSystem4(src : fhir4_resources.TFhirNamingSystem) : fhir3_resources.TFhirNamingSystem; overload;
    class function convertNamingSystemUniqueIdComponent3(src : fhir3_resources.TFhirNamingSystemUniqueId) : fhir4_resources.TFhirNamingSystemUniqueId; overload;
    class function convertNamingSystemUniqueIdComponent4(src : fhir4_resources.TFhirNamingSystemUniqueId) : fhir3_resources.TFhirNamingSystemUniqueId; overload;
    class function convertObservation3(src : fhir3_resources.TFhirObservation) : fhir4_resources.TFhirObservation; overload;
    class function convertObservation4(src : fhir4_resources.TFhirObservation) : fhir3_resources.TFhirObservation; overload;
    class function convertObservationReferenceRangeComponent3(src : fhir3_resources.TFhirObservationReferenceRange) : fhir4_resources.TFhirObservationReferenceRange; overload;
    class function convertObservationReferenceRangeComponent4(src : fhir4_resources.TFhirObservationReferenceRange) : fhir3_resources.TFhirObservationReferenceRange; overload;
    class function convertObservationRelatedComponent4(src : fhir4_types.TFhirReference; type_ : fhir3_types.TFhirObservationRelationshiptypesEnum) : fhir3_resources.TFhirObservationRelated; overload;
    class function convertObservationComponentComponent3(src : fhir3_resources.TFhirObservationComponent) : fhir4_resources.TFhirObservationComponent; overload;
    class function convertObservationComponentComponent4(src : fhir4_resources.TFhirObservationComponent) : fhir3_resources.TFhirObservationComponent; overload;
    class function convertOperationDefinition3(src : fhir3_resources.TFhirOperationDefinition) : fhir4_resources.TFhirOperationDefinition; overload;
    class function convertOperationDefinition4(src : fhir4_resources.TFhirOperationDefinition) : fhir3_resources.TFhirOperationDefinition; overload;
    class function convertOperationDefinitionParameterComponent3(src : fhir3_resources.TFhirOperationDefinitionParameter) : fhir4_resources.TFhirOperationDefinitionParameter; overload;
    class function convertOperationDefinitionParameterComponent4(src : fhir4_resources.TFhirOperationDefinitionParameter) : fhir3_resources.TFhirOperationDefinitionParameter; overload;
    class function convertOperationDefinitionParameterBindingComponent3(src : fhir3_resources.TFhirOperationDefinitionParameterBinding) : fhir4_resources.TFhirOperationDefinitionParameterBinding; overload;
    class function convertOperationDefinitionParameterBindingComponent4(src : fhir4_resources.TFhirOperationDefinitionParameterBinding) : fhir3_resources.TFhirOperationDefinitionParameterBinding; overload;
    class function convertOperationDefinitionOverloadComponent3(src : fhir3_resources.TFhirOperationDefinitionOverload) : fhir4_resources.TFhirOperationDefinitionOverload; overload;
    class function convertOperationDefinitionOverloadComponent4(src : fhir4_resources.TFhirOperationDefinitionOverload) : fhir3_resources.TFhirOperationDefinitionOverload; overload;
    class function convertOperationOutcome3(src : fhir3_resources.TFhirOperationOutcome) : fhir4_resources.TFhirOperationOutcome; overload;
    class function convertOperationOutcome4(src : fhir4_resources.TFhirOperationOutcome) : fhir3_resources.TFhirOperationOutcome; overload;
    class function convertOperationOutcomeIssueComponent3(src : fhir3_resources.TFhirOperationOutcomeIssue) : fhir4_resources.TFhirOperationOutcomeIssue; overload;
    class function convertOperationOutcomeIssueComponent4(src : fhir4_resources.TFhirOperationOutcomeIssue) : fhir3_resources.TFhirOperationOutcomeIssue; overload;
    class function convertOrganization3(src : fhir3_resources.TFhirOrganization) : fhir4_resources.TFhirOrganization; overload;
    class function convertOrganization4(src : fhir4_resources.TFhirOrganization) : fhir3_resources.TFhirOrganization; overload;
    class function convertOrganizationContactComponent3(src : fhir3_resources.TFhirOrganizationContact) : fhir4_resources.TFhirOrganizationContact; overload;
    class function convertOrganizationContactComponent4(src : fhir4_resources.TFhirOrganizationContact) : fhir3_resources.TFhirOrganizationContact; overload;
    class function convertPatient3(src : fhir3_resources.TFhirPatient) : fhir4_resources.TFhirPatient; overload;
    class function convertPatient4(src : fhir4_resources.TFhirPatient) : fhir3_resources.TFhirPatient; overload;
    class function convertContactComponent3(src : fhir3_resources.TFhirPatientContact) : fhir4_resources.TFhirPatientContact; overload;
    class function convertContactComponent4(src : fhir4_resources.TFhirPatientContact) : fhir3_resources.TFhirPatientContact; overload;
    class function convertAnimalComponent3(src : fhir3_resources.TFhirPatientAnimal) : fhir4_types.TFhirExtension; overload;
    class function convertAnimalComponent4(src : fhir4_types.TFhirExtension) : fhir3_resources.TFhirPatientAnimal; overload;
    class function convertPatientCommunicationComponent3(src : fhir3_resources.TFhirPatientCommunication) : fhir4_resources.TFhirPatientCommunication; overload;
    class function convertPatientCommunicationComponent4(src : fhir4_resources.TFhirPatientCommunication) : fhir3_resources.TFhirPatientCommunication; overload;
    class function convertPatientLinkComponent3(src : fhir3_resources.TFhirPatientLink) : fhir4_resources.TFhirPatientLink; overload;
    class function convertPatientLinkComponent4(src : fhir4_resources.TFhirPatientLink) : fhir3_resources.TFhirPatientLink; overload;
    class function convertPaymentNotice3(src : fhir3_resources.TFhirPaymentNotice) : fhir4_resources.TFhirPaymentNotice; overload;
    class function convertPaymentNotice4(src : fhir4_resources.TFhirPaymentNotice) : fhir3_resources.TFhirPaymentNotice; overload;
    class function convertPerson3(src : fhir3_resources.TFhirPerson) : fhir4_resources.TFhirPerson; overload;
    class function convertPerson4(src : fhir4_resources.TFhirPerson) : fhir3_resources.TFhirPerson; overload;
    class function convertPersonLinkComponent3(src : fhir3_resources.TFhirPersonLink) : fhir4_resources.TFhirPersonLink; overload;
    class function convertPersonLinkComponent4(src : fhir4_resources.TFhirPersonLink) : fhir3_resources.TFhirPersonLink; overload;
    class function convertPractitioner3(src : fhir3_resources.TFhirPractitioner) : fhir4_resources.TFhirPractitioner; overload;
    class function convertPractitioner4(src : fhir4_resources.TFhirPractitioner) : fhir3_resources.TFhirPractitioner; overload;
    class function convertPractitionerQualificationComponent3(src : fhir3_resources.TFhirPractitionerQualification) : fhir4_resources.TFhirPractitionerQualification; overload;
    class function convertPractitionerQualificationComponent4(src : fhir4_resources.TFhirPractitionerQualification) : fhir3_resources.TFhirPractitionerQualification; overload;
    class function convertPractitionerRole3(src : fhir3_resources.TFhirPractitionerRole) : fhir4_resources.TFhirPractitionerRole; overload;
    class function convertPractitionerRole4(src : fhir4_resources.TFhirPractitionerRole) : fhir3_resources.TFhirPractitionerRole; overload;
    class function convertPractitionerRoleAvailableTimeComponent3(src : fhir3_resources.TFhirPractitionerRoleAvailableTime) : fhir4_resources.TFhirPractitionerRoleAvailableTime; overload;
    class function convertPractitionerRoleAvailableTimeComponent4(src : fhir4_resources.TFhirPractitionerRoleAvailableTime) : fhir3_resources.TFhirPractitionerRoleAvailableTime; overload;
    class function convertPractitionerRoleNotAvailableComponent3(src : fhir3_resources.TFhirPractitionerRoleNotAvailable) : fhir4_resources.TFhirPractitionerRoleNotAvailable; overload;
    class function convertPractitionerRoleNotAvailableComponent4(src : fhir4_resources.TFhirPractitionerRoleNotAvailable) : fhir3_resources.TFhirPractitionerRoleNotAvailable; overload;
    class function convertProvenance3(src : fhir3_resources.TFhirProvenance) : fhir4_resources.TFhirProvenance; overload;
    class function convertProvenance4(src : fhir4_resources.TFhirProvenance) : fhir3_resources.TFhirProvenance; overload;
    class function convertProvenanceAgentComponent3(src : fhir3_resources.TFhirProvenanceAgent) : fhir4_resources.TFhirProvenanceAgent; overload;
    class function convertProvenanceAgentComponent4(src : fhir4_resources.TFhirProvenanceAgent) : fhir3_resources.TFhirProvenanceAgent; overload;
    class function convertProvenanceEntityComponent3(src : fhir3_resources.TFhirProvenanceEntity) : fhir4_resources.TFhirProvenanceEntity; overload;
    class function convertProvenanceEntityComponent4(src : fhir4_resources.TFhirProvenanceEntity) : fhir3_resources.TFhirProvenanceEntity; overload;
    class function convertQuestionnaire3(src : fhir3_resources.TFhirQuestionnaire) : fhir4_resources.TFhirQuestionnaire; overload;
    class function convertQuestionnaire4(src : fhir4_resources.TFhirQuestionnaire) : fhir3_resources.TFhirQuestionnaire; overload;
    class function convertQuestionnaireItemComponent3(src : fhir3_resources.TFhirQuestionnaireItem) : fhir4_resources.TFhirQuestionnaireItem; overload;
    class function convertQuestionnaireItemComponent4(src : fhir4_resources.TFhirQuestionnaireItem) : fhir3_resources.TFhirQuestionnaireItem; overload;
    class function convertQuestionnaireItemEnableWhenComponent3(src : fhir3_resources.TFhirQuestionnaireItemEnableWhen) : fhir4_resources.TFhirQuestionnaireItemEnableWhen; overload;
    class function convertQuestionnaireItemEnableWhenComponent4(src : fhir4_resources.TFhirQuestionnaireItemEnableWhen) : fhir3_resources.TFhirQuestionnaireItemEnableWhen; overload;
    class function convertQuestionnaireItemOptionComponent3(src : fhir3_resources.TFhirQuestionnaireItemOption) : fhir4_resources.TFhirQuestionnaireItemAnswerOption; overload;
    class function convertQuestionnaireItemOptionComponent4(src : fhir4_resources.TFhirQuestionnaireItemAnswerOption) : fhir3_resources.TFhirQuestionnaireItemOption; overload;
    class function convertQuestionnaireResponse3(src : fhir3_resources.TFhirQuestionnaireResponse) : fhir4_resources.TFhirQuestionnaireResponse; overload;
    class function convertQuestionnaireResponse4(src : fhir4_resources.TFhirQuestionnaireResponse) : fhir3_resources.TFhirQuestionnaireResponse; overload;
    class function convertQuestionnaireResponseItemComponent3(src : fhir3_resources.TFhirQuestionnaireResponseItem) : fhir4_resources.TFhirQuestionnaireResponseItem; overload;
    class function convertQuestionnaireResponseItemComponent4(src : fhir4_resources.TFhirQuestionnaireResponseItem) : fhir3_resources.TFhirQuestionnaireResponseItem; overload;
    class function convertQuestionnaireResponseItemAnswerComponent3(src : fhir3_resources.TFhirQuestionnaireResponseItemAnswer) : fhir4_resources.TFhirQuestionnaireResponseItemAnswer; overload;
    class function convertQuestionnaireResponseItemAnswerComponent4(src : fhir4_resources.TFhirQuestionnaireResponseItemAnswer) : fhir3_resources.TFhirQuestionnaireResponseItemAnswer; overload;
    class function convertRiskAssessment3(src : fhir3_resources.TFhirRiskAssessment) : fhir4_resources.TFhirRiskAssessment; overload;
    class function convertRiskAssessment4(src : fhir4_resources.TFhirRiskAssessment) : fhir3_resources.TFhirRiskAssessment; overload;
    class function convertRiskAssessmentPredictionComponent3(src : fhir3_resources.TFhirRiskAssessmentPrediction) : fhir4_resources.TFhirRiskAssessmentPrediction; overload;
    class function convertRiskAssessmentPredictionComponent4(src : fhir4_resources.TFhirRiskAssessmentPrediction) : fhir3_resources.TFhirRiskAssessmentPrediction; overload;
    class function convertSchedule3(src : fhir3_resources.TFhirSchedule) : fhir4_resources.TFhirSchedule; overload;
    class function convertSchedule4(src : fhir4_resources.TFhirSchedule) : fhir3_resources.TFhirSchedule; overload;
    class function convertSearchParameter3(src : fhir3_resources.TFhirSearchParameter) : fhir4_resources.TFhirSearchParameter; overload;
    class function convertSearchParameter4(src : fhir4_resources.TFhirSearchParameter) : fhir3_resources.TFhirSearchParameter; overload;
    class function convertSearchParameterComponentComponent3(src : fhir3_resources.TFhirSearchParameterComponent) : fhir4_resources.TFhirSearchParameterComponent; overload;
    class function convertSearchParameterComponentComponent4(src : fhir4_resources.TFhirSearchParameterComponent) : fhir3_resources.TFhirSearchParameterComponent; overload;
    class function convertSequence3(src : fhir3_resources.TFhirSequence) : fhir4_resources.TFhirMolecularSequence; overload;
    class function convertSequence4(src : fhir4_resources.TFhirMolecularSequence) : fhir3_resources.TFhirSequence; overload;
    class function convertSequenceReferenceSeqComponent3(src : fhir3_resources.TFhirSequenceReferenceSeq) : fhir4_resources.TFhirMolecularSequenceReferenceSeq; overload;
    class function convertSequenceReferenceSeqComponent4(src : fhir4_resources.TFhirMolecularSequenceReferenceSeq) : fhir3_resources.TFhirSequenceReferenceSeq; overload;
    class function convertSequenceVariantComponent3(src : fhir3_resources.TFhirSequenceVariant) : fhir4_resources.TFhirMolecularSequenceVariant; overload;
    class function convertSequenceVariantComponent4(src : fhir4_resources.TFhirMolecularSequenceVariant) : fhir3_resources.TFhirSequenceVariant; overload;
    class function convertSequenceQualityComponent3(src : fhir3_resources.TFhirSequenceQuality) : fhir4_resources.TFhirMolecularSequenceQuality; overload;
    class function convertSequenceQualityComponent4(src : fhir4_resources.TFhirMolecularSequenceQuality) : fhir3_resources.TFhirSequenceQuality; overload;
    class function convertSequenceRepositoryComponent3(src : fhir3_resources.TFhirSequenceRepository) : fhir4_resources.TFhirMolecularSequenceRepository; overload;
    class function convertSequenceRepositoryComponent4(src : fhir4_resources.TFhirMolecularSequenceRepository) : fhir3_resources.TFhirSequenceRepository; overload;
    class function convertSlot3(src : fhir3_resources.TFhirSlot) : fhir4_resources.TFhirSlot; overload;
    class function convertSlot4(src : fhir4_resources.TFhirSlot) : fhir3_resources.TFhirSlot; overload;
    class function convertSpecimen3(src : fhir3_resources.TFhirSpecimen) : fhir4_resources.TFhirSpecimen; overload;
    class function convertSpecimen4(src : fhir4_resources.TFhirSpecimen) : fhir3_resources.TFhirSpecimen; overload;
    class function convertSpecimenCollectionComponent3(src : fhir3_resources.TFhirSpecimenCollection) : fhir4_resources.TFhirSpecimenCollection; overload;
    class function convertSpecimenCollectionComponent4(src : fhir4_resources.TFhirSpecimenCollection) : fhir3_resources.TFhirSpecimenCollection; overload;
    class function convertSpecimenProcessingComponent3(src : fhir3_resources.TFhirSpecimenProcessing) : fhir4_resources.TFhirSpecimenProcessing; overload;
    class function convertSpecimenProcessingComponent4(src : fhir4_resources.TFhirSpecimenProcessing) : fhir3_resources.TFhirSpecimenProcessing; overload;
    class function convertSpecimenContainerComponent3(src : fhir3_resources.TFhirSpecimenContainer) : fhir4_resources.TFhirSpecimenContainer; overload;
    class function convertSpecimenContainerComponent4(src : fhir4_resources.TFhirSpecimenContainer) : fhir3_resources.TFhirSpecimenContainer; overload;
    class function convertStructureDefinition3(src : fhir3_resources.TFhirStructureDefinition) : fhir4_resources.TFhirStructureDefinition; overload;
    class function convertStructureDefinition4(src : fhir4_resources.TFhirStructureDefinition) : fhir3_resources.TFhirStructureDefinition; overload;
    class function convertStructureDefinitionMappingComponent3(src : fhir3_resources.TFhirStructureDefinitionMapping) : fhir4_resources.TFhirStructureDefinitionMapping; overload;
    class function convertStructureDefinitionMappingComponent4(src : fhir4_resources.TFhirStructureDefinitionMapping) : fhir3_resources.TFhirStructureDefinitionMapping; overload;
    class function convertStructureDefinitionSnapshotComponent3(src : fhir3_resources.TFhirStructureDefinitionSnapshot) : fhir4_resources.TFhirStructureDefinitionSnapshot; overload;
    class function convertStructureDefinitionSnapshotComponent4(src : fhir4_resources.TFhirStructureDefinitionSnapshot) : fhir3_resources.TFhirStructureDefinitionSnapshot; overload;
    class function convertStructureDefinitionDifferentialComponent3(src : fhir3_resources.TFhirStructureDefinitionDifferential) : fhir4_resources.TFhirStructureDefinitionDifferential; overload;
    class function convertStructureDefinitionDifferentialComponent4(src : fhir4_resources.TFhirStructureDefinitionDifferential) : fhir3_resources.TFhirStructureDefinitionDifferential; overload;
    class function convertStructureMap3(src : fhir3_resources.TFhirStructureMap) : fhir4_resources.TFhirStructureMap; overload;
    class function convertStructureMap4(src : fhir4_resources.TFhirStructureMap) : fhir3_resources.TFhirStructureMap; overload;
    class function convertStructureMapStructureComponent3(src : fhir3_resources.TFhirStructureMapStructure) : fhir4_resources.TFhirStructureMapStructure; overload;
    class function convertStructureMapStructureComponent4(src : fhir4_resources.TFhirStructureMapStructure) : fhir3_resources.TFhirStructureMapStructure; overload;
    class function convertStructureMapGroupComponent3(src : fhir3_resources.TFhirStructureMapGroup) : fhir4_resources.TFhirStructureMapGroup; overload;
    class function convertStructureMapGroupComponent4(src : fhir4_resources.TFhirStructureMapGroup) : fhir3_resources.TFhirStructureMapGroup; overload;
    class function convertStructureMapGroupInputComponent3(src : fhir3_resources.TFhirStructureMapGroupInput) : fhir4_resources.TFhirStructureMapGroupInput; overload;
    class function convertStructureMapGroupInputComponent4(src : fhir4_resources.TFhirStructureMapGroupInput) : fhir3_resources.TFhirStructureMapGroupInput; overload;
    class function convertStructureMapGroupRuleComponent3(src : fhir3_resources.TFhirStructureMapGroupRule) : fhir4_resources.TFhirStructureMapGroupRule; overload;
    class function convertStructureMapGroupRuleComponent4(src : fhir4_resources.TFhirStructureMapGroupRule) : fhir3_resources.TFhirStructureMapGroupRule; overload;
    class function convertStructureMapGroupRuleSourceComponent3(src : fhir3_resources.TFhirStructureMapGroupRuleSource) : fhir4_resources.TFhirStructureMapGroupRuleSource; overload;
    class function convertStructureMapGroupRuleSourceComponent4(src : fhir4_resources.TFhirStructureMapGroupRuleSource) : fhir3_resources.TFhirStructureMapGroupRuleSource; overload;
    class function convertStructureMapGroupRuleTargetComponent3(src : fhir3_resources.TFhirStructureMapGroupRuleTarget) : fhir4_resources.TFhirStructureMapGroupRuleTarget; overload;
    class function convertStructureMapGroupRuleTargetComponent4(src : fhir4_resources.TFhirStructureMapGroupRuleTarget) : fhir3_resources.TFhirStructureMapGroupRuleTarget; overload;
    class function convertStructureMapGroupRuleTargetParameterComponent3(src : fhir3_resources.TFhirStructureMapGroupRuleTargetParameter) : fhir4_resources.TFhirStructureMapGroupRuleTargetParameter; overload;
    class function convertStructureMapGroupRuleTargetParameterComponent4(src : fhir4_resources.TFhirStructureMapGroupRuleTargetParameter) : fhir3_resources.TFhirStructureMapGroupRuleTargetParameter; overload;
    class function convertStructureMapGroupRuleDependentComponent3(src : fhir3_resources.TFhirStructureMapGroupRuleDependent) : fhir4_resources.TFhirStructureMapGroupRuleDependent; overload;
    class function convertStructureMapGroupRuleDependentComponent4(src : fhir4_resources.TFhirStructureMapGroupRuleDependent) : fhir3_resources.TFhirStructureMapGroupRuleDependent; overload;
    class function convertSubscription3(src : fhir3_resources.TFhirSubscription) : fhir4_resources.TFhirSubscription; overload;
    class function convertSubscription4(src : fhir4_resources.TFhirSubscription) : fhir3_resources.TFhirSubscription; overload;
    class function convertSubscriptionChannelComponent3(src : fhir3_resources.TFhirSubscriptionChannel) : fhir4_resources.TFhirSubscriptionChannel; overload;
    class function convertSubscriptionChannelComponent4(src : fhir4_resources.TFhirSubscriptionChannel) : fhir3_resources.TFhirSubscriptionChannel; overload;
    class function convertSubstance3(src : fhir3_resources.TFhirSubstance) : fhir4_resources.TFhirSubstance; overload;
    class function convertSubstance4(src : fhir4_resources.TFhirSubstance) : fhir3_resources.TFhirSubstance; overload;
    class function convertSubstanceInstanceComponent3(src : fhir3_resources.TFhirSubstanceInstance) : fhir4_resources.TFhirSubstanceInstance; overload;
    class function convertSubstanceInstanceComponent4(src : fhir4_resources.TFhirSubstanceInstance) : fhir3_resources.TFhirSubstanceInstance; overload;
    class function convertSubstanceIngredientComponent3(src : fhir3_resources.TFhirSubstanceIngredient) : fhir4_resources.TFhirSubstanceIngredient; overload;
    class function convertSubstanceIngredientComponent4(src : fhir4_resources.TFhirSubstanceIngredient) : fhir3_resources.TFhirSubstanceIngredient; overload;
    class function convertSupplyDelivery3(src : fhir3_resources.TFhirSupplyDelivery) : fhir4_resources.TFhirSupplyDelivery; overload;
    class function convertSupplyDelivery4(src : fhir4_resources.TFhirSupplyDelivery) : fhir3_resources.TFhirSupplyDelivery; overload;
    class function convertSupplyDeliverySuppliedItemComponent3(src : fhir3_resources.TFhirSupplyDeliverySuppliedItem) : fhir4_resources.TFhirSupplyDeliverySuppliedItem; overload;
    class function convertSupplyDeliverySuppliedItemComponent4(src : fhir4_resources.TFhirSupplyDeliverySuppliedItem) : fhir3_resources.TFhirSupplyDeliverySuppliedItem; overload;
    class function convertValueSet3(src : fhir3_resources.TFhirValueSet) : fhir4_resources.TFhirValueSet; overload;
    class function convertValueSet4(src : fhir4_resources.TFhirValueSet) : fhir3_resources.TFhirValueSet; overload;
    class function convertValueSetComposeComponent3(src : fhir3_resources.TFhirValueSetCompose) : fhir4_resources.TFhirValueSetCompose; overload;
    class function convertValueSetComposeComponent4(src : fhir4_resources.TFhirValueSetCompose) : fhir3_resources.TFhirValueSetCompose; overload;
    class function convertConceptSetComponent3(src : fhir3_resources.TFhirValueSetComposeInclude) : fhir4_resources.TFhirValueSetComposeInclude; overload;
    class function convertConceptSetComponent4(src : fhir4_resources.TFhirValueSetComposeInclude) : fhir3_resources.TFhirValueSetComposeInclude; overload;
    class function convertConceptReferenceComponent3(src : fhir3_resources.TFhirValueSetComposeIncludeConcept) : fhir4_resources.TFhirValueSetComposeIncludeConcept; overload;
    class function convertConceptReferenceComponent4(src : fhir4_resources.TFhirValueSetComposeIncludeConcept) : fhir3_resources.TFhirValueSetComposeIncludeConcept; overload;
    class function convertConceptReferenceDesignationComponent3(src : fhir3_resources.TFhirValueSetComposeIncludeConceptDesignation) : fhir4_resources.TFhirValueSetComposeIncludeConceptDesignation; overload;
    class function convertConceptReferenceDesignationComponent4(src : fhir4_resources.TFhirValueSetComposeIncludeConceptDesignation) : fhir3_resources.TFhirValueSetComposeIncludeConceptDesignation; overload;
    class function convertConceptSetFilterComponent3(src : fhir3_resources.TFhirValueSetComposeIncludeFilter) : fhir4_resources.TFhirValueSetComposeIncludeFilter; overload;
    class function convertConceptSetFilterComponent4(src : fhir4_resources.TFhirValueSetComposeIncludeFilter) : fhir3_resources.TFhirValueSetComposeIncludeFilter; overload;
    class function convertValueSetExpansionComponent3(src : fhir3_resources.TFhirValueSetExpansion) : fhir4_resources.TFhirValueSetExpansion; overload;
    class function convertValueSetExpansionComponent4(src : fhir4_resources.TFhirValueSetExpansion) : fhir3_resources.TFhirValueSetExpansion; overload;
    class function convertValueSetExpansionParameterComponent3(src : fhir3_resources.TFhirValueSetExpansionParameter) : fhir4_resources.TFhirValueSetExpansionParameter; overload;
    class function convertValueSetExpansionParameterComponent4(src : fhir4_resources.TFhirValueSetExpansionParameter) : fhir3_resources.TFhirValueSetExpansionParameter; overload;
    class function convertValueSetExpansionContainsComponent3(src : fhir3_resources.TFhirValueSetExpansionContains) : fhir4_resources.TFhirValueSetExpansionContains; overload;
    class function convertValueSetExpansionContainsComponent4(src : fhir4_resources.TFhirValueSetExpansionContains) : fhir3_resources.TFhirValueSetExpansionContains; overload;
    class function convertPlanDefinition3(src : fhir3_resources.TFhirPlanDefinition) : fhir4_resources.TFhirPlanDefinition; overload;
    class function convertPlanDefinition4(src : fhir4_resources.TFhirPlanDefinition) : fhir3_resources.TFhirPlanDefinition; overload;
    class function convertPlanDefinitionGoalComponent3(src : fhir3_resources.TFhirPlanDefinitionGoal) : fhir4_resources.TFhirPlanDefinitionGoal; overload;
    class function convertPlanDefinitionGoalComponent4(src : fhir4_resources.TFhirPlanDefinitionGoal) : fhir3_resources.TFhirPlanDefinitionGoal; overload;
    class function convertPlanDefinitionGoalTargetComponent3(src : fhir3_resources.TFhirPlanDefinitionGoalTarget) : fhir4_resources.TFhirPlanDefinitionGoalTarget; overload;
    class function convertPlanDefinitionGoalTargetComponent4(src : fhir4_resources.TFhirPlanDefinitionGoalTarget) : fhir3_resources.TFhirPlanDefinitionGoalTarget; overload;
    class function convertPlanDefinitionActionComponent3(src : fhir3_resources.TFhirPlanDefinitionAction) : fhir4_resources.TFhirPlanDefinitionAction; overload;
    class function convertPlanDefinitionActionComponent4(src : fhir4_resources.TFhirPlanDefinitionAction) : fhir3_resources.TFhirPlanDefinitionAction; overload;
    class function convertPlanDefinitionActionConditionComponent3(src : fhir3_resources.TFhirPlanDefinitionActionCondition) : fhir4_resources.TFhirPlanDefinitionActionCondition; overload;
    class function convertPlanDefinitionActionConditionComponent4(src : fhir4_resources.TFhirPlanDefinitionActionCondition) : fhir3_resources.TFhirPlanDefinitionActionCondition; overload;
    class function convertPlanDefinitionActionRelatedActionComponent3(src : fhir3_resources.TFhirPlanDefinitionActionRelatedAction) : fhir4_resources.TFhirPlanDefinitionActionRelatedAction; overload;
    class function convertPlanDefinitionActionRelatedActionComponent4(src : fhir4_resources.TFhirPlanDefinitionActionRelatedAction) : fhir3_resources.TFhirPlanDefinitionActionRelatedAction; overload;
    class function convertPlanDefinitionActionParticipantComponent3(src : fhir3_resources.TFhirPlanDefinitionActionParticipant) : fhir4_resources.TFhirPlanDefinitionActionParticipant; overload;
    class function convertPlanDefinitionActionParticipantComponent4(src : fhir4_resources.TFhirPlanDefinitionActionParticipant) : fhir3_resources.TFhirPlanDefinitionActionParticipant; overload;
    class function convertPlanDefinitionActionDynamicValueComponent3(src : fhir3_resources.TFhirPlanDefinitionActionDynamicValue) : fhir4_resources.TFhirPlanDefinitionActionDynamicValue; overload;
    class function convertPlanDefinitionActionDynamicValueComponent4(src : fhir4_resources.TFhirPlanDefinitionActionDynamicValue) : fhir3_resources.TFhirPlanDefinitionActionDynamicValue; overload;
    class function convertResource3(src : fhir3_resources.TFhirResource) : fhir4_resources.TFhirResource; overload;
    class function convertResource4(src : fhir4_resources.TFhirResource) : fhir3_resources.TFhirResource; overload;
  end;

implementation

class procedure TVersionConvertor_30_40.copyElement3(src : fhir3_types.TFhirElement; tgt : fhir4_types.TFhirElement);
var
  e : fhir3_types.TFhirExtension;
begin
  if (src.id <> '') then
    tgt.id := src.id;

  for e in src.extensionList do
  begin
      tgt.extensionList.add(convertExtension3(e));
  end;
end;

class procedure TVersionConvertor_30_40.copyElement4(src : fhir4_types.TFhirElement; tgt : fhir3_types.TFhirElement);
var
  e : fhir4_types.TFhirExtension;
begin
  if (src.id <> '') then
    tgt.id := src.id;

  for e in src.extensionList do
  begin
      tgt.extensionList.add(convertExtension4(e));
  end;
end;

class procedure TVersionConvertor_30_40.copyBackboneElement3(src : fhir3_types.TFhirBackboneElement; tgt : fhir4_types.TFhirBackboneElement);
var
  e : fhir3_types.TFhirExtension;
begin
  copyElement3(src, tgt);
  for e in src.modifierExtensionList do
  begin
      tgt.modifierExtensionList.add(convertExtension3(e));
  end;
end;

class procedure TVersionConvertor_30_40.copyBackboneElement4(src : fhir4_types.TFhirBackboneElement; tgt : fhir3_types.TFhirBackboneElement);
var
  e : fhir4_types.TFhirExtension;
begin
  copyElement4(src, tgt);
  for e in src.modifierExtensionList do
  begin
      tgt.modifierExtensionList.add(convertExtension4(e));
  end;
end;

class function TVersionConvertor_30_40.convertNarrativeStatus3(src : fhir3_types.TFhirNarrativeStatusEnum) : fhir4_types.TFhirNarrativeStatusEnum;
begin
  case (src) of
    fhir3_types.NarrativeStatusGenerated: exit(fhir4_types.NarrativeStatusGenerated);
    fhir3_types.NarrativeStatusExtensions: exit(fhir4_types.NarrativeStatusExtensions);
    fhir3_types.NarrativeStatusAdditional: exit(fhir4_types.NarrativeStatusAdditional);
    fhir3_types.NarrativeStatusEmpty: exit(fhir4_types.NarrativeStatusEmpty);
    else exit(fhir4_types.NarrativeStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertNarrativeStatus4(src : fhir4_types.TFhirNarrativeStatusEnum) : fhir3_types.TFhirNarrativeStatusEnum;
begin
  case (src) of
    fhir4_types.NarrativeStatusGenerated: exit(fhir3_types.NarrativeStatusGenerated);
    fhir4_types.NarrativeStatusExtensions: exit(fhir3_types.NarrativeStatusExtensions);
    fhir4_types.NarrativeStatusAdditional: exit(fhir3_types.NarrativeStatusAdditional);
    fhir4_types.NarrativeStatusEmpty: exit(fhir3_types.NarrativeStatusEmpty);
    else exit(fhir3_types.NarrativeStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertIdentifierUse3(src : fhir3_types.TFhirIdentifierUseEnum) : fhir4_types.TFhirIdentifierUseEnum;
begin
  case (src) of
    fhir3_types.IdentifierUseUsual: exit(fhir4_types.IdentifierUseUsual);
    fhir3_types.IdentifierUseOfficial: exit(fhir4_types.IdentifierUseOfficial);
    fhir3_types.IdentifierUseTemp: exit(fhir4_types.IdentifierUseTemp);
    fhir3_types.IdentifierUseSecondary: exit(fhir4_types.IdentifierUseSecondary);
    else exit(fhir4_types.IdentifierUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertIdentifierUse4(src : fhir4_types.TFhirIdentifierUseEnum) : fhir3_types.TFhirIdentifierUseEnum;
begin
  case (src) of
    fhir4_types.IdentifierUseUsual: exit(fhir3_types.IdentifierUseUsual);
    fhir4_types.IdentifierUseOfficial: exit(fhir3_types.IdentifierUseOfficial);
    fhir4_types.IdentifierUseTemp: exit(fhir3_types.IdentifierUseTemp);
    fhir4_types.IdentifierUseSecondary: exit(fhir3_types.IdentifierUseSecondary);
    else exit(fhir3_types.IdentifierUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertQuantityComparator3(src : fhir3_types.TFhirQuantityComparatorEnum) : fhir4_types.TFhirQuantityComparatorEnum;
begin
  case (src) of
    fhir3_types.QuantityComparatorLessThan: exit(fhir4_types.QuantityComparatorLessThan);
    fhir3_types.QuantityComparatorLessOrEquals: exit(fhir4_types.QuantityComparatorLessOrEquals);
    fhir3_types.QuantityComparatorGreaterOrEquals: exit(fhir4_types.QuantityComparatorGreaterOrEquals);
    fhir3_types.QuantityComparatorGreaterThan: exit(fhir4_types.QuantityComparatorGreaterThan);
    else exit(fhir4_types.QuantityComparatorNull);
  end;
end;

class function TVersionConvertor_30_40.convertQuantityComparator4(src : fhir4_types.TFhirQuantityComparatorEnum) : fhir3_types.TFhirQuantityComparatorEnum;
begin
  case (src) of
    fhir4_types.QuantityComparatorLessThan: exit(fhir3_types.QuantityComparatorLessThan);
    fhir4_types.QuantityComparatorLessOrEquals: exit(fhir3_types.QuantityComparatorLessOrEquals);
    fhir4_types.QuantityComparatorGreaterOrEquals: exit(fhir3_types.QuantityComparatorGreaterOrEquals);
    fhir4_types.QuantityComparatorGreaterThan: exit(fhir3_types.QuantityComparatorGreaterThan);
    else exit(fhir3_types.QuantityComparatorNull);
  end;
end;

class function TVersionConvertor_30_40.convertAddressUse3(src : fhir3_types.TFhirAddressUseEnum) : fhir4_types.TFhirAddressUseEnum;
begin
  case (src) of
    fhir3_types.AddressUseHome: exit(fhir4_types.AddressUseHome);
    fhir3_types.AddressUseWork: exit(fhir4_types.AddressUseWork);
    fhir3_types.AddressUseTemp: exit(fhir4_types.AddressUseTemp);
    fhir3_types.AddressUseOld: exit(fhir4_types.AddressUseOld);
    else exit(fhir4_types.AddressUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertAddressUse4(src : fhir4_types.TFhirAddressUseEnum) : fhir3_types.TFhirAddressUseEnum;
begin
  case (src) of
    fhir4_types.AddressUseHome: exit(fhir3_types.AddressUseHome);
    fhir4_types.AddressUseWork: exit(fhir3_types.AddressUseWork);
    fhir4_types.AddressUseTemp: exit(fhir3_types.AddressUseTemp);
    fhir4_types.AddressUseOld: exit(fhir3_types.AddressUseOld);
    else exit(fhir3_types.AddressUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertAddressType3(src : fhir3_types.TFhirAddressTypeEnum) : fhir4_types.TFhirAddressTypeEnum;
begin
  case (src) of
    fhir3_types.AddressTypePostal: exit(fhir4_types.AddressTypePostal);
    fhir3_types.AddressTypePhysical: exit(fhir4_types.AddressTypePhysical);
    fhir3_types.AddressTypeBoth: exit(fhir4_types.AddressTypeBoth);
    else exit(fhir4_types.AddressTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertAddressType4(src : fhir4_types.TFhirAddressTypeEnum) : fhir3_types.TFhirAddressTypeEnum;
begin
  case (src) of
    fhir4_types.AddressTypePostal: exit(fhir3_types.AddressTypePostal);
    fhir4_types.AddressTypePhysical: exit(fhir3_types.AddressTypePhysical);
    fhir4_types.AddressTypeBoth: exit(fhir3_types.AddressTypeBoth);
    else exit(fhir3_types.AddressTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertContactPointSystem3(src : fhir3_types.TFhirContactPointSystemEnum) : fhir4_types.TFhirContactPointSystemEnum;
begin
  case (src) of
    fhir3_types.ContactPointSystemPhone: exit(fhir4_types.ContactPointSystemPhone);
    fhir3_types.ContactPointSystemFax: exit(fhir4_types.ContactPointSystemFax);
    fhir3_types.ContactPointSystemEmail: exit(fhir4_types.ContactPointSystemEmail);
    fhir3_types.ContactPointSystemPager: exit(fhir4_types.ContactPointSystemPager);
    fhir3_types.ContactPointSystemUrl: exit(fhir4_types.ContactPointSystemUrl);
    fhir3_types.ContactPointSystemSms: exit(fhir4_types.ContactPointSystemSms);
    fhir3_types.ContactPointSystemOther: exit(fhir4_types.ContactPointSystemOther);
    else exit(fhir4_types.ContactPointSystemNull);
  end;
end;

class function TVersionConvertor_30_40.convertContactPointSystem4(src : fhir4_types.TFhirContactPointSystemEnum) : fhir3_types.TFhirContactPointSystemEnum;
begin
  case (src) of
    fhir4_types.ContactPointSystemPhone: exit(fhir3_types.ContactPointSystemPhone);
    fhir4_types.ContactPointSystemFax: exit(fhir3_types.ContactPointSystemFax);
    fhir4_types.ContactPointSystemEmail: exit(fhir3_types.ContactPointSystemEmail);
    fhir4_types.ContactPointSystemPager: exit(fhir3_types.ContactPointSystemPager);
    fhir4_types.ContactPointSystemUrl: exit(fhir3_types.ContactPointSystemUrl);
    fhir4_types.ContactPointSystemSms: exit(fhir3_types.ContactPointSystemSms);
    fhir4_types.ContactPointSystemOther: exit(fhir3_types.ContactPointSystemOther);
    else exit(fhir3_types.ContactPointSystemNull);
  end;
end;

class function TVersionConvertor_30_40.convertContactPointUse3(src : fhir3_types.TFhirContactPointUseEnum) : fhir4_types.TFhirContactPointUseEnum;
begin
  case (src) of
    fhir3_types.ContactPointUseHome: exit(fhir4_types.ContactPointUseHome);
    fhir3_types.ContactPointUseWork: exit(fhir4_types.ContactPointUseWork);
    fhir3_types.ContactPointUseTemp: exit(fhir4_types.ContactPointUseTemp);
    fhir3_types.ContactPointUseOld: exit(fhir4_types.ContactPointUseOld);
    fhir3_types.ContactPointUseMobile: exit(fhir4_types.ContactPointUseMobile);
    else exit(fhir4_types.ContactPointUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertContactPointUse4(src : fhir4_types.TFhirContactPointUseEnum) : fhir3_types.TFhirContactPointUseEnum;
begin
  case (src) of
    fhir4_types.ContactPointUseHome: exit(fhir3_types.ContactPointUseHome);
    fhir4_types.ContactPointUseWork: exit(fhir3_types.ContactPointUseWork);
    fhir4_types.ContactPointUseTemp: exit(fhir3_types.ContactPointUseTemp);
    fhir4_types.ContactPointUseOld: exit(fhir3_types.ContactPointUseOld);
    fhir4_types.ContactPointUseMobile: exit(fhir3_types.ContactPointUseMobile);
    else exit(fhir3_types.ContactPointUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertContributorType3(src : fhir3_types.TFhirContributorTypeEnum) : fhir4_types.TFhirContributorTypeEnum;
begin
  case (src) of
    fhir3_types.ContributorTypeAuthor: exit(fhir4_types.ContributorTypeAuthor);
    fhir3_types.ContributorTypeEditor: exit(fhir4_types.ContributorTypeEditor);
    fhir3_types.ContributorTypeReviewer: exit(fhir4_types.ContributorTypeReviewer);
    fhir3_types.ContributorTypeEndorser: exit(fhir4_types.ContributorTypeEndorser);
    else exit(fhir4_types.ContributorTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertContributorType4(src : fhir4_types.TFhirContributorTypeEnum) : fhir3_types.TFhirContributorTypeEnum;
begin
  case (src) of
    fhir4_types.ContributorTypeAuthor: exit(fhir3_types.ContributorTypeAuthor);
    fhir4_types.ContributorTypeEditor: exit(fhir3_types.ContributorTypeEditor);
    fhir4_types.ContributorTypeReviewer: exit(fhir3_types.ContributorTypeReviewer);
    fhir4_types.ContributorTypeEndorser: exit(fhir3_types.ContributorTypeEndorser);
    else exit(fhir3_types.ContributorTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertPropertyRepresentation3(src : fhir3_types.TFhirPropertyRepresentationEnum) : fhir4_types.TFhirPropertyRepresentationEnum;
begin
  case (src) of
    fhir3_types.PropertyRepresentationXmlAttr: exit(fhir4_types.PropertyRepresentationXmlAttr);
    fhir3_types.PropertyRepresentationXmlText: exit(fhir4_types.PropertyRepresentationXmlText);
    fhir3_types.PropertyRepresentationTypeAttr: exit(fhir4_types.PropertyRepresentationTypeAttr);
    fhir3_types.PropertyRepresentationCdaText: exit(fhir4_types.PropertyRepresentationCdaText);
    fhir3_types.PropertyRepresentationXhtml: exit(fhir4_types.PropertyRepresentationXhtml);
    else exit(fhir4_types.PropertyRepresentationNull);
  end;
end;

class function TVersionConvertor_30_40.convertPropertyRepresentation4(src : fhir4_types.TFhirPropertyRepresentationEnum) : fhir3_types.TFhirPropertyRepresentationEnum;
begin
  case (src) of
    fhir4_types.PropertyRepresentationXmlAttr: exit(fhir3_types.PropertyRepresentationXmlAttr);
    fhir4_types.PropertyRepresentationXmlText: exit(fhir3_types.PropertyRepresentationXmlText);
    fhir4_types.PropertyRepresentationTypeAttr: exit(fhir3_types.PropertyRepresentationTypeAttr);
    fhir4_types.PropertyRepresentationCdaText: exit(fhir3_types.PropertyRepresentationCdaText);
    fhir4_types.PropertyRepresentationXhtml: exit(fhir3_types.PropertyRepresentationXhtml);
    else exit(fhir3_types.PropertyRepresentationNull);
  end;
end;

class function TVersionConvertor_30_40.convertSlicingRules3(src : fhir3_types.TFhirResourceSlicingRulesEnum) : fhir4_types.TFhirResourceSlicingRulesEnum;
begin
  case (src) of
    fhir3_types.ResourceSlicingRulesClosed: exit(fhir4_types.ResourceSlicingRulesClosed);
    fhir3_types.ResourceSlicingRulesOpen: exit(fhir4_types.ResourceSlicingRulesOpen);
    fhir3_types.ResourceSlicingRulesOpenAtEnd: exit(fhir4_types.ResourceSlicingRulesOpenAtEnd);
    else exit(fhir4_types.ResourceSlicingRulesNull);
  end;
end;

class function TVersionConvertor_30_40.convertSlicingRules4(src : fhir4_types.TFhirResourceSlicingRulesEnum) : fhir3_types.TFhirResourceSlicingRulesEnum;
begin
  case (src) of
    fhir4_types.ResourceSlicingRulesClosed: exit(fhir3_types.ResourceSlicingRulesClosed);
    fhir4_types.ResourceSlicingRulesOpen: exit(fhir3_types.ResourceSlicingRulesOpen);
    fhir4_types.ResourceSlicingRulesOpenAtEnd: exit(fhir3_types.ResourceSlicingRulesOpenAtEnd);
    else exit(fhir3_types.ResourceSlicingRulesNull);
  end;
end;

class function TVersionConvertor_30_40.convertDiscriminatorType3(src : fhir3_types.TFhirDiscriminatorTypeEnum) : fhir4_types.TFhirDiscriminatorTypeEnum;
begin
  case (src) of
    fhir3_types.DiscriminatorTypeValue: exit(fhir4_types.DiscriminatorTypeValue);
    fhir3_types.DiscriminatorTypeExists: exit(fhir4_types.DiscriminatorTypeExists);
    fhir3_types.DiscriminatorTypePattern: exit(fhir4_types.DiscriminatorTypePattern);
    fhir3_types.DiscriminatorTypeType: exit(fhir4_types.DiscriminatorTypeType);
    fhir3_types.DiscriminatorTypeProfile: exit(fhir4_types.DiscriminatorTypeProfile);
    else exit(fhir4_types.DiscriminatorTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertDiscriminatorType4(src : fhir4_types.TFhirDiscriminatorTypeEnum) : fhir3_types.TFhirDiscriminatorTypeEnum;
begin
  case (src) of
    fhir4_types.DiscriminatorTypeValue: exit(fhir3_types.DiscriminatorTypeValue);
    fhir4_types.DiscriminatorTypeExists: exit(fhir3_types.DiscriminatorTypeExists);
    fhir4_types.DiscriminatorTypePattern: exit(fhir3_types.DiscriminatorTypePattern);
    fhir4_types.DiscriminatorTypeType: exit(fhir3_types.DiscriminatorTypeType);
    fhir4_types.DiscriminatorTypeProfile: exit(fhir3_types.DiscriminatorTypeProfile);
    else exit(fhir3_types.DiscriminatorTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertAggregationMode3(src : fhir3_types.TFhirResourceAggregationModeEnum) : fhir4_types.TFhirResourceAggregationModeEnum;
begin
  case (src) of
    fhir3_types.ResourceAggregationModeContained: exit(fhir4_types.ResourceAggregationModeContained);
    fhir3_types.ResourceAggregationModeReferenced: exit(fhir4_types.ResourceAggregationModeReferenced);
    fhir3_types.ResourceAggregationModeBundled: exit(fhir4_types.ResourceAggregationModeBundled);
    else exit(fhir4_types.ResourceAggregationModeNull);
  end;
end;

//class function TVersionConvertor_30_40.convertAggregationMode4(src : fhir4_types.TFhirResourceAggregationModeEnum) : fhir3_types.TFhirResourceAggregationModeEnum;
//begin
//  case (src) of
//    fhir4_types.ResourceAggregationModeContained: exit(fhir3_types.ResourceAggregationModeContained);
//    fhir4_types.ResourceAggregationModeReferenced: exit(fhir3_types.ResourceAggregationModeReferenced);
//    fhir4_types.ResourceAggregationModeBundled: exit(fhir3_types.ResourceAggregationModeBundled);
//    else exit(fhir3_types.ResourceAggregationModeNull);
//  end;
//end;
//
class function TVersionConvertor_30_40.convertReferenceVersionRules3(src : fhir3_types.TFhirReferenceVersionRulesEnum) : fhir4_types.TFhirReferenceVersionRulesEnum;
begin
  case (src) of
    fhir3_types.ReferenceVersionRulesEither: exit(fhir4_types.ReferenceVersionRulesEither);
    fhir3_types.ReferenceVersionRulesIndependent: exit(fhir4_types.ReferenceVersionRulesIndependent);
    fhir3_types.ReferenceVersionRulesSpecific: exit(fhir4_types.ReferenceVersionRulesSpecific);
    else exit(fhir4_types.ReferenceVersionRulesNull);
  end;
end;

//class function TVersionConvertor_30_40.convertReferenceVersionRules4(src : fhir4_types.TFhirReferenceVersionRulesEnum) : fhir3_types.TFhirReferenceVersionRulesEnum;
//begin
//  case (src) of
//    fhir4_types.ReferenceVersionRulesEither: exit(fhir3_types.ReferenceVersionRulesEither);
//    fhir4_types.ReferenceVersionRulesIndependent: exit(fhir3_types.ReferenceVersionRulesIndependent);
//    fhir4_types.ReferenceVersionRulesSpecific: exit(fhir3_types.ReferenceVersionRulesSpecific);
//    else exit(fhir3_types.ReferenceVersionRulesNull);
//  end;
//end;
//
class function TVersionConvertor_30_40.convertConstraintSeverity3(src : fhir3_types.TFhirConstraintSeverityEnum) : fhir4_types.TFhirConstraintSeverityEnum;
begin
  case (src) of
    fhir3_types.ConstraintSeverityError: exit(fhir4_types.ConstraintSeverityError);
    fhir3_types.ConstraintSeverityWarning: exit(fhir4_types.ConstraintSeverityWarning);
    else exit(fhir4_types.ConstraintSeverityNull);
  end;
end;

class function TVersionConvertor_30_40.convertConstraintSeverity4(src : fhir4_types.TFhirConstraintSeverityEnum) : fhir3_types.TFhirConstraintSeverityEnum;
begin
  case (src) of
    fhir4_types.ConstraintSeverityError: exit(fhir3_types.ConstraintSeverityError);
    fhir4_types.ConstraintSeverityWarning: exit(fhir3_types.ConstraintSeverityWarning);
    else exit(fhir3_types.ConstraintSeverityNull);
  end;
end;

class function TVersionConvertor_30_40.convertBindingStrength3(src : fhir3_types.TFhirBindingStrengthEnum) : fhir4_types.TFhirBindingStrengthEnum;
begin
  case (src) of
    fhir3_types.BindingStrengthRequired: exit(fhir4_types.BindingStrengthRequired);
    fhir3_types.BindingStrengthExtensible: exit(fhir4_types.BindingStrengthExtensible);
    fhir3_types.BindingStrengthPreferred: exit(fhir4_types.BindingStrengthPreferred);
    fhir3_types.BindingStrengthExample: exit(fhir4_types.BindingStrengthExample);
    else exit(fhir4_types.BindingStrengthNull);
  end;
end;

class function TVersionConvertor_30_40.convertBindingStrength4(src : fhir4_types.TFhirBindingStrengthEnum) : fhir3_types.TFhirBindingStrengthEnum;
begin
  case (src) of
    fhir4_types.BindingStrengthRequired: exit(fhir3_types.BindingStrengthRequired);
    fhir4_types.BindingStrengthExtensible: exit(fhir3_types.BindingStrengthExtensible);
    fhir4_types.BindingStrengthPreferred: exit(fhir3_types.BindingStrengthPreferred);
    fhir4_types.BindingStrengthExample: exit(fhir3_types.BindingStrengthExample);
    else exit(fhir3_types.BindingStrengthNull);
  end;
end;

class function TVersionConvertor_30_40.convertNameUse3(src : fhir3_types.TFhirNameUseEnum) : fhir4_types.TFhirNameUseEnum;
begin
  case (src) of
    fhir3_types.NameUseUsual: exit(fhir4_types.NameUseUsual);
    fhir3_types.NameUseOfficial: exit(fhir4_types.NameUseOfficial);
    fhir3_types.NameUseTemp: exit(fhir4_types.NameUseTemp);
    fhir3_types.NameUseNickname: exit(fhir4_types.NameUseNickname);
    fhir3_types.NameUseAnonymous: exit(fhir4_types.NameUseAnonymous);
    fhir3_types.NameUseOld: exit(fhir4_types.NameUseOld);
    fhir3_types.NameUseMaiden: exit(fhir4_types.NameUseMaiden);
    else exit(fhir4_types.NameUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertNameUse4(src : fhir4_types.TFhirNameUseEnum) : fhir3_types.TFhirNameUseEnum;
begin
  case (src) of
    fhir4_types.NameUseUsual: exit(fhir3_types.NameUseUsual);
    fhir4_types.NameUseOfficial: exit(fhir3_types.NameUseOfficial);
    fhir4_types.NameUseTemp: exit(fhir3_types.NameUseTemp);
    fhir4_types.NameUseNickname: exit(fhir3_types.NameUseNickname);
    fhir4_types.NameUseAnonymous: exit(fhir3_types.NameUseAnonymous);
    fhir4_types.NameUseOld: exit(fhir3_types.NameUseOld);
    fhir4_types.NameUseMaiden: exit(fhir3_types.NameUseMaiden);
    else exit(fhir3_types.NameUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertParameterUse3(src : fhir3_types.TFhirOperationParameterUseEnum) : fhir4_types.TFhirOperationParameterUseEnum;
begin
  case (src) of
    fhir3_types.OperationParameterUseIn: exit(fhir4_types.OperationParameterUseIn);
    fhir3_types.OperationParameterUseOut: exit(fhir4_types.OperationParameterUseOut);
    else exit(fhir4_types.OperationParameterUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertParameterUse4(src : fhir4_types.TFhirOperationParameterUseEnum) : fhir3_types.TFhirOperationParameterUseEnum;
begin
  case (src) of
    fhir4_types.OperationParameterUseIn: exit(fhir3_types.OperationParameterUseIn);
    fhir4_types.OperationParameterUseOut: exit(fhir3_types.OperationParameterUseOut);
    else exit(fhir3_types.OperationParameterUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertRelatedArtifactType3(src : fhir3_types.TFhirRelatedArtifactTypeEnum) : fhir4_types.TFhirRelatedArtifactTypeEnum;
begin
  case (src) of
    fhir3_types.RelatedArtifactTypeDocumentation: exit(fhir4_types.RelatedArtifactTypeDocumentation);
    fhir3_types.RelatedArtifactTypeJustification: exit(fhir4_types.RelatedArtifactTypeJustification);
    fhir3_types.RelatedArtifactTypeCitation: exit(fhir4_types.RelatedArtifactTypeCitation);
    fhir3_types.RelatedArtifactTypePredecessor: exit(fhir4_types.RelatedArtifactTypePredecessor);
    fhir3_types.RelatedArtifactTypeSuccessor: exit(fhir4_types.RelatedArtifactTypeSuccessor);
    fhir3_types.RelatedArtifactTypeDerivedFrom: exit(fhir4_types.RelatedArtifactTypeDerivedFrom);
    fhir3_types.RelatedArtifactTypeDependsOn: exit(fhir4_types.RelatedArtifactTypeDependsOn);
    fhir3_types.RelatedArtifactTypeComposedOf: exit(fhir4_types.RelatedArtifactTypeComposedOf);
    else exit(fhir4_types.RelatedArtifactTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertRelatedArtifactType4(src : fhir4_types.TFhirRelatedArtifactTypeEnum) : fhir3_types.TFhirRelatedArtifactTypeEnum;
begin
  case (src) of
    fhir4_types.RelatedArtifactTypeDocumentation: exit(fhir3_types.RelatedArtifactTypeDocumentation);
    fhir4_types.RelatedArtifactTypeJustification: exit(fhir3_types.RelatedArtifactTypeJustification);
    fhir4_types.RelatedArtifactTypeCitation: exit(fhir3_types.RelatedArtifactTypeCitation);
    fhir4_types.RelatedArtifactTypePredecessor: exit(fhir3_types.RelatedArtifactTypePredecessor);
    fhir4_types.RelatedArtifactTypeSuccessor: exit(fhir3_types.RelatedArtifactTypeSuccessor);
    fhir4_types.RelatedArtifactTypeDerivedFrom: exit(fhir3_types.RelatedArtifactTypeDerivedFrom);
    fhir4_types.RelatedArtifactTypeDependsOn: exit(fhir3_types.RelatedArtifactTypeDependsOn);
    fhir4_types.RelatedArtifactTypeComposedOf: exit(fhir3_types.RelatedArtifactTypeComposedOf);
    else exit(fhir3_types.RelatedArtifactTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertUnitsOfTime3(src : fhir3_types.TFhirUnitsOfTimeEnum) : fhir4_types.TFhirUnitsOfTimeEnum;
begin
  case (src) of
    fhir3_types.UnitsOfTimeS: exit(fhir4_types.UnitsOfTimeS);
    fhir3_types.UnitsOfTimeMin: exit(fhir4_types.UnitsOfTimeMin);
    fhir3_types.UnitsOfTimeH: exit(fhir4_types.UnitsOfTimeH);
    fhir3_types.UnitsOfTimeD: exit(fhir4_types.UnitsOfTimeD);
    fhir3_types.UnitsOfTimeWk: exit(fhir4_types.UnitsOfTimeWk);
    fhir3_types.UnitsOfTimeMo: exit(fhir4_types.UnitsOfTimeMo);
    fhir3_types.UnitsOfTimeA: exit(fhir4_types.UnitsOfTimeA);
    else exit(fhir4_types.UnitsOfTimeNull);
  end;
end;

class function TVersionConvertor_30_40.convertUnitsOfTime4(src : fhir4_types.TFhirUnitsOfTimeEnum) : fhir3_types.TFhirUnitsOfTimeEnum;
begin
  case (src) of
    fhir4_types.UnitsOfTimeS: exit(fhir3_types.UnitsOfTimeS);
    fhir4_types.UnitsOfTimeMin: exit(fhir3_types.UnitsOfTimeMin);
    fhir4_types.UnitsOfTimeH: exit(fhir3_types.UnitsOfTimeH);
    fhir4_types.UnitsOfTimeD: exit(fhir3_types.UnitsOfTimeD);
    fhir4_types.UnitsOfTimeWk: exit(fhir3_types.UnitsOfTimeWk);
    fhir4_types.UnitsOfTimeMo: exit(fhir3_types.UnitsOfTimeMo);
    fhir4_types.UnitsOfTimeA: exit(fhir3_types.UnitsOfTimeA);
    else exit(fhir3_types.UnitsOfTimeNull);
  end;
end;

class function TVersionConvertor_30_40.convertDayOfWeek3(src : fhir3_types.TFhirDaysOfWeekEnum) : fhir4_types.TFhirDaysOfWeekEnum;
begin
  case (src) of
    fhir3_types.DaysOfWeekMon: exit(fhir4_types.DaysOfWeekMon);
    fhir3_types.DaysOfWeekTue: exit(fhir4_types.DaysOfWeekTue);
    fhir3_types.DaysOfWeekWed: exit(fhir4_types.DaysOfWeekWed);
    fhir3_types.DaysOfWeekThu: exit(fhir4_types.DaysOfWeekThu);
    fhir3_types.DaysOfWeekFri: exit(fhir4_types.DaysOfWeekFri);
    fhir3_types.DaysOfWeekSat: exit(fhir4_types.DaysOfWeekSat);
    fhir3_types.DaysOfWeekSun: exit(fhir4_types.DaysOfWeekSun);
    else exit(fhir4_types.DaysOfWeekNull);
  end;
end;

class function TVersionConvertor_30_40.convertDayOfWeek4(src : fhir4_types.TFhirDaysOfWeekEnum) : fhir3_types.TFhirDaysOfWeekEnum;
begin
  case (src) of
    fhir4_types.DaysOfWeekMon: exit(fhir3_types.DaysOfWeekMon);
    fhir4_types.DaysOfWeekTue: exit(fhir3_types.DaysOfWeekTue);
    fhir4_types.DaysOfWeekWed: exit(fhir3_types.DaysOfWeekWed);
    fhir4_types.DaysOfWeekThu: exit(fhir3_types.DaysOfWeekThu);
    fhir4_types.DaysOfWeekFri: exit(fhir3_types.DaysOfWeekFri);
    fhir4_types.DaysOfWeekSat: exit(fhir3_types.DaysOfWeekSat);
    fhir4_types.DaysOfWeekSun: exit(fhir3_types.DaysOfWeekSun);
    else exit(fhir3_types.DaysOfWeekNull);
  end;
end;

class function TVersionConvertor_30_40.convertEventTiming3(src : fhir3_types.TFhirEventTimingEnum) : fhir4_types.TFhirEventTimingEnum;
begin
  case (src) of
    fhir3_types.EventTimingMORN: exit(fhir4_types.EventTimingMORN);
    fhir3_types.EventTimingAFT: exit(fhir4_types.EventTimingAFT);
    fhir3_types.EventTimingEVE: exit(fhir4_types.EventTimingEVE);
    fhir3_types.EventTimingNIGHT: exit(fhir4_types.EventTimingNIGHT);
    fhir3_types.EventTimingPHS: exit(fhir4_types.EventTimingPHS);
    fhir3_types.EventTimingHS: exit(fhir4_types.EventTimingHS);
    fhir3_types.EventTimingWAKE: exit(fhir4_types.EventTimingWAKE);
    fhir3_types.EventTimingC: exit(fhir4_types.EventTimingC);
    fhir3_types.EventTimingCM: exit(fhir4_types.EventTimingCM);
    fhir3_types.EventTimingCD: exit(fhir4_types.EventTimingCD);
    fhir3_types.EventTimingCV: exit(fhir4_types.EventTimingCV);
    fhir3_types.EventTimingAC: exit(fhir4_types.EventTimingAC);
    fhir3_types.EventTimingACM: exit(fhir4_types.EventTimingACM);
    fhir3_types.EventTimingACD: exit(fhir4_types.EventTimingACD);
    fhir3_types.EventTimingACV: exit(fhir4_types.EventTimingACV);
    fhir3_types.EventTimingPC: exit(fhir4_types.EventTimingPC);
    fhir3_types.EventTimingPCM: exit(fhir4_types.EventTimingPCM);
    fhir3_types.EventTimingPCD: exit(fhir4_types.EventTimingPCD);
    fhir3_types.EventTimingPCV: exit(fhir4_types.EventTimingPCV);
    else exit(fhir4_types.EventTimingNull);
  end;
end;

class function TVersionConvertor_30_40.convertEventTiming4(src : fhir4_types.TFhirEventTimingEnum) : fhir3_types.TFhirEventTimingEnum;
begin
  case (src) of
    fhir4_types.EventTimingMORN: exit(fhir3_types.EventTimingMORN);
    fhir4_types.EventTimingAFT: exit(fhir3_types.EventTimingAFT);
    fhir4_types.EventTimingEVE: exit(fhir3_types.EventTimingEVE);
    fhir4_types.EventTimingNIGHT: exit(fhir3_types.EventTimingNIGHT);
    fhir4_types.EventTimingPHS: exit(fhir3_types.EventTimingPHS);
    fhir4_types.EventTimingHS: exit(fhir3_types.EventTimingHS);
    fhir4_types.EventTimingWAKE: exit(fhir3_types.EventTimingWAKE);
    fhir4_types.EventTimingC: exit(fhir3_types.EventTimingC);
    fhir4_types.EventTimingCM: exit(fhir3_types.EventTimingCM);
    fhir4_types.EventTimingCD: exit(fhir3_types.EventTimingCD);
    fhir4_types.EventTimingCV: exit(fhir3_types.EventTimingCV);
    fhir4_types.EventTimingAC: exit(fhir3_types.EventTimingAC);
    fhir4_types.EventTimingACM: exit(fhir3_types.EventTimingACM);
    fhir4_types.EventTimingACD: exit(fhir3_types.EventTimingACD);
    fhir4_types.EventTimingACV: exit(fhir3_types.EventTimingACV);
    fhir4_types.EventTimingPC: exit(fhir3_types.EventTimingPC);
    fhir4_types.EventTimingPCM: exit(fhir3_types.EventTimingPCM);
    fhir4_types.EventTimingPCD: exit(fhir3_types.EventTimingPCD);
    fhir4_types.EventTimingPCV: exit(fhir3_types.EventTimingPCV);
    else exit(fhir3_types.EventTimingNull);
  end;
end;

class function TVersionConvertor_30_40.convertTriggerType3(src : fhir3_types.TFhirTriggerTypeEnum) : fhir4_types.TFhirTriggerTypeEnum;
begin
  case (src) of
    fhir3_types.TriggerTypeNamedEvent: exit(fhir4_types.TriggerTypeNamedEvent);
    fhir3_types.TriggerTypePeriodic: exit(fhir4_types.TriggerTypePeriodic);
    fhir3_types.TriggerTypeDataAdded: exit(fhir4_types.TriggerTypeDataAdded);
    fhir3_types.TriggerTypeDataModified: exit(fhir4_types.TriggerTypeDataModified);
    fhir3_types.TriggerTypeDataRemoved: exit(fhir4_types.TriggerTypeDataRemoved);
    fhir3_types.TriggerTypeDataAccessed: exit(fhir4_types.TriggerTypeDataAccessed);
    fhir3_types.TriggerTypeDataAccessEnded: exit(fhir4_types.TriggerTypeDataAccessEnded);
    else exit(fhir4_types.TriggerTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertTriggerType4(src : fhir4_types.TFhirTriggerTypeEnum) : fhir3_types.TFhirTriggerTypeEnum;
begin
  case (src) of
    fhir4_types.TriggerTypeNamedEvent: exit(fhir3_types.TriggerTypeNamedEvent);
    fhir4_types.TriggerTypePeriodic: exit(fhir3_types.TriggerTypePeriodic);
    fhir4_types.TriggerTypeDataAdded: exit(fhir3_types.TriggerTypeDataAdded);
    fhir4_types.TriggerTypeDataModified: exit(fhir3_types.TriggerTypeDataModified);
    fhir4_types.TriggerTypeDataRemoved: exit(fhir3_types.TriggerTypeDataRemoved);
    fhir4_types.TriggerTypeDataAccessed: exit(fhir3_types.TriggerTypeDataAccessed);
    fhir4_types.TriggerTypeDataAccessEnded: exit(fhir3_types.TriggerTypeDataAccessEnded);
    else exit(fhir3_types.TriggerTypeNull);
  end;
end;

class procedure TVersionConvertor_30_40.copyDomainResource3(src : fhir3_resources.TFhirDomainResource; tgt : fhir4_resources.TFhirDomainResource);
var
  t1 : fhir3_resources.TFhirResource;
  t2 : fhir3_types.TFhirExtension;
  t3 : fhir3_types.TFhirExtension;
begin
  copyResource3(src, tgt);
  if (src.text <> nil) then
    tgt.text := convertNarrative3(src.text);

  for t1 in src.containedList do
  begin
    tgt.containedList.add(convertResource3(t1));
  end;
  for t2 in src.extensionList do
  begin
    tgt.extensionList.add(convertExtension3(t2));
  end;
  for t3 in src.modifierExtensionList do
  begin
    tgt.modifierExtensionList.add(convertExtension3(t3));
  end;
end;

class procedure TVersionConvertor_30_40.copyDomainResource4(src : fhir4_resources.TFhirDomainResource; tgt : fhir3_resources.TFhirDomainResource);
var
  t1 : fhir4_resources.TFhirResource;
  t2 : fhir4_types.TFhirExtension;
  t3 : fhir4_types.TFhirExtension;
begin
  copyResource4(src, tgt);
  if (src.text <> nil) then
    tgt.text := convertNarrative4(src.text);

  for t1 in src.containedList do
  begin
    tgt.containedList.add(convertResource4(t1));
  end;
  for t2 in src.extensionList do
  begin
    tgt.extensionList.add(convertExtension4(t2));
  end;
  for t3 in src.modifierExtensionList do
  begin
    tgt.modifierExtensionList.add(convertExtension4(t3));
  end;
end;

class procedure TVersionConvertor_30_40.copyResource3(src : fhir3_resources.TFhirResource; tgt : fhir4_resources.TFhirResource);
begin
  if (src.id <> '') then
    tgt.id := src.id;

  if (src.meta <> nil) then
    tgt.meta := convertMeta3(src.meta);

  if (src.implicitRules <> '') then
    tgt.implicitRules := src.implicitRules;

  if (src.language <> '') then
    tgt.language := src.language;

end;

class procedure TVersionConvertor_30_40.copyResource4(src : fhir4_resources.TFhirResource; tgt : fhir3_resources.TFhirResource);
begin
  if (src.id <> '') then
    tgt.id := src.id;

  if (src.meta <> nil) then
    tgt.meta := convertMeta4(src.meta);

  if (src.implicitRules <> '') then
    tgt.implicitRules := src.implicitRules;

  if (src.language <> '') then
    tgt.language := src.language;

end;

class function TVersionConvertor_30_40.convertPublicationStatus3(src : fhir3_types.TFhirPublicationStatusEnum) : fhir4_types.TFhirPublicationStatusEnum;
begin
  case (src) of
    fhir3_types.PublicationStatusDraft: exit(fhir4_types.PublicationStatusDraft);
    fhir3_types.PublicationStatusActive: exit(fhir4_types.PublicationStatusActive);
    fhir3_types.PublicationStatusRetired: exit(fhir4_types.PublicationStatusRetired);
    fhir3_types.PublicationStatusUnknown: exit(fhir4_types.PublicationStatusUnknown);
    else exit(fhir4_types.PublicationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertPublicationStatus4(src : fhir4_types.TFhirPublicationStatusEnum) : fhir3_types.TFhirPublicationStatusEnum;
begin
  case (src) of
    fhir4_types.PublicationStatusDraft: exit(fhir3_types.PublicationStatusDraft);
    fhir4_types.PublicationStatusActive: exit(fhir3_types.PublicationStatusActive);
    fhir4_types.PublicationStatusRetired: exit(fhir3_types.PublicationStatusRetired);
    fhir4_types.PublicationStatusUnknown: exit(fhir3_types.PublicationStatusUnknown);
    else exit(fhir3_types.PublicationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertActivityDefinitionKind3(src : fhir3_types.TFhirResourceTypesEnum) : fhir4_types.TFhirResourceTypesEnum;
begin
  case (src) of
    fhir3_types.ResourceTypesAccount: exit(fhir4_types.ResourceTypesAccount);
    fhir3_types.ResourceTypesActivityDefinition: exit(fhir4_types.ResourceTypesActivityDefinition);
    fhir3_types.ResourceTypesAdverseEvent: exit(fhir4_types.ResourceTypesAdverseEvent);
    fhir3_types.ResourceTypesAllergyIntolerance: exit(fhir4_types.ResourceTypesAllergyIntolerance);
    fhir3_types.ResourceTypesAppointment: exit(fhir4_types.ResourceTypesAppointment);
    fhir3_types.ResourceTypesAppointmentResponse: exit(fhir4_types.ResourceTypesAppointmentResponse);
    fhir3_types.ResourceTypesAuditEvent: exit(fhir4_types.ResourceTypesAuditEvent);
    fhir3_types.ResourceTypesBasic: exit(fhir4_types.ResourceTypesBasic);
    fhir3_types.ResourceTypesBinary: exit(fhir4_types.ResourceTypesBinary);
    fhir3_types.ResourceTypesBodySite: exit(fhir4_types.ResourceTypesBodyStructure);
    fhir3_types.ResourceTypesBundle: exit(fhir4_types.ResourceTypesBundle);
    fhir3_types.ResourceTypesCapabilityStatement: exit(fhir4_types.ResourceTypesCapabilityStatement);
    fhir3_types.ResourceTypesCarePlan: exit(fhir4_types.ResourceTypesCarePlan);
    fhir3_types.ResourceTypesCareTeam: exit(fhir4_types.ResourceTypesCareTeam);
    fhir3_types.ResourceTypesChargeItem: exit(fhir4_types.ResourceTypesChargeItem);
    fhir3_types.ResourceTypesClaim: exit(fhir4_types.ResourceTypesClaim);
    fhir3_types.ResourceTypesClaimResponse: exit(fhir4_types.ResourceTypesClaimResponse);
    fhir3_types.ResourceTypesClinicalImpression: exit(fhir4_types.ResourceTypesClinicalImpression);
    fhir3_types.ResourceTypesCodeSystem: exit(fhir4_types.ResourceTypesCodeSystem);
    fhir3_types.ResourceTypesCommunication: exit(fhir4_types.ResourceTypesCommunication);
    fhir3_types.ResourceTypesCommunicationRequest: exit(fhir4_types.ResourceTypesCommunicationRequest);
    fhir3_types.ResourceTypesCompartmentDefinition: exit(fhir4_types.ResourceTypesCompartmentDefinition);
    fhir3_types.ResourceTypesComposition: exit(fhir4_types.ResourceTypesComposition);
    fhir3_types.ResourceTypesConceptMap: exit(fhir4_types.ResourceTypesConceptMap);
    fhir3_types.ResourceTypesCondition: exit(fhir4_types.ResourceTypesCondition);
    fhir3_types.ResourceTypesConsent: exit(fhir4_types.ResourceTypesConsent);
    fhir3_types.ResourceTypesContract: exit(fhir4_types.ResourceTypesContract);
    fhir3_types.ResourceTypesCoverage: exit(fhir4_types.ResourceTypesCoverage);
    fhir3_types.ResourceTypesDetectedIssue: exit(fhir4_types.ResourceTypesDetectedIssue);
    fhir3_types.ResourceTypesDevice: exit(fhir4_types.ResourceTypesDevice);
    fhir3_types.ResourceTypesDeviceMetric: exit(fhir4_types.ResourceTypesDeviceMetric);
    fhir3_types.ResourceTypesDeviceRequest: exit(fhir4_types.ResourceTypesDeviceRequest);
    fhir3_types.ResourceTypesDeviceUseStatement: exit(fhir4_types.ResourceTypesDeviceUseStatement);
    fhir3_types.ResourceTypesDiagnosticReport: exit(fhir4_types.ResourceTypesDiagnosticReport);
    fhir3_types.ResourceTypesDocumentManifest: exit(fhir4_types.ResourceTypesDocumentManifest);
    fhir3_types.ResourceTypesDocumentReference: exit(fhir4_types.ResourceTypesDocumentReference);
    fhir3_types.ResourceTypesDomainResource: exit(fhir4_types.ResourceTypesDomainResource);
    fhir3_types.ResourceTypesEligibilityRequest: exit(fhir4_types.ResourceTypesCoverageEligibilityRequest);
    fhir3_types.ResourceTypesEligibilityResponse: exit(fhir4_types.ResourceTypesCoverageEligibilityResponse);
    fhir3_types.ResourceTypesEncounter: exit(fhir4_types.ResourceTypesEncounter);
    fhir3_types.ResourceTypesEndpoint: exit(fhir4_types.ResourceTypesEndpoint);
    fhir3_types.ResourceTypesEnrollmentRequest: exit(fhir4_types.ResourceTypesEnrollmentRequest);
    fhir3_types.ResourceTypesEnrollmentResponse: exit(fhir4_types.ResourceTypesEnrollmentResponse);
    fhir3_types.ResourceTypesEpisodeOfCare: exit(fhir4_types.ResourceTypesEpisodeOfCare);
    fhir3_types.ResourceTypesExpansionProfile: exit(fhir4_types.ResourceTypesParameters);
    fhir3_types.ResourceTypesExplanationOfBenefit: exit(fhir4_types.ResourceTypesExplanationOfBenefit);
    fhir3_types.ResourceTypesFamilyMemberHistory: exit(fhir4_types.ResourceTypesFamilyMemberHistory);
    fhir3_types.ResourceTypesFlag: exit(fhir4_types.ResourceTypesFlag);
    fhir3_types.ResourceTypesGoal: exit(fhir4_types.ResourceTypesGoal);
    fhir3_types.ResourceTypesGraphDefinition: exit(fhir4_types.ResourceTypesGraphDefinition);
    fhir3_types.ResourceTypesGroup: exit(fhir4_types.ResourceTypesGroup);
    fhir3_types.ResourceTypesGuidanceResponse: exit(fhir4_types.ResourceTypesGuidanceResponse);
    fhir3_types.ResourceTypesHealthcareService: exit(fhir4_types.ResourceTypesHealthcareService);
    fhir3_types.ResourceTypesImagingStudy: exit(fhir4_types.ResourceTypesImagingStudy);
    fhir3_types.ResourceTypesImmunization: exit(fhir4_types.ResourceTypesImmunization);
    fhir3_types.ResourceTypesImmunizationRecommendation: exit(fhir4_types.ResourceTypesImmunizationRecommendation);
    fhir3_types.ResourceTypesImplementationGuide: exit(fhir4_types.ResourceTypesImplementationGuide);
    fhir3_types.ResourceTypesLibrary: exit(fhir4_types.ResourceTypesLibrary);
    fhir3_types.ResourceTypesLinkage: exit(fhir4_types.ResourceTypesLinkage);
    fhir3_types.ResourceTypesList: exit(fhir4_types.ResourceTypesList);
    fhir3_types.ResourceTypesLocation: exit(fhir4_types.ResourceTypesLocation);
    fhir3_types.ResourceTypesMeasure: exit(fhir4_types.ResourceTypesMeasure);
    fhir3_types.ResourceTypesMeasureReport: exit(fhir4_types.ResourceTypesMeasureReport);
    fhir3_types.ResourceTypesMedia: exit(fhir4_types.ResourceTypesMedia);
    fhir3_types.ResourceTypesMedication: exit(fhir4_types.ResourceTypesMedication);
    fhir3_types.ResourceTypesMedicationAdministration: exit(fhir4_types.ResourceTypesMedicationAdministration);
    fhir3_types.ResourceTypesMedicationDispense: exit(fhir4_types.ResourceTypesMedicationDispense);
    fhir3_types.ResourceTypesMedicationRequest: exit(fhir4_types.ResourceTypesMedicationRequest);
    fhir3_types.ResourceTypesMedicationStatement: exit(fhir4_types.ResourceTypesMedicationStatement);
    fhir3_types.ResourceTypesMessageDefinition: exit(fhir4_types.ResourceTypesMessageDefinition);
    fhir3_types.ResourceTypesMessageHeader: exit(fhir4_types.ResourceTypesMessageHeader);
    fhir3_types.ResourceTypesNamingSystem: exit(fhir4_types.ResourceTypesNamingSystem);
    fhir3_types.ResourceTypesNutritionOrder: exit(fhir4_types.ResourceTypesNutritionOrder);
    fhir3_types.ResourceTypesObservation: exit(fhir4_types.ResourceTypesObservation);
    fhir3_types.ResourceTypesOperationDefinition: exit(fhir4_types.ResourceTypesOperationDefinition);
    fhir3_types.ResourceTypesOperationOutcome: exit(fhir4_types.ResourceTypesOperationOutcome);
    fhir3_types.ResourceTypesOrganization: exit(fhir4_types.ResourceTypesOrganization);
    fhir3_types.ResourceTypesParameters: exit(fhir4_types.ResourceTypesParameters);
    fhir3_types.ResourceTypesPatient: exit(fhir4_types.ResourceTypesPatient);
    fhir3_types.ResourceTypesPaymentNotice: exit(fhir4_types.ResourceTypesPaymentNotice);
    fhir3_types.ResourceTypesPaymentReconciliation: exit(fhir4_types.ResourceTypesPaymentReconciliation);
    fhir3_types.ResourceTypesPerson: exit(fhir4_types.ResourceTypesPerson);
    fhir3_types.ResourceTypesPlanDefinition: exit(fhir4_types.ResourceTypesPlanDefinition);
    fhir3_types.ResourceTypesPractitioner: exit(fhir4_types.ResourceTypesPractitioner);
    fhir3_types.ResourceTypesPractitionerRole: exit(fhir4_types.ResourceTypesPractitionerRole);
    fhir3_types.ResourceTypesProcedure: exit(fhir4_types.ResourceTypesProcedure);
    fhir3_types.ResourceTypesProcedureRequest: exit(fhir4_types.ResourceTypesServiceRequest);
    fhir3_types.ResourceTypesProvenance: exit(fhir4_types.ResourceTypesProvenance);
    fhir3_types.ResourceTypesQuestionnaire: exit(fhir4_types.ResourceTypesQuestionnaire);
    fhir3_types.ResourceTypesQuestionnaireResponse: exit(fhir4_types.ResourceTypesQuestionnaireResponse);
    fhir3_types.ResourceTypesReferralRequest: exit(fhir4_types.ResourceTypesServiceRequest);
    fhir3_types.ResourceTypesRelatedPerson: exit(fhir4_types.ResourceTypesRelatedPerson);
    fhir3_types.ResourceTypesRequestGroup: exit(fhir4_types.ResourceTypesRequestGroup);
    fhir3_types.ResourceTypesResearchStudy: exit(fhir4_types.ResourceTypesResearchStudy);
    fhir3_types.ResourceTypesResearchSubject: exit(fhir4_types.ResourceTypesResearchSubject);
    fhir3_types.ResourceTypesResource: exit(fhir4_types.ResourceTypesResource);
    fhir3_types.ResourceTypesRiskAssessment: exit(fhir4_types.ResourceTypesRiskAssessment);
    fhir3_types.ResourceTypesSchedule: exit(fhir4_types.ResourceTypesSchedule);
    fhir3_types.ResourceTypesSearchParameter: exit(fhir4_types.ResourceTypesSearchParameter);
    fhir3_types.ResourceTypesSequence: exit(fhir4_types.ResourceTypesMolecularSequence);
    fhir3_types.ResourceTypesSlot: exit(fhir4_types.ResourceTypesSlot);
    fhir3_types.ResourceTypesSpecimen: exit(fhir4_types.ResourceTypesSpecimen);
    fhir3_types.ResourceTypesStructureDefinition: exit(fhir4_types.ResourceTypesStructureDefinition);
    fhir3_types.ResourceTypesStructureMap: exit(fhir4_types.ResourceTypesStructureMap);
    fhir3_types.ResourceTypesSubscription: exit(fhir4_types.ResourceTypesSubscription);
    fhir3_types.ResourceTypesSubstance: exit(fhir4_types.ResourceTypesSubstance);
    fhir3_types.ResourceTypesSupplyDelivery: exit(fhir4_types.ResourceTypesSupplyDelivery);
    fhir3_types.ResourceTypesSupplyRequest: exit(fhir4_types.ResourceTypesSupplyRequest);
    fhir3_types.ResourceTypesTask: exit(fhir4_types.ResourceTypesTask);
    fhir3_types.ResourceTypesTestReport: exit(fhir4_types.ResourceTypesTestReport);
    fhir3_types.ResourceTypesTestScript: exit(fhir4_types.ResourceTypesTestScript);
    fhir3_types.ResourceTypesValueSet: exit(fhir4_types.ResourceTypesValueSet);
    fhir3_types.ResourceTypesVisionPrescription: exit(fhir4_types.ResourceTypesVisionPrescription);
    else exit(fhir4_types.ResourceTypesNull);
  end;
end;

class function TVersionConvertor_30_40.convertActivityDefinitionKind4(src : fhir4_types.TFhirResourceTypesEnum) : fhir3_types.TFhirResourceTypesEnum;
begin
  case (src) of
    fhir4_types.ResourceTypesAccount: exit(fhir3_types.ResourceTypesAccount);
    fhir4_types.ResourceTypesActivityDefinition: exit(fhir3_types.ResourceTypesActivityDefinition);
    fhir4_types.ResourceTypesAdverseEvent: exit(fhir3_types.ResourceTypesAdverseEvent);
    fhir4_types.ResourceTypesAllergyIntolerance: exit(fhir3_types.ResourceTypesAllergyIntolerance);
    fhir4_types.ResourceTypesAppointment: exit(fhir3_types.ResourceTypesAppointment);
    fhir4_types.ResourceTypesAppointmentResponse: exit(fhir3_types.ResourceTypesAppointmentResponse);
    fhir4_types.ResourceTypesAuditEvent: exit(fhir3_types.ResourceTypesAuditEvent);
    fhir4_types.ResourceTypesBasic: exit(fhir3_types.ResourceTypesBasic);
    fhir4_types.ResourceTypesBinary: exit(fhir3_types.ResourceTypesBinary);
    fhir4_types.ResourceTypesBodyStructure: exit(fhir3_types.ResourceTypesBodySite);
    fhir4_types.ResourceTypesBundle: exit(fhir3_types.ResourceTypesBundle);
    fhir4_types.ResourceTypesCapabilityStatement: exit(fhir3_types.ResourceTypesCapabilityStatement);
    fhir4_types.ResourceTypesCarePlan: exit(fhir3_types.ResourceTypesCarePlan);
    fhir4_types.ResourceTypesCareTeam: exit(fhir3_types.ResourceTypesCareTeam);
    fhir4_types.ResourceTypesChargeItem: exit(fhir3_types.ResourceTypesChargeItem);
    fhir4_types.ResourceTypesClaim: exit(fhir3_types.ResourceTypesClaim);
    fhir4_types.ResourceTypesClaimResponse: exit(fhir3_types.ResourceTypesClaimResponse);
    fhir4_types.ResourceTypesClinicalImpression: exit(fhir3_types.ResourceTypesClinicalImpression);
    fhir4_types.ResourceTypesCodeSystem: exit(fhir3_types.ResourceTypesCodeSystem);
    fhir4_types.ResourceTypesCommunication: exit(fhir3_types.ResourceTypesCommunication);
    fhir4_types.ResourceTypesCommunicationRequest: exit(fhir3_types.ResourceTypesCommunicationRequest);
    fhir4_types.ResourceTypesCompartmentDefinition: exit(fhir3_types.ResourceTypesCompartmentDefinition);
    fhir4_types.ResourceTypesComposition: exit(fhir3_types.ResourceTypesComposition);
    fhir4_types.ResourceTypesConceptMap: exit(fhir3_types.ResourceTypesConceptMap);
    fhir4_types.ResourceTypesCondition: exit(fhir3_types.ResourceTypesCondition);
    fhir4_types.ResourceTypesConsent: exit(fhir3_types.ResourceTypesConsent);
    fhir4_types.ResourceTypesContract: exit(fhir3_types.ResourceTypesContract);
    fhir4_types.ResourceTypesCoverage: exit(fhir3_types.ResourceTypesCoverage);
    fhir4_types.ResourceTypesDetectedIssue: exit(fhir3_types.ResourceTypesDetectedIssue);
    fhir4_types.ResourceTypesDevice: exit(fhir3_types.ResourceTypesDevice);
    fhir4_types.ResourceTypesDeviceMetric: exit(fhir3_types.ResourceTypesDeviceMetric);
    fhir4_types.ResourceTypesDeviceRequest: exit(fhir3_types.ResourceTypesDeviceRequest);
    fhir4_types.ResourceTypesDeviceUseStatement: exit(fhir3_types.ResourceTypesDeviceUseStatement);
    fhir4_types.ResourceTypesDiagnosticReport: exit(fhir3_types.ResourceTypesDiagnosticReport);
    fhir4_types.ResourceTypesDocumentManifest: exit(fhir3_types.ResourceTypesDocumentManifest);
    fhir4_types.ResourceTypesDocumentReference: exit(fhir3_types.ResourceTypesDocumentReference);
    fhir4_types.ResourceTypesDomainResource: exit(fhir3_types.ResourceTypesDomainResource);
    fhir4_types.ResourceTypesCoverageEligibilityRequest: exit(fhir3_types.ResourceTypesEligibilityRequest);
    fhir4_types.ResourceTypesCoverageEligibilityResponse: exit(fhir3_types.ResourceTypesEligibilityResponse);
    fhir4_types.ResourceTypesEncounter: exit(fhir3_types.ResourceTypesEncounter);
    fhir4_types.ResourceTypesEndpoint: exit(fhir3_types.ResourceTypesEndpoint);
    fhir4_types.ResourceTypesEnrollmentRequest: exit(fhir3_types.ResourceTypesEnrollmentRequest);
    fhir4_types.ResourceTypesEnrollmentResponse: exit(fhir3_types.ResourceTypesEnrollmentResponse);
    fhir4_types.ResourceTypesEpisodeOfCare: exit(fhir3_types.ResourceTypesEpisodeOfCare);
//    fhir4_types.ResourceTypesExpansionProfile: exit(fhir3_types.ResourceTypesExpansionProfile);
    fhir4_types.ResourceTypesExplanationOfBenefit: exit(fhir3_types.ResourceTypesExplanationOfBenefit);
    fhir4_types.ResourceTypesFamilyMemberHistory: exit(fhir3_types.ResourceTypesFamilyMemberHistory);
    fhir4_types.ResourceTypesFlag: exit(fhir3_types.ResourceTypesFlag);
    fhir4_types.ResourceTypesGoal: exit(fhir3_types.ResourceTypesGoal);
    fhir4_types.ResourceTypesGraphDefinition: exit(fhir3_types.ResourceTypesGraphDefinition);
    fhir4_types.ResourceTypesGroup: exit(fhir3_types.ResourceTypesGroup);
    fhir4_types.ResourceTypesGuidanceResponse: exit(fhir3_types.ResourceTypesGuidanceResponse);
    fhir4_types.ResourceTypesHealthcareService: exit(fhir3_types.ResourceTypesHealthcareService);
    fhir4_types.ResourceTypesImagingStudy: exit(fhir3_types.ResourceTypesImagingStudy);
    fhir4_types.ResourceTypesImmunization: exit(fhir3_types.ResourceTypesImmunization);
    fhir4_types.ResourceTypesImmunizationRecommendation: exit(fhir3_types.ResourceTypesImmunizationRecommendation);
    fhir4_types.ResourceTypesImplementationGuide: exit(fhir3_types.ResourceTypesImplementationGuide);
    fhir4_types.ResourceTypesLibrary: exit(fhir3_types.ResourceTypesLibrary);
    fhir4_types.ResourceTypesLinkage: exit(fhir3_types.ResourceTypesLinkage);
    fhir4_types.ResourceTypesList: exit(fhir3_types.ResourceTypesList);
    fhir4_types.ResourceTypesLocation: exit(fhir3_types.ResourceTypesLocation);
    fhir4_types.ResourceTypesMeasure: exit(fhir3_types.ResourceTypesMeasure);
    fhir4_types.ResourceTypesMeasureReport: exit(fhir3_types.ResourceTypesMeasureReport);
    fhir4_types.ResourceTypesMedia: exit(fhir3_types.ResourceTypesMedia);
    fhir4_types.ResourceTypesMedication: exit(fhir3_types.ResourceTypesMedication);
    fhir4_types.ResourceTypesMedicationAdministration: exit(fhir3_types.ResourceTypesMedicationAdministration);
    fhir4_types.ResourceTypesMedicationDispense: exit(fhir3_types.ResourceTypesMedicationDispense);
    fhir4_types.ResourceTypesMedicationRequest: exit(fhir3_types.ResourceTypesMedicationRequest);
    fhir4_types.ResourceTypesMedicationStatement: exit(fhir3_types.ResourceTypesMedicationStatement);
    fhir4_types.ResourceTypesMessageDefinition: exit(fhir3_types.ResourceTypesMessageDefinition);
    fhir4_types.ResourceTypesMessageHeader: exit(fhir3_types.ResourceTypesMessageHeader);
    fhir4_types.ResourceTypesNamingSystem: exit(fhir3_types.ResourceTypesNamingSystem);
    fhir4_types.ResourceTypesNutritionOrder: exit(fhir3_types.ResourceTypesNutritionOrder);
    fhir4_types.ResourceTypesObservation: exit(fhir3_types.ResourceTypesObservation);
    fhir4_types.ResourceTypesOperationDefinition: exit(fhir3_types.ResourceTypesOperationDefinition);
    fhir4_types.ResourceTypesOperationOutcome: exit(fhir3_types.ResourceTypesOperationOutcome);
    fhir4_types.ResourceTypesOrganization: exit(fhir3_types.ResourceTypesOrganization);
    fhir4_types.ResourceTypesParameters: exit(fhir3_types.ResourceTypesParameters);
    fhir4_types.ResourceTypesPatient: exit(fhir3_types.ResourceTypesPatient);
    fhir4_types.ResourceTypesPaymentNotice: exit(fhir3_types.ResourceTypesPaymentNotice);
    fhir4_types.ResourceTypesPaymentReconciliation: exit(fhir3_types.ResourceTypesPaymentReconciliation);
    fhir4_types.ResourceTypesPerson: exit(fhir3_types.ResourceTypesPerson);
    fhir4_types.ResourceTypesPlanDefinition: exit(fhir3_types.ResourceTypesPlanDefinition);
    fhir4_types.ResourceTypesPractitioner: exit(fhir3_types.ResourceTypesPractitioner);
    fhir4_types.ResourceTypesPractitionerRole: exit(fhir3_types.ResourceTypesPractitionerRole);
    fhir4_types.ResourceTypesProcedure: exit(fhir3_types.ResourceTypesProcedure);
    fhir4_types.ResourceTypesServiceRequest: exit(fhir3_types.ResourceTypesProcedureRequest);
    fhir4_types.ResourceTypesProvenance: exit(fhir3_types.ResourceTypesProvenance);
    fhir4_types.ResourceTypesQuestionnaire: exit(fhir3_types.ResourceTypesQuestionnaire);
    fhir4_types.ResourceTypesQuestionnaireResponse: exit(fhir3_types.ResourceTypesQuestionnaireResponse);
    fhir4_types.ResourceTypesRelatedPerson: exit(fhir3_types.ResourceTypesRelatedPerson);
    fhir4_types.ResourceTypesRequestGroup: exit(fhir3_types.ResourceTypesRequestGroup);
    fhir4_types.ResourceTypesResearchStudy: exit(fhir3_types.ResourceTypesResearchStudy);
    fhir4_types.ResourceTypesResearchSubject: exit(fhir3_types.ResourceTypesResearchSubject);
    fhir4_types.ResourceTypesResource: exit(fhir3_types.ResourceTypesResource);
    fhir4_types.ResourceTypesRiskAssessment: exit(fhir3_types.ResourceTypesRiskAssessment);
    fhir4_types.ResourceTypesSchedule: exit(fhir3_types.ResourceTypesSchedule);
    fhir4_types.ResourceTypesSearchParameter: exit(fhir3_types.ResourceTypesSearchParameter);
    fhir4_types.ResourceTypesMolecularSequence: exit(fhir3_types.ResourceTypesSequence);
    fhir4_types.ResourceTypesSlot: exit(fhir3_types.ResourceTypesSlot);
    fhir4_types.ResourceTypesSpecimen: exit(fhir3_types.ResourceTypesSpecimen);
    fhir4_types.ResourceTypesStructureDefinition: exit(fhir3_types.ResourceTypesStructureDefinition);
    fhir4_types.ResourceTypesStructureMap: exit(fhir3_types.ResourceTypesStructureMap);
    fhir4_types.ResourceTypesSubscription: exit(fhir3_types.ResourceTypesSubscription);
    fhir4_types.ResourceTypesSubstance: exit(fhir3_types.ResourceTypesSubstance);
    fhir4_types.ResourceTypesSupplyDelivery: exit(fhir3_types.ResourceTypesSupplyDelivery);
    fhir4_types.ResourceTypesSupplyRequest: exit(fhir3_types.ResourceTypesSupplyRequest);
    fhir4_types.ResourceTypesTask: exit(fhir3_types.ResourceTypesTask);
    fhir4_types.ResourceTypesTestReport: exit(fhir3_types.ResourceTypesTestReport);
    fhir4_types.ResourceTypesTestScript: exit(fhir3_types.ResourceTypesTestScript);
    fhir4_types.ResourceTypesValueSet: exit(fhir3_types.ResourceTypesValueSet);
    fhir4_types.ResourceTypesVisionPrescription: exit(fhir3_types.ResourceTypesVisionPrescription);
    else exit(fhir3_types.ResourceTypesNull);
  end;
end;

class function TVersionConvertor_30_40.convertActivityParticipantType3(src : fhir3_types.TFhirActionParticipantTypeEnum) : fhir4_types.TFhirActionParticipantTypeEnum;
begin
  case (src) of
    fhir3_types.ActionParticipantTypePatient: exit(fhir4_types.ActionParticipantTypePatient);
    fhir3_types.ActionParticipantTypePractitioner: exit(fhir4_types.ActionParticipantTypePractitioner);
    fhir3_types.ActionParticipantTypeRelatedPerson: exit(fhir4_types.ActionParticipantTypeRelatedPerson);
    else exit(fhir4_types.ActionParticipantTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertActivityParticipantType4(src : fhir4_types.TFhirActionParticipantTypeEnum) : fhir3_types.TFhirActionParticipantTypeEnum;
begin
  case (src) of
    fhir4_types.ActionParticipantTypePatient: exit(fhir3_types.ActionParticipantTypePatient);
    fhir4_types.ActionParticipantTypePractitioner: exit(fhir3_types.ActionParticipantTypePractitioner);
    fhir4_types.ActionParticipantTypeRelatedPerson: exit(fhir3_types.ActionParticipantTypeRelatedPerson);
    else exit(fhir3_types.ActionParticipantTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceClinicalStatus3(src : fhir3_types.TFhirAllergyClinicalStatusEnum) : fhir4_types.TFhirCodeableConcept;
begin
  case (src) of
    fhir3_types.AllergyClinicalStatusActive: exit(fhir4_types.TFhirCodeableConcept.Create('http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical', 'active'));
    fhir3_types.AllergyClinicalStatusInactive: exit(fhir4_types.TFhirCodeableConcept.Create('http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical', 'inactive'));
    fhir3_types.AllergyClinicalStatusResolved: exit(fhir4_types.TFhirCodeableConcept.Create('http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical', 'resolved'));
    else exit(nil);
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceClinicalStatus4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirAllergyClinicalStatusEnum;
begin
  if (src.hasCode('http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical', 'active')) then
    exit(fhir3_types.AllergyClinicalStatusActive);
  if (src.hasCode('http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical', 'inactive')) then
    exit(fhir3_types.AllergyClinicalStatusInactive);
  if (src.hasCode('http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical', 'resolve')) then
    exit(fhir3_types.AllergyClinicalStatusResolved);
  exit(fhir3_types.AllergyClinicalStatusNull);
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceVerificationStatus3(src : fhir3_types.TFhirAllergyVerificationStatusEnum) : fhir4_types.TFhirCodeableConcept;
begin
  case (src) of
    fhir3_types.AllergyVerificationStatusUnconfirmed: exit(fhir4_types.TFhirCodeableConcept.Create('http://terminology.hl7.org/CodeSystem/allergyintolerance-verification', 'unconfirmed'));
    fhir3_types.AllergyVerificationStatusConfirmed: exit(fhir4_types.TFhirCodeableConcept.Create('http://terminology.hl7.org/CodeSystem/allergyintolerance-verification', 'confirmed'));
    fhir3_types.AllergyVerificationStatusRefuted: exit(fhir4_types.TFhirCodeableConcept.Create('http://terminology.hl7.org/CodeSystem/allergyintolerance-verification', 'refuted'));
    fhir3_types.AllergyVerificationStatusEnteredInError: exit(fhir4_types.TFhirCodeableConcept.Create('http://terminology.hl7.org/CodeSystem/allergyintolerance-verification', 'entered-in-error'));
    else exit(nil);
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceVerificationStatus4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirAllergyVerificationStatusEnum;
begin
  if (src.hasCode('http://terminology.hl7.org/CodeSystem/allergyintolerance-verification', 'unconfirmed')) then
    exit(fhir3_types.AllergyVerificationStatusUnconfirmed);
  if (src.hasCode('http://terminology.hl7.org/CodeSystem/allergyintolerance-verification', 'confirmed')) then
    exit(fhir3_types.AllergyVerificationStatusConfirmed);
  if (src.hasCode('http://terminology.hl7.org/CodeSystem/allergyintolerance-verification', 'refuted')) then
    exit(fhir3_types.AllergyVerificationStatusRefuted);
  if (src.hasCode('http://terminology.hl7.org/CodeSystem/allergyintolerance-verification', 'entered-in-error')) then
    exit(fhir3_types.AllergyVerificationStatusEnteredInError);
  exit(fhir3_types.AllergyVerificationStatusNull);
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceType3(src : fhir3_types.TFhirAllergyIntoleranceTypeEnum) : fhir4_types.TFhirAllergyIntoleranceTypeEnum;
begin
  case (src) of
    fhir3_types.AllergyIntoleranceTypeAllergy: exit(fhir4_types.AllergyIntoleranceTypeAllergy);
    fhir3_types.AllergyIntoleranceTypeIntolerance: exit(fhir4_types.AllergyIntoleranceTypeIntolerance);
    else exit(fhir4_types.AllergyIntoleranceTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceType4(src : fhir4_types.TFhirAllergyIntoleranceTypeEnum) : fhir3_types.TFhirAllergyIntoleranceTypeEnum;
begin
  case (src) of
    fhir4_types.AllergyIntoleranceTypeAllergy: exit(fhir3_types.AllergyIntoleranceTypeAllergy);
    fhir4_types.AllergyIntoleranceTypeIntolerance: exit(fhir3_types.AllergyIntoleranceTypeIntolerance);
    else exit(fhir3_types.AllergyIntoleranceTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceCategory3(src : fhir3_types.TFhirAllergyIntoleranceCategoryEnum) : fhir4_types.TFhirAllergyIntoleranceCategoryEnum;
begin
  case (src) of
    fhir3_types.AllergyIntoleranceCategoryFood: exit(fhir4_types.AllergyIntoleranceCategoryFood);
    fhir3_types.AllergyIntoleranceCategoryMedication: exit(fhir4_types.AllergyIntoleranceCategoryMedication);
    fhir3_types.AllergyIntoleranceCategoryEnvironment: exit(fhir4_types.AllergyIntoleranceCategoryEnvironment);
    fhir3_types.AllergyIntoleranceCategoryBiologic: exit(fhir4_types.AllergyIntoleranceCategoryBiologic);
    else exit(fhir4_types.AllergyIntoleranceCategoryNull);
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceCategory4(src : fhir4_types.TFhirAllergyIntoleranceCategoryEnum) : fhir3_types.TFhirAllergyIntoleranceCategoryEnum;
begin
  case (src) of
    fhir4_types.AllergyIntoleranceCategoryFood: exit(fhir3_types.AllergyIntoleranceCategoryFood);
    fhir4_types.AllergyIntoleranceCategoryMedication: exit(fhir3_types.AllergyIntoleranceCategoryMedication);
    fhir4_types.AllergyIntoleranceCategoryEnvironment: exit(fhir3_types.AllergyIntoleranceCategoryEnvironment);
    fhir4_types.AllergyIntoleranceCategoryBiologic: exit(fhir3_types.AllergyIntoleranceCategoryBiologic);
    else exit(fhir3_types.AllergyIntoleranceCategoryNull);
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceCriticality3(src : fhir3_types.TFhirAllergyIntoleranceCriticalityEnum) : fhir4_types.TFhirAllergyIntoleranceCriticalityEnum;
begin
  case (src) of
    fhir3_types.AllergyIntoleranceCriticalityLow: exit(fhir4_types.AllergyIntoleranceCriticalityLow);
    fhir3_types.AllergyIntoleranceCriticalityHigh: exit(fhir4_types.AllergyIntoleranceCriticalityHigh);
    fhir3_types.AllergyIntoleranceCriticalityUnableToAssess: exit(fhir4_types.AllergyIntoleranceCriticalityUnableToAssess);
    else exit(fhir4_types.AllergyIntoleranceCriticalityNull);
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceCriticality4(src : fhir4_types.TFhirAllergyIntoleranceCriticalityEnum) : fhir3_types.TFhirAllergyIntoleranceCriticalityEnum;
begin
  case (src) of
    fhir4_types.AllergyIntoleranceCriticalityLow: exit(fhir3_types.AllergyIntoleranceCriticalityLow);
    fhir4_types.AllergyIntoleranceCriticalityHigh: exit(fhir3_types.AllergyIntoleranceCriticalityHigh);
    fhir4_types.AllergyIntoleranceCriticalityUnableToAssess: exit(fhir3_types.AllergyIntoleranceCriticalityUnableToAssess);
    else exit(fhir3_types.AllergyIntoleranceCriticalityNull);
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceSeverity3(src : fhir3_types.TFhirReactionEventSeverityEnum) : fhir4_types.TFhirReactionEventSeverityEnum;
begin
  case (src) of
    fhir3_types.ReactionEventSeverityMild: exit(fhir4_types.ReactionEventSeverityMild);
    fhir3_types.ReactionEventSeverityModerate: exit(fhir4_types.ReactionEventSeverityModerate);
    fhir3_types.ReactionEventSeveritySevere: exit(fhir4_types.ReactionEventSeveritySevere);
    else exit(fhir4_types.ReactionEventSeverityNull);
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceSeverity4(src : fhir4_types.TFhirReactionEventSeverityEnum) : fhir3_types.TFhirReactionEventSeverityEnum;
begin
  case (src) of
    fhir4_types.ReactionEventSeverityMild: exit(fhir3_types.ReactionEventSeverityMild);
    fhir4_types.ReactionEventSeverityModerate: exit(fhir3_types.ReactionEventSeverityModerate);
    fhir4_types.ReactionEventSeveritySevere: exit(fhir3_types.ReactionEventSeveritySevere);
    else exit(fhir3_types.ReactionEventSeverityNull);
  end;
end;

class function TVersionConvertor_30_40.convertAppointmentStatus3(src : fhir3_types.TFhirAppointmentstatusEnum) : fhir4_types.TFhirAppointmentstatusEnum;
begin
  case (src) of
    fhir3_types.AppointmentstatusProposed: exit(fhir4_types.AppointmentstatusProposed);
    fhir3_types.AppointmentstatusPending: exit(fhir4_types.AppointmentstatusPending);
    fhir3_types.AppointmentstatusBooked: exit(fhir4_types.AppointmentstatusBooked);
    fhir3_types.AppointmentstatusArrived: exit(fhir4_types.AppointmentstatusArrived);
    fhir3_types.AppointmentstatusFulfilled: exit(fhir4_types.AppointmentstatusFulfilled);
    fhir3_types.AppointmentstatusCancelled: exit(fhir4_types.AppointmentstatusCancelled);
    fhir3_types.AppointmentstatusNoshow: exit(fhir4_types.AppointmentstatusNoshow);
    fhir3_types.AppointmentstatusEnteredInError: exit(fhir4_types.AppointmentstatusEnteredInError);
    else exit(fhir4_types.AppointmentstatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertAppointmentStatus4(src : fhir4_types.TFhirAppointmentstatusEnum) : fhir3_types.TFhirAppointmentstatusEnum;
begin
  case (src) of
    fhir4_types.AppointmentstatusProposed: exit(fhir3_types.AppointmentstatusProposed);
    fhir4_types.AppointmentstatusPending: exit(fhir3_types.AppointmentstatusPending);
    fhir4_types.AppointmentstatusBooked: exit(fhir3_types.AppointmentstatusBooked);
    fhir4_types.AppointmentstatusArrived: exit(fhir3_types.AppointmentstatusArrived);
    fhir4_types.AppointmentstatusFulfilled: exit(fhir3_types.AppointmentstatusFulfilled);
    fhir4_types.AppointmentstatusCancelled: exit(fhir3_types.AppointmentstatusCancelled);
    fhir4_types.AppointmentstatusNoshow: exit(fhir3_types.AppointmentstatusNoshow);
    fhir4_types.AppointmentstatusEnteredInError: exit(fhir3_types.AppointmentstatusEnteredInError);
    else exit(fhir3_types.AppointmentstatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertParticipantRequired3(src : fhir3_types.TFhirParticipantrequiredEnum) : fhir4_types.TFhirParticipantrequiredEnum;
begin
  case (src) of
    fhir3_types.ParticipantrequiredRequired: exit(fhir4_types.ParticipantrequiredRequired);
    fhir3_types.ParticipantrequiredOptional: exit(fhir4_types.ParticipantrequiredOptional);
    fhir3_types.ParticipantrequiredInformationOnly: exit(fhir4_types.ParticipantrequiredInformationOnly);
    else exit(fhir4_types.ParticipantrequiredNull);
  end;
end;

class function TVersionConvertor_30_40.convertParticipantRequired4(src : fhir4_types.TFhirParticipantrequiredEnum) : fhir3_types.TFhirParticipantrequiredEnum;
begin
  case (src) of
    fhir4_types.ParticipantrequiredRequired: exit(fhir3_types.ParticipantrequiredRequired);
    fhir4_types.ParticipantrequiredOptional: exit(fhir3_types.ParticipantrequiredOptional);
    fhir4_types.ParticipantrequiredInformationOnly: exit(fhir3_types.ParticipantrequiredInformationOnly);
    else exit(fhir3_types.ParticipantrequiredNull);
  end;
end;

class function TVersionConvertor_30_40.convertParticipationStatus3(src : fhir3_types.TFhirParticipationstatusEnum) : fhir4_types.TFhirParticipationstatusEnum;
begin
  case (src) of
    fhir3_types.ParticipationstatusAccepted: exit(fhir4_types.ParticipationstatusAccepted);
    fhir3_types.ParticipationstatusDeclined: exit(fhir4_types.ParticipationstatusDeclined);
    fhir3_types.ParticipationstatusTentative: exit(fhir4_types.ParticipationstatusTentative);
    fhir3_types.ParticipationstatusNeedsAction: exit(fhir4_types.ParticipationstatusNeedsAction);
    else exit(fhir4_types.ParticipationstatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertParticipationStatus4(src : fhir4_types.TFhirParticipationstatusEnum) : fhir3_types.TFhirParticipationstatusEnum;
begin
  case (src) of
    fhir4_types.ParticipationstatusAccepted: exit(fhir3_types.ParticipationstatusAccepted);
    fhir4_types.ParticipationstatusDeclined: exit(fhir3_types.ParticipationstatusDeclined);
    fhir4_types.ParticipationstatusTentative: exit(fhir3_types.ParticipationstatusTentative);
    fhir4_types.ParticipationstatusNeedsAction: exit(fhir3_types.ParticipationstatusNeedsAction);
    else exit(fhir3_types.ParticipationstatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertParticipantStatus3(src : fhir3_types.TFhirParticipationstatusEnum) : fhir4_types.TFhirParticipationstatusEnum;
begin
  case (src) of
    fhir3_types.ParticipationstatusAccepted: exit(fhir4_types.ParticipationstatusAccepted);
    fhir3_types.ParticipationstatusDeclined: exit(fhir4_types.ParticipationstatusDeclined);
    fhir3_types.ParticipationstatusTentative: exit(fhir4_types.ParticipationstatusTentative);
    fhir3_types.ParticipationstatusNeedsAction: exit(fhir4_types.ParticipationstatusNeedsAction);
    else exit(fhir4_types.ParticipationstatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertParticipantStatus4(src : fhir4_types.TFhirParticipationstatusEnum) : fhir3_types.TFhirParticipationstatusEnum;
begin
  case (src) of
    fhir4_types.ParticipationstatusAccepted: exit(fhir3_types.ParticipationstatusAccepted);
    fhir4_types.ParticipationstatusDeclined: exit(fhir3_types.ParticipationstatusDeclined);
    fhir4_types.ParticipationstatusTentative: exit(fhir3_types.ParticipationstatusTentative);
    fhir4_types.ParticipationstatusNeedsAction: exit(fhir3_types.ParticipationstatusNeedsAction);
    else exit(fhir3_types.ParticipationstatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventAction3(src : fhir3_types.TFhirAuditEventActionEnum) : fhir4_types.TFhirAuditEventActionEnum;
begin
  case (src) of
    fhir3_types.AuditEventActionC: exit(fhir4_types.AuditEventActionC);
    fhir3_types.AuditEventActionR: exit(fhir4_types.AuditEventActionR);
    fhir3_types.AuditEventActionU: exit(fhir4_types.AuditEventActionU);
    fhir3_types.AuditEventActionD: exit(fhir4_types.AuditEventActionD);
    fhir3_types.AuditEventActionE: exit(fhir4_types.AuditEventActionE);
    else exit(fhir4_types.AuditEventActionNull);
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventAction4(src : fhir4_types.TFhirAuditEventActionEnum) : fhir3_types.TFhirAuditEventActionEnum;
begin
  case (src) of
    fhir4_types.AuditEventActionC: exit(fhir3_types.AuditEventActionC);
    fhir4_types.AuditEventActionR: exit(fhir3_types.AuditEventActionR);
    fhir4_types.AuditEventActionU: exit(fhir3_types.AuditEventActionU);
    fhir4_types.AuditEventActionD: exit(fhir3_types.AuditEventActionD);
    fhir4_types.AuditEventActionE: exit(fhir3_types.AuditEventActionE);
    else exit(fhir3_types.AuditEventActionNull);
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventOutcome3(src : fhir3_types.TFhirAuditEventOutcomeEnum) : fhir4_types.TFhirAuditEventOutcomeEnum;
begin
  case (src) of
    fhir3_types.AuditEventOutcome0: exit(fhir4_types.AuditEventOutcome0);
    fhir3_types.AuditEventOutcome4: exit(fhir4_types.AuditEventOutcome4);
    fhir3_types.AuditEventOutcome8: exit(fhir4_types.AuditEventOutcome8);
    fhir3_types.AuditEventOutcome12: exit(fhir4_types.AuditEventOutcome12);
    else exit(fhir4_types.AuditEventOutcomeNull);
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventOutcome4(src : fhir4_types.TFhirAuditEventOutcomeEnum) : fhir3_types.TFhirAuditEventOutcomeEnum;
begin
  case (src) of
    fhir4_types.AuditEventOutcome0: exit(fhir3_types.AuditEventOutcome0);
    fhir4_types.AuditEventOutcome4: exit(fhir3_types.AuditEventOutcome4);
    fhir4_types.AuditEventOutcome8: exit(fhir3_types.AuditEventOutcome8);
    fhir4_types.AuditEventOutcome12: exit(fhir3_types.AuditEventOutcome12);
    else exit(fhir3_types.AuditEventOutcomeNull);
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventAgentNetworkType3(src : fhir3_types.TFhirNetworkTypeEnum) : fhir4_types.TFhirNetworkTypeEnum;
begin
  case (src) of
    fhir3_types.NetworkType1: exit(fhir4_types.NetworkType1);
    fhir3_types.NetworkType2: exit(fhir4_types.NetworkType2);
    fhir3_types.NetworkType3: exit(fhir4_types.NetworkType3);
    fhir3_types.NetworkType4: exit(fhir4_types.NetworkType4);
    fhir3_types.NetworkType5: exit(fhir4_types.NetworkType5);
    else exit(fhir4_types.NetworkTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventAgentNetworkType4(src : fhir4_types.TFhirNetworkTypeEnum) : fhir3_types.TFhirNetworkTypeEnum;
begin
  case (src) of
    fhir4_types.NetworkType1: exit(fhir3_types.NetworkType1);
    fhir4_types.NetworkType2: exit(fhir3_types.NetworkType2);
    fhir4_types.NetworkType3: exit(fhir3_types.NetworkType3);
    fhir4_types.NetworkType4: exit(fhir3_types.NetworkType4);
    fhir4_types.NetworkType5: exit(fhir3_types.NetworkType5);
    else exit(fhir3_types.NetworkTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertBundleType3(src : fhir3_types.TFhirBundleTypeEnum) : fhir4_types.TFhirBundleTypeEnum;
begin
  case (src) of
    fhir3_types.BundleTypeDocument: exit(fhir4_types.BundleTypeDocument);
    fhir3_types.BundleTypeMessage: exit(fhir4_types.BundleTypeMessage);
    fhir3_types.BundleTypeTransaction: exit(fhir4_types.BundleTypeTransaction);
    fhir3_types.BundleTypeTransactionResponse: exit(fhir4_types.BundleTypeTransactionResponse);
    fhir3_types.BundleTypeBatch: exit(fhir4_types.BundleTypeBatch);
    fhir3_types.BundleTypeBatchResponse: exit(fhir4_types.BundleTypeBatchResponse);
    fhir3_types.BundleTypeHistory: exit(fhir4_types.BundleTypeHistory);
    fhir3_types.BundleTypeSearchset: exit(fhir4_types.BundleTypeSearchset);
    fhir3_types.BundleTypeCollection: exit(fhir4_types.BundleTypeCollection);
    else exit(fhir4_types.BundleTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertBundleType4(src : fhir4_types.TFhirBundleTypeEnum) : fhir3_types.TFhirBundleTypeEnum;
begin
  case (src) of
    fhir4_types.BundleTypeDocument: exit(fhir3_types.BundleTypeDocument);
    fhir4_types.BundleTypeMessage: exit(fhir3_types.BundleTypeMessage);
    fhir4_types.BundleTypeTransaction: exit(fhir3_types.BundleTypeTransaction);
    fhir4_types.BundleTypeTransactionResponse: exit(fhir3_types.BundleTypeTransactionResponse);
    fhir4_types.BundleTypeBatch: exit(fhir3_types.BundleTypeBatch);
    fhir4_types.BundleTypeBatchResponse: exit(fhir3_types.BundleTypeBatchResponse);
    fhir4_types.BundleTypeHistory: exit(fhir3_types.BundleTypeHistory);
    fhir4_types.BundleTypeSearchset: exit(fhir3_types.BundleTypeSearchset);
    fhir4_types.BundleTypeCollection: exit(fhir3_types.BundleTypeCollection);
    else exit(fhir3_types.BundleTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertSearchEntryMode3(src : fhir3_types.TFhirSearchEntryModeEnum) : fhir4_types.TFhirSearchEntryModeEnum;
begin
  case (src) of
    fhir3_types.SearchEntryModeMatch: exit(fhir4_types.SearchEntryModeMatch);
    fhir3_types.SearchEntryModeInclude: exit(fhir4_types.SearchEntryModeInclude);
    fhir3_types.SearchEntryModeOutcome: exit(fhir4_types.SearchEntryModeOutcome);
    else exit(fhir4_types.SearchEntryModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertSearchEntryMode4(src : fhir4_types.TFhirSearchEntryModeEnum) : fhir3_types.TFhirSearchEntryModeEnum;
begin
  case (src) of
    fhir4_types.SearchEntryModeMatch: exit(fhir3_types.SearchEntryModeMatch);
    fhir4_types.SearchEntryModeInclude: exit(fhir3_types.SearchEntryModeInclude);
    fhir4_types.SearchEntryModeOutcome: exit(fhir3_types.SearchEntryModeOutcome);
    else exit(fhir3_types.SearchEntryModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertHTTPVerb3(src : fhir3_types.TFhirHttpVerbEnum) : fhir4_types.TFhirHttpVerbEnum;
begin
  case (src) of
    fhir3_types.HttpVerbGET: exit(fhir4_types.HttpVerbGET);
    fhir3_types.HttpVerbPOST: exit(fhir4_types.HttpVerbPOST);
    fhir3_types.HttpVerbPUT: exit(fhir4_types.HttpVerbPUT);
    fhir3_types.HttpVerbDELETE: exit(fhir4_types.HttpVerbDELETE);
    else exit(fhir4_types.HttpVerbNull);
  end;
end;

class function TVersionConvertor_30_40.convertHTTPVerb4(src : fhir4_types.TFhirHttpVerbEnum) : fhir3_types.TFhirHttpVerbEnum;
begin
  case (src) of
    fhir4_types.HttpVerbGET: exit(fhir3_types.HttpVerbGET);
    fhir4_types.HttpVerbPOST: exit(fhir3_types.HttpVerbPOST);
    fhir4_types.HttpVerbPUT: exit(fhir3_types.HttpVerbPUT);
    fhir4_types.HttpVerbDELETE: exit(fhir3_types.HttpVerbDELETE);
    else exit(fhir3_types.HttpVerbNull);
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementKind3(src : fhir3_types.TFhirCapabilityStatementKindEnum) : fhir4_types.TFhirCapabilityStatementKindEnum;
begin
  case (src) of
    fhir3_types.CapabilityStatementKindInstance: exit(fhir4_types.CapabilityStatementKindInstance);
    fhir3_types.CapabilityStatementKindCapability: exit(fhir4_types.CapabilityStatementKindCapability);
    fhir3_types.CapabilityStatementKindRequirements: exit(fhir4_types.CapabilityStatementKindRequirements);
    else exit(fhir4_types.CapabilityStatementKindNull);
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementKind4(src : fhir4_types.TFhirCapabilityStatementKindEnum) : fhir3_types.TFhirCapabilityStatementKindEnum;
begin
  case (src) of
    fhir4_types.CapabilityStatementKindInstance: exit(fhir3_types.CapabilityStatementKindInstance);
    fhir4_types.CapabilityStatementKindCapability: exit(fhir3_types.CapabilityStatementKindCapability);
    fhir4_types.CapabilityStatementKindRequirements: exit(fhir3_types.CapabilityStatementKindRequirements);
    else exit(fhir3_types.CapabilityStatementKindNull);
  end;
end;

class function TVersionConvertor_30_40.convertRestfulCapabilityMode3(src : fhir3_types.TFhirRestfulCapabilityModeEnum) : fhir4_types.TFhirRestfulCapabilityModeEnum;
begin
  case (src) of
    fhir3_types.RestfulCapabilityModeClient: exit(fhir4_types.RestfulCapabilityModeClient);
    fhir3_types.RestfulCapabilityModeServer: exit(fhir4_types.RestfulCapabilityModeServer);
    else exit(fhir4_types.RestfulCapabilityModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertRestfulCapabilityMode4(src : fhir4_types.TFhirRestfulCapabilityModeEnum) : fhir3_types.TFhirRestfulCapabilityModeEnum;
begin
  case (src) of
    fhir4_types.RestfulCapabilityModeClient: exit(fhir3_types.RestfulCapabilityModeClient);
    fhir4_types.RestfulCapabilityModeServer: exit(fhir3_types.RestfulCapabilityModeServer);
    else exit(fhir3_types.RestfulCapabilityModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertReferenceToCanonical3(src : fhir3_types.TFhirReference) : fhir4_types.TFhirCanonical;
var
  dst : fhir4_types.TFhirCanonical;
begin
  dst := fhir4_types.TFhirCanonical.Create(src.reference);
  copyElement3(src, dst);
exit(dst);
end;

class function TVersionConvertor_30_40.convertCanonicalToReference4(src : fhir4_types.TFhirCanonical) : fhir3_types.TFhirReference;
var
  dst : fhir3_types.TFhirReference;
begin
  dst := fhir3_types.TFhirReference.Create(src.value);
  copyElement4(src, dst);
exit(dst);
end;

class function TVersionConvertor_30_40.convertResourceVersionPolicy3(src : fhir3_types.TFhirVersioningPolicyEnum) : fhir4_types.TFhirVersioningPolicyEnum;
begin
  case (src) of
    fhir3_types.VersioningPolicyNoVersion: exit(fhir4_types.VersioningPolicyNoVersion);
    fhir3_types.VersioningPolicyVersioned: exit(fhir4_types.VersioningPolicyVersioned);
    fhir3_types.VersioningPolicyVersionedUpdate: exit(fhir4_types.VersioningPolicyVersionedUpdate);
    else exit(fhir4_types.VersioningPolicyNull);
  end;
end;

class function TVersionConvertor_30_40.convertResourceVersionPolicy4(src : fhir4_types.TFhirVersioningPolicyEnum) : fhir3_types.TFhirVersioningPolicyEnum;
begin
  case (src) of
    fhir4_types.VersioningPolicyNoVersion: exit(fhir3_types.VersioningPolicyNoVersion);
    fhir4_types.VersioningPolicyVersioned: exit(fhir3_types.VersioningPolicyVersioned);
    fhir4_types.VersioningPolicyVersionedUpdate: exit(fhir3_types.VersioningPolicyVersionedUpdate);
    else exit(fhir3_types.VersioningPolicyNull);
  end;
end;

class function TVersionConvertor_30_40.convertConditionalReadStatus3(src : fhir3_types.TFhirConditionalReadStatusEnum) : fhir4_types.TFhirConditionalReadStatusEnum;
begin
  case (src) of
    fhir3_types.ConditionalReadStatusNotSupported: exit(fhir4_types.ConditionalReadStatusNotSupported);
    fhir3_types.ConditionalReadStatusModifiedSince: exit(fhir4_types.ConditionalReadStatusModifiedSince);
    fhir3_types.ConditionalReadStatusNotMatch: exit(fhir4_types.ConditionalReadStatusNotMatch);
    fhir3_types.ConditionalReadStatusFullSupport: exit(fhir4_types.ConditionalReadStatusFullSupport);
    else exit(fhir4_types.ConditionalReadStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertConditionalReadStatus4(src : fhir4_types.TFhirConditionalReadStatusEnum) : fhir3_types.TFhirConditionalReadStatusEnum;
begin
  case (src) of
    fhir4_types.ConditionalReadStatusNotSupported: exit(fhir3_types.ConditionalReadStatusNotSupported);
    fhir4_types.ConditionalReadStatusModifiedSince: exit(fhir3_types.ConditionalReadStatusModifiedSince);
    fhir4_types.ConditionalReadStatusNotMatch: exit(fhir3_types.ConditionalReadStatusNotMatch);
    fhir4_types.ConditionalReadStatusFullSupport: exit(fhir3_types.ConditionalReadStatusFullSupport);
    else exit(fhir3_types.ConditionalReadStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertConditionalDeleteStatus3(src : fhir3_types.TFhirConditionalDeleteStatusEnum) : fhir4_types.TFhirConditionalDeleteStatusEnum;
begin
  case (src) of
    fhir3_types.ConditionalDeleteStatusNotSupported: exit(fhir4_types.ConditionalDeleteStatusNotSupported);
    fhir3_types.ConditionalDeleteStatusSingle: exit(fhir4_types.ConditionalDeleteStatusSingle);
    fhir3_types.ConditionalDeleteStatusMultiple: exit(fhir4_types.ConditionalDeleteStatusMultiple);
    else exit(fhir4_types.ConditionalDeleteStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertConditionalDeleteStatus4(src : fhir4_types.TFhirConditionalDeleteStatusEnum) : fhir3_types.TFhirConditionalDeleteStatusEnum;
begin
  case (src) of
    fhir4_types.ConditionalDeleteStatusNotSupported: exit(fhir3_types.ConditionalDeleteStatusNotSupported);
    fhir4_types.ConditionalDeleteStatusSingle: exit(fhir3_types.ConditionalDeleteStatusSingle);
    fhir4_types.ConditionalDeleteStatusMultiple: exit(fhir3_types.ConditionalDeleteStatusMultiple);
    else exit(fhir3_types.ConditionalDeleteStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertReferenceHandlingPolicy3(src : fhir3_types.TFhirReferenceHandlingPolicyEnum) : fhir4_types.TFhirReferenceHandlingPolicyEnum;
begin
  case (src) of
    fhir3_types.ReferenceHandlingPolicyLiteral: exit(fhir4_types.ReferenceHandlingPolicyLiteral);
    fhir3_types.ReferenceHandlingPolicyLogical: exit(fhir4_types.ReferenceHandlingPolicyLogical);
    fhir3_types.ReferenceHandlingPolicyResolves: exit(fhir4_types.ReferenceHandlingPolicyResolves);
    fhir3_types.ReferenceHandlingPolicyEnforced: exit(fhir4_types.ReferenceHandlingPolicyEnforced);
    fhir3_types.ReferenceHandlingPolicyLocal: exit(fhir4_types.ReferenceHandlingPolicyLocal);
    else exit(fhir4_types.ReferenceHandlingPolicyNull);
  end;
end;

class function TVersionConvertor_30_40.convertReferenceHandlingPolicy4(src : fhir4_types.TFhirReferenceHandlingPolicyEnum) : fhir3_types.TFhirReferenceHandlingPolicyEnum;
begin
  case (src) of
    fhir4_types.ReferenceHandlingPolicyLiteral: exit(fhir3_types.ReferenceHandlingPolicyLiteral);
    fhir4_types.ReferenceHandlingPolicyLogical: exit(fhir3_types.ReferenceHandlingPolicyLogical);
    fhir4_types.ReferenceHandlingPolicyResolves: exit(fhir3_types.ReferenceHandlingPolicyResolves);
    fhir4_types.ReferenceHandlingPolicyEnforced: exit(fhir3_types.ReferenceHandlingPolicyEnforced);
    fhir4_types.ReferenceHandlingPolicyLocal: exit(fhir3_types.ReferenceHandlingPolicyLocal);
    else exit(fhir3_types.ReferenceHandlingPolicyNull);
  end;
end;

class function TVersionConvertor_30_40.convertTypeRestfulInteraction3(src : fhir3_types.TFhirTypeRestfulInteractionEnum) : fhir4_types.TFhirTypeRestfulInteractionEnum;
begin
  case (src) of
    fhir3_types.TypeRestfulInteractionRead: exit(fhir4_types.TypeRestfulInteractionRead);
    fhir3_types.TypeRestfulInteractionVread: exit(fhir4_types.TypeRestfulInteractionVread);
    fhir3_types.TypeRestfulInteractionUpdate: exit(fhir4_types.TypeRestfulInteractionUpdate);
    fhir3_types.TypeRestfulInteractionPatch: exit(fhir4_types.TypeRestfulInteractionPatch);
    fhir3_types.TypeRestfulInteractionDelete: exit(fhir4_types.TypeRestfulInteractionDelete);
    fhir3_types.TypeRestfulInteractionHistoryInstance: exit(fhir4_types.TypeRestfulInteractionHistoryInstance);
    fhir3_types.TypeRestfulInteractionHistoryType: exit(fhir4_types.TypeRestfulInteractionHistoryType);
    fhir3_types.TypeRestfulInteractionCreate: exit(fhir4_types.TypeRestfulInteractionCreate);
    fhir3_types.TypeRestfulInteractionSearchType: exit(fhir4_types.TypeRestfulInteractionSearchType);
    else exit(fhir4_types.TypeRestfulInteractionNull);
  end;
end;

class function TVersionConvertor_30_40.convertTypeRestfulInteraction4(src : fhir4_types.TFhirTypeRestfulInteractionEnum) : fhir3_types.TFhirTypeRestfulInteractionEnum;
begin
  case (src) of
    fhir4_types.TypeRestfulInteractionRead: exit(fhir3_types.TypeRestfulInteractionRead);
    fhir4_types.TypeRestfulInteractionVread: exit(fhir3_types.TypeRestfulInteractionVread);
    fhir4_types.TypeRestfulInteractionUpdate: exit(fhir3_types.TypeRestfulInteractionUpdate);
    fhir4_types.TypeRestfulInteractionPatch: exit(fhir3_types.TypeRestfulInteractionPatch);
    fhir4_types.TypeRestfulInteractionDelete: exit(fhir3_types.TypeRestfulInteractionDelete);
    fhir4_types.TypeRestfulInteractionHistoryInstance: exit(fhir3_types.TypeRestfulInteractionHistoryInstance);
    fhir4_types.TypeRestfulInteractionHistoryType: exit(fhir3_types.TypeRestfulInteractionHistoryType);
    fhir4_types.TypeRestfulInteractionCreate: exit(fhir3_types.TypeRestfulInteractionCreate);
    fhir4_types.TypeRestfulInteractionSearchType: exit(fhir3_types.TypeRestfulInteractionSearchType);
    else exit(fhir3_types.TypeRestfulInteractionNull);
  end;
end;

class function TVersionConvertor_30_40.convertSearchParamType3(src : fhir3_types.TFhirSearchParamTypeEnum) : fhir4_types.TFhirSearchParamTypeEnum;
begin
  case (src) of
    fhir3_types.SearchParamTypeNumber: exit(fhir4_types.SearchParamTypeNumber);
    fhir3_types.SearchParamTypeDate: exit(fhir4_types.SearchParamTypeDate);
    fhir3_types.SearchParamTypeString: exit(fhir4_types.SearchParamTypeString);
    fhir3_types.SearchParamTypeToken: exit(fhir4_types.SearchParamTypeToken);
    fhir3_types.SearchParamTypeReference: exit(fhir4_types.SearchParamTypeReference);
    fhir3_types.SearchParamTypeComposite: exit(fhir4_types.SearchParamTypeComposite);
    fhir3_types.SearchParamTypeQuantity: exit(fhir4_types.SearchParamTypeQuantity);
    fhir3_types.SearchParamTypeUri: exit(fhir4_types.SearchParamTypeUri);
    else exit(fhir4_types.SearchParamTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertSearchParamType4(src : fhir4_types.TFhirSearchParamTypeEnum) : fhir3_types.TFhirSearchParamTypeEnum;
begin
  case (src) of
    fhir4_types.SearchParamTypeNumber: exit(fhir3_types.SearchParamTypeNumber);
    fhir4_types.SearchParamTypeDate: exit(fhir3_types.SearchParamTypeDate);
    fhir4_types.SearchParamTypeString: exit(fhir3_types.SearchParamTypeString);
    fhir4_types.SearchParamTypeToken: exit(fhir3_types.SearchParamTypeToken);
    fhir4_types.SearchParamTypeReference: exit(fhir3_types.SearchParamTypeReference);
    fhir4_types.SearchParamTypeComposite: exit(fhir3_types.SearchParamTypeComposite);
    fhir4_types.SearchParamTypeQuantity: exit(fhir3_types.SearchParamTypeQuantity);
    fhir4_types.SearchParamTypeUri: exit(fhir3_types.SearchParamTypeUri);
    else exit(fhir3_types.SearchParamTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertSystemRestfulInteraction3(src : fhir3_types.TFhirSystemRestfulInteractionEnum) : fhir4_types.TFhirSystemRestfulInteractionEnum;
begin
  case (src) of
    fhir3_types.SystemRestfulInteractionTransaction: exit(fhir4_types.SystemRestfulInteractionTransaction);
    fhir3_types.SystemRestfulInteractionBatch: exit(fhir4_types.SystemRestfulInteractionBatch);
    fhir3_types.SystemRestfulInteractionSearchSystem: exit(fhir4_types.SystemRestfulInteractionSearchSystem);
    fhir3_types.SystemRestfulInteractionHistorySystem: exit(fhir4_types.SystemRestfulInteractionHistorySystem);
    else exit(fhir4_types.SystemRestfulInteractionNull);
  end;
end;

class function TVersionConvertor_30_40.convertSystemRestfulInteraction4(src : fhir4_types.TFhirSystemRestfulInteractionEnum) : fhir3_types.TFhirSystemRestfulInteractionEnum;
begin
  case (src) of
    fhir4_types.SystemRestfulInteractionTransaction: exit(fhir3_types.SystemRestfulInteractionTransaction);
    fhir4_types.SystemRestfulInteractionBatch: exit(fhir3_types.SystemRestfulInteractionBatch);
    fhir4_types.SystemRestfulInteractionSearchSystem: exit(fhir3_types.SystemRestfulInteractionSearchSystem);
    fhir4_types.SystemRestfulInteractionHistorySystem: exit(fhir3_types.SystemRestfulInteractionHistorySystem);
    else exit(fhir3_types.SystemRestfulInteractionNull);
  end;
end;

class function TVersionConvertor_30_40.convertEventCapabilityMode3(src : fhir3_types.TFhirEventCapabilityModeEnum) : fhir4_types.TFhirEventCapabilityModeEnum;
begin
  case (src) of
    fhir3_types.EventCapabilityModeSender: exit(fhir4_types.EventCapabilityModeSender);
    fhir3_types.EventCapabilityModeReceiver: exit(fhir4_types.EventCapabilityModeReceiver);
    else exit(fhir4_types.EventCapabilityModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertEventCapabilityMode4(src : fhir4_types.TFhirEventCapabilityModeEnum) : fhir3_types.TFhirEventCapabilityModeEnum;
begin
  case (src) of
    fhir4_types.EventCapabilityModeSender: exit(fhir3_types.EventCapabilityModeSender);
    fhir4_types.EventCapabilityModeReceiver: exit(fhir3_types.EventCapabilityModeReceiver);
    else exit(fhir3_types.EventCapabilityModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertDocumentMode3(src : fhir3_types.TFhirDocumentModeEnum) : fhir4_types.TFhirDocumentModeEnum;
begin
  case (src) of
    fhir3_types.DocumentModeProducer: exit(fhir4_types.DocumentModeProducer);
    fhir3_types.DocumentModeConsumer: exit(fhir4_types.DocumentModeConsumer);
    else exit(fhir4_types.DocumentModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertDocumentMode4(src : fhir4_types.TFhirDocumentModeEnum) : fhir3_types.TFhirDocumentModeEnum;
begin
  case (src) of
    fhir4_types.DocumentModeProducer: exit(fhir3_types.DocumentModeProducer);
    fhir4_types.DocumentModeConsumer: exit(fhir3_types.DocumentModeConsumer);
    else exit(fhir3_types.DocumentModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertCareTeamStatus3(src : fhir3_types.TFhirCareTeamStatusEnum) : fhir4_types.TFhirCareTeamStatusEnum;
begin
  case (src) of
    fhir3_types.CareTeamStatusProposed: exit(fhir4_types.CareTeamStatusProposed);
    fhir3_types.CareTeamStatusActive: exit(fhir4_types.CareTeamStatusActive);
    fhir3_types.CareTeamStatusSuspended: exit(fhir4_types.CareTeamStatusSuspended);
    fhir3_types.CareTeamStatusInactive: exit(fhir4_types.CareTeamStatusInactive);
    fhir3_types.CareTeamStatusEnteredInError: exit(fhir4_types.CareTeamStatusEnteredInError);
    else exit(fhir4_types.CareTeamStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertCareTeamStatus4(src : fhir4_types.TFhirCareTeamStatusEnum) : fhir3_types.TFhirCareTeamStatusEnum;
begin
  case (src) of
    fhir4_types.CareTeamStatusProposed: exit(fhir3_types.CareTeamStatusProposed);
    fhir4_types.CareTeamStatusActive: exit(fhir3_types.CareTeamStatusActive);
    fhir4_types.CareTeamStatusSuspended: exit(fhir3_types.CareTeamStatusSuspended);
    fhir4_types.CareTeamStatusInactive: exit(fhir3_types.CareTeamStatusInactive);
    fhir4_types.CareTeamStatusEnteredInError: exit(fhir3_types.CareTeamStatusEnteredInError);
    else exit(fhir3_types.CareTeamStatusNull);
  end;
end;

//class function TVersionConvertor_30_40.convertChargeItemStatus3(src : fhir3_types.TFhirChargeitemStatusEnum) : fhir4_types.TFhirChargeitemStatusEnum;
//begin
//  case (src) of
//    fhir3_types.ChargeitemStatusPlanned: exit(fhir4_types.ChargeitemStatusPlanned);
//    fhir3_types.ChargeitemStatusBillable: exit(fhir4_types.ChargeitemStatusBillable);
//    fhir3_types.ChargeitemStatusNotBillable: exit(fhir4_types.ChargeitemStatusNotBillable);
//    fhir3_types.ChargeitemStatusAborted: exit(fhir4_types.ChargeitemStatusAborted);
//    fhir3_types.ChargeitemStatusBilled: exit(fhir4_types.ChargeitemStatusBilled);
//    fhir3_types.ChargeitemStatusEnteredInError: exit(fhir4_types.ChargeitemStatusEnteredInError);
//    fhir3_types.ChargeitemStatusUnknown: exit(fhir4_types.ChargeitemStatusUnknown);
//    else exit(fhir4_types.ChargeitemStatusNull);
//  end;
//end;
//
//class function TVersionConvertor_30_40.convertChargeItemStatus4(src : fhir4_types.TFhirChargeitemStatusEnum) : fhir3_types.TFhirChargeitemStatusEnum;
//begin
//  case (src) of
//    fhir4_types.ChargeitemStatusPlanned: exit(fhir3_types.ChargeitemStatusPlanned);
//    fhir4_types.ChargeitemStatusBillable: exit(fhir3_types.ChargeitemStatusBillable);
//    fhir4_types.ChargeitemStatusNotBillable: exit(fhir3_types.ChargeitemStatusNotBillable);
//    fhir4_types.ChargeitemStatusAborted: exit(fhir3_types.ChargeitemStatusAborted);
//    fhir4_types.ChargeitemStatusBilled: exit(fhir3_types.ChargeitemStatusBilled);
//    fhir4_types.ChargeitemStatusEnteredInError: exit(fhir3_types.ChargeitemStatusEnteredInError);
//    fhir4_types.ChargeitemStatusUnknown: exit(fhir3_types.ChargeitemStatusUnknown);
//    else exit(fhir3_types.ChargeitemStatusNull);
//  end;
//end;
//
//class function TVersionConvertor_30_40.convertUse3(src : fhir3_types.TFhirClaimUseEnum) : fhir4_types.TFhirClaimUseEnum;
//begin
//  case (src) of
//    fhir3_types.ClaimUseComplete: exit(fhir4_types.ClaimUseClaim);
//    fhir3_types.ClaimUseProposed: exit(fhir4_types.ClaimUsePreauthorization);
//    fhir3_types.ClaimUseExploratory: exit(fhir4_types.ClaimUsePredetermination);
//    fhir3_types.ClaimUseOther: exit(fhir4_types.ClaimUseNull);
//    else exit(fhir4_types.ClaimUseNull);
//  end;
//end;
//
//class function TVersionConvertor_30_40.convertUse4(src : fhir4_types.TFhirClaimUseEnum) : fhir3_types.TFhirClaimUseEnum;
//begin
//  case (src) of
//    fhir4_types.ClaimUseClaim: exit(fhir3_types.ClaimUseComplete);
//    fhir4_types.ClaimUsePreauthorization: exit(fhir3_types.ClaimUseProposed);
//    fhir4_types.ClaimUsePredetermination: exit(fhir3_types.ClaimUseExploratory);
//    else exit(fhir3_types.ClaimUseNull);
//  end;
//end;

class function TVersionConvertor_30_40.convertClinicalImpressionStatus3(src : fhir3_types.TFhirClinicalImpressionStatusEnum) : fhir4_types.TFhirClinicalImpressionStatusEnum;
begin
  case (src) of
    fhir3_types.ClinicalImpressionStatusDraft: exit(fhir4_types.ClinicalimpressionStatusInProgress);
    fhir3_types.ClinicalImpressionStatusCompleted: exit(fhir4_types.ClinicalImpressionStatusCompleted);
    fhir3_types.ClinicalImpressionStatusEnteredInError: exit(fhir4_types.ClinicalImpressionStatusEnteredInError);
    else exit(fhir4_types.ClinicalImpressionStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertClinicalImpressionStatus4(src : fhir4_types.TFhirClinicalImpressionStatusEnum) : fhir3_types.TFhirClinicalImpressionStatusEnum;
begin
  case (src) of
    fhir4_types.ClinicalimpressionStatusInProgress: exit(fhir3_types.ClinicalImpressionStatusDraft);
    fhir4_types.ClinicalImpressionStatusCompleted: exit(fhir3_types.ClinicalImpressionStatusCompleted);
    fhir4_types.ClinicalImpressionStatusEnteredInError: exit(fhir3_types.ClinicalImpressionStatusEnteredInError);
    else exit(fhir3_types.ClinicalImpressionStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertCodeSystemHierarchyMeaning3(src : fhir3_types.TFhirCodesystemHierarchyMeaningEnum) : fhir4_types.TFhirCodesystemHierarchyMeaningEnum;
begin
  case (src) of
    fhir3_types.CodesystemHierarchyMeaningGroupedBy: exit(fhir4_types.CodesystemHierarchyMeaningGroupedBy);
    fhir3_types.CodesystemHierarchyMeaningIsA: exit(fhir4_types.CodesystemHierarchyMeaningIsA);
    fhir3_types.CodesystemHierarchyMeaningPartOf: exit(fhir4_types.CodesystemHierarchyMeaningPartOf);
    fhir3_types.CodesystemHierarchyMeaningClassifiedWith: exit(fhir4_types.CodesystemHierarchyMeaningClassifiedWith);
    else exit(fhir4_types.CodesystemHierarchyMeaningNull);
  end;
end;

class function TVersionConvertor_30_40.convertCodeSystemHierarchyMeaning4(src : fhir4_types.TFhirCodesystemHierarchyMeaningEnum) : fhir3_types.TFhirCodesystemHierarchyMeaningEnum;
begin
  case (src) of
    fhir4_types.CodesystemHierarchyMeaningGroupedBy: exit(fhir3_types.CodesystemHierarchyMeaningGroupedBy);
    fhir4_types.CodesystemHierarchyMeaningIsA: exit(fhir3_types.CodesystemHierarchyMeaningIsA);
    fhir4_types.CodesystemHierarchyMeaningPartOf: exit(fhir3_types.CodesystemHierarchyMeaningPartOf);
    fhir4_types.CodesystemHierarchyMeaningClassifiedWith: exit(fhir3_types.CodesystemHierarchyMeaningClassifiedWith);
    else exit(fhir3_types.CodesystemHierarchyMeaningNull);
  end;
end;

class function TVersionConvertor_30_40.convertCodeSystemContentMode3(src : fhir3_types.TFhirCodesystemContentModeEnum) : fhir4_types.TFhirCodesystemContentModeEnum;
begin
  case (src) of
    fhir3_types.CodesystemContentModeNotPresent: exit(fhir4_types.CodesystemContentModeNotPresent);
    fhir3_types.CodesystemContentModeExample: exit(fhir4_types.CodesystemContentModeExample);
    fhir3_types.CodesystemContentModeFragment: exit(fhir4_types.CodesystemContentModeFragment);
    fhir3_types.CodesystemContentModeComplete: exit(fhir4_types.CodesystemContentModeComplete);
    else exit(fhir4_types.CodesystemContentModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertCodeSystemContentMode4(src : fhir4_types.TFhirCodesystemContentModeEnum) : fhir3_types.TFhirCodesystemContentModeEnum;
begin
  case (src) of
    fhir4_types.CodesystemContentModeNotPresent: exit(fhir3_types.CodesystemContentModeNotPresent);
    fhir4_types.CodesystemContentModeExample: exit(fhir3_types.CodesystemContentModeExample);
    fhir4_types.CodesystemContentModeFragment: exit(fhir3_types.CodesystemContentModeFragment);
    fhir4_types.CodesystemContentModeComplete: exit(fhir3_types.CodesystemContentModeComplete);
    else exit(fhir3_types.CodesystemContentModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertFilterOperator3(src : fhir3_types.TFhirFilterOperatorEnum) : fhir4_types.TFhirFilterOperatorEnum;
begin
  case (src) of
    fhir3_types.FilterOperatorEqual: exit(fhir4_types.FilterOperatorEqual);
    fhir3_types.FilterOperatorIsA: exit(fhir4_types.FilterOperatorIsA);
    fhir3_types.FilterOperatorDescendentOf: exit(fhir4_types.FilterOperatorDescendentOf);
    fhir3_types.FilterOperatorIsNotA: exit(fhir4_types.FilterOperatorIsNotA);
    fhir3_types.FilterOperatorRegex: exit(fhir4_types.FilterOperatorRegex);
    fhir3_types.FilterOperatorIn: exit(fhir4_types.FilterOperatorIn);
    fhir3_types.FilterOperatorNotIn: exit(fhir4_types.FilterOperatorNotIn);
    fhir3_types.FilterOperatorGeneralizes: exit(fhir4_types.FilterOperatorGeneralizes);
    fhir3_types.FilterOperatorExists: exit(fhir4_types.FilterOperatorExists);
    else exit(fhir4_types.FilterOperatorNull);
  end;
end;

class function TVersionConvertor_30_40.convertFilterOperator4(src : fhir4_types.TFhirFilterOperatorEnum) : fhir3_types.TFhirFilterOperatorEnum;
begin
  case (src) of
    fhir4_types.FilterOperatorEqual: exit(fhir3_types.FilterOperatorEqual);
    fhir4_types.FilterOperatorIsA: exit(fhir3_types.FilterOperatorIsA);
    fhir4_types.FilterOperatorDescendentOf: exit(fhir3_types.FilterOperatorDescendentOf);
    fhir4_types.FilterOperatorIsNotA: exit(fhir3_types.FilterOperatorIsNotA);
    fhir4_types.FilterOperatorRegex: exit(fhir3_types.FilterOperatorRegex);
    fhir4_types.FilterOperatorIn: exit(fhir3_types.FilterOperatorIn);
    fhir4_types.FilterOperatorNotIn: exit(fhir3_types.FilterOperatorNotIn);
    fhir4_types.FilterOperatorGeneralizes: exit(fhir3_types.FilterOperatorGeneralizes);
    fhir4_types.FilterOperatorExists: exit(fhir3_types.FilterOperatorExists);
    else exit(fhir3_types.FilterOperatorNull);
  end;
end;

class function TVersionConvertor_30_40.convertPropertyType3(src : fhir3_types.TFhirConceptPropertyTypeEnum) : fhir4_types.TFhirConceptPropertyTypeEnum;
begin
  case (src) of
    fhir3_types.ConceptPropertyTypeCode: exit(fhir4_types.ConceptPropertyTypeCode);
    fhir3_types.ConceptPropertyTypeCoding: exit(fhir4_types.ConceptPropertyTypeCoding);
    fhir3_types.ConceptPropertyTypeString: exit(fhir4_types.ConceptPropertyTypeString);
    fhir3_types.ConceptPropertyTypeInteger: exit(fhir4_types.ConceptPropertyTypeInteger);
    fhir3_types.ConceptPropertyTypeBoolean: exit(fhir4_types.ConceptPropertyTypeBoolean);
    fhir3_types.ConceptPropertyTypeDateTime: exit(fhir4_types.ConceptPropertyTypeDateTime);
    else exit(fhir4_types.ConceptPropertyTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertPropertyType4(src : fhir4_types.TFhirConceptPropertyTypeEnum) : fhir3_types.TFhirConceptPropertyTypeEnum;
begin
  case (src) of
    fhir4_types.ConceptPropertyTypeCode: exit(fhir3_types.ConceptPropertyTypeCode);
    fhir4_types.ConceptPropertyTypeCoding: exit(fhir3_types.ConceptPropertyTypeCoding);
    fhir4_types.ConceptPropertyTypeString: exit(fhir3_types.ConceptPropertyTypeString);
    fhir4_types.ConceptPropertyTypeInteger: exit(fhir3_types.ConceptPropertyTypeInteger);
    fhir4_types.ConceptPropertyTypeBoolean: exit(fhir3_types.ConceptPropertyTypeBoolean);
    fhir4_types.ConceptPropertyTypeDateTime: exit(fhir3_types.ConceptPropertyTypeDateTime);
    else exit(fhir3_types.ConceptPropertyTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertCommunicationStatus3(src : fhir3_types.TFhirEventStatusEnum) : fhir4_types.TFhirEventStatusEnum;
begin
  case (src) of
    fhir3_types.EventStatusPreparation: exit(fhir4_types.EventStatusPreparation);
    fhir3_types.EventStatusInProgress: exit(fhir4_types.EventStatusInProgress);
    fhir3_types.EventStatusSuspended: exit(fhir4_types.EventStatusOnHold);
    fhir3_types.EventStatusAborted: exit(fhir4_types.EventStatusNotDone);
    fhir3_types.EventStatusCompleted: exit(fhir4_types.EventStatusCompleted);
    fhir3_types.EventStatusEnteredInError: exit(fhir4_types.EventStatusEnteredInError);
    fhir3_types.EventStatusUnknown: exit(fhir4_types.EventStatusUnknown);
    else exit(fhir4_types.EventStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertCommunicationStatus4(src : fhir4_types.TFhirEventStatusEnum) : fhir3_types.TFhirEventStatusEnum;
begin
  case (src) of
    fhir4_types.EventStatusPreparation: exit(fhir3_types.EventStatusPreparation);
    fhir4_types.EventStatusInProgress: exit(fhir3_types.EventStatusInProgress);
    fhir4_types.EventStatusOnHold: exit(fhir3_types.EventStatusSuspended);
    fhir4_types.EventStatusNotDone: exit(fhir3_types.EventStatusAborted);
    fhir4_types.EventStatusCompleted: exit(fhir3_types.EventStatusCompleted);
    fhir4_types.EventStatusEnteredInError: exit(fhir3_types.EventStatusEnteredInError);
    fhir4_types.EventStatusUnknown: exit(fhir3_types.EventStatusUnknown);
    else exit(fhir3_types.EventStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertCompartmentType3(src : fhir3_types.TFhirCompartmentTypeEnum) : fhir4_types.TFhirCompartmentTypeEnum;
begin
  case (src) of
    fhir3_types.CompartmentTypePatient: exit(fhir4_types.CompartmentTypePatient);
    fhir3_types.CompartmentTypeEncounter: exit(fhir4_types.CompartmentTypeEncounter);
    fhir3_types.CompartmentTypeRelatedPerson: exit(fhir4_types.CompartmentTypeRelatedPerson);
    fhir3_types.CompartmentTypePractitioner: exit(fhir4_types.CompartmentTypePractitioner);
    fhir3_types.CompartmentTypeDevice: exit(fhir4_types.CompartmentTypeDevice);
    else exit(fhir4_types.CompartmentTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertCompartmentType4(src : fhir4_types.TFhirCompartmentTypeEnum) : fhir3_types.TFhirCompartmentTypeEnum;
begin
  case (src) of
    fhir4_types.CompartmentTypePatient: exit(fhir3_types.CompartmentTypePatient);
    fhir4_types.CompartmentTypeEncounter: exit(fhir3_types.CompartmentTypeEncounter);
    fhir4_types.CompartmentTypeRelatedPerson: exit(fhir3_types.CompartmentTypeRelatedPerson);
    fhir4_types.CompartmentTypePractitioner: exit(fhir3_types.CompartmentTypePractitioner);
    fhir4_types.CompartmentTypeDevice: exit(fhir3_types.CompartmentTypeDevice);
    else exit(fhir3_types.CompartmentTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertCompositionStatus3(src : fhir3_types.TFhirCompositionStatusEnum) : fhir4_types.TFhirCompositionStatusEnum;
begin
  case (src) of
    fhir3_types.CompositionStatusPreliminary: exit(fhir4_types.CompositionStatusPreliminary);
    fhir3_types.CompositionStatusFinal: exit(fhir4_types.CompositionStatusFinal);
    fhir3_types.CompositionStatusAmended: exit(fhir4_types.CompositionStatusAmended);
    fhir3_types.CompositionStatusEnteredInError: exit(fhir4_types.CompositionStatusEnteredInError);
    else exit(fhir4_types.CompositionStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertCompositionStatus4(src : fhir4_types.TFhirCompositionStatusEnum) : fhir3_types.TFhirCompositionStatusEnum;
begin
  case (src) of
    fhir4_types.CompositionStatusPreliminary: exit(fhir3_types.CompositionStatusPreliminary);
    fhir4_types.CompositionStatusFinal: exit(fhir3_types.CompositionStatusFinal);
    fhir4_types.CompositionStatusAmended: exit(fhir3_types.CompositionStatusAmended);
    fhir4_types.CompositionStatusEnteredInError: exit(fhir3_types.CompositionStatusEnteredInError);
    else exit(fhir3_types.CompositionStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertDocumentConfidentiality3(src : fhir3_types.TFhirV3ConfidentialityClassificationEnum) : fhir4_types.TFhirV3ConfidentialityClassificationEnum;
begin
  case (src) of
    fhir3_types.V3ConfidentialityClassificationU: exit(fhir4_types.V3ConfidentialityClassificationU);
    fhir3_types.V3ConfidentialityClassificationL: exit(fhir4_types.V3ConfidentialityClassificationL);
    fhir3_types.V3ConfidentialityClassificationM: exit(fhir4_types.V3ConfidentialityClassificationM);
    fhir3_types.V3ConfidentialityClassificationN: exit(fhir4_types.V3ConfidentialityClassificationN);
    fhir3_types.V3ConfidentialityClassificationR: exit(fhir4_types.V3ConfidentialityClassificationR);
    fhir3_types.V3ConfidentialityClassificationV: exit(fhir4_types.V3ConfidentialityClassificationV);
    else exit(fhir4_types.V3ConfidentialityClassificationNull);
  end;
end;

class function TVersionConvertor_30_40.convertDocumentConfidentiality4(src : fhir4_types.TFhirV3ConfidentialityClassificationEnum) : fhir3_types.TFhirV3ConfidentialityClassificationEnum;
begin
  case (src) of
    fhir4_types.V3ConfidentialityClassificationU: exit(fhir3_types.V3ConfidentialityClassificationU);
    fhir4_types.V3ConfidentialityClassificationL: exit(fhir3_types.V3ConfidentialityClassificationL);
    fhir4_types.V3ConfidentialityClassificationM: exit(fhir3_types.V3ConfidentialityClassificationM);
    fhir4_types.V3ConfidentialityClassificationN: exit(fhir3_types.V3ConfidentialityClassificationN);
    fhir4_types.V3ConfidentialityClassificationR: exit(fhir3_types.V3ConfidentialityClassificationR);
    fhir4_types.V3ConfidentialityClassificationV: exit(fhir3_types.V3ConfidentialityClassificationV);
    else exit(fhir3_types.V3ConfidentialityClassificationNull);
  end;
end;

class function TVersionConvertor_30_40.convertCompositionAttestationMode3(src : fhir3_types.TFhirCompositionAttestationModeEnum) : fhir4_types.TFhirCompositionAttestationModeEnum;
begin
  case (src) of
    fhir3_types.CompositionAttestationModePersonal: exit(fhir4_types.CompositionAttestationModePersonal);
    fhir3_types.CompositionAttestationModeProfessional: exit(fhir4_types.CompositionAttestationModeProfessional);
    fhir3_types.CompositionAttestationModeLegal: exit(fhir4_types.CompositionAttestationModeLegal);
    fhir3_types.CompositionAttestationModeOfficial: exit(fhir4_types.CompositionAttestationModeOfficial);
    else exit(fhir4_types.CompositionAttestationModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertCompositionAttestationMode4(src : fhir4_types.TFhirCompositionAttestationModeEnum) : fhir3_types.TFhirCompositionAttestationModeEnum;
begin
  case (src) of
    fhir4_types.CompositionAttestationModePersonal: exit(fhir3_types.CompositionAttestationModePersonal);
    fhir4_types.CompositionAttestationModeProfessional: exit(fhir3_types.CompositionAttestationModeProfessional);
    fhir4_types.CompositionAttestationModeLegal: exit(fhir3_types.CompositionAttestationModeLegal);
    fhir4_types.CompositionAttestationModeOfficial: exit(fhir3_types.CompositionAttestationModeOfficial);
    else exit(fhir3_types.CompositionAttestationModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertDocumentRelationshipType3(src : fhir3_types.TFhirDocumentRelationshipTypeEnum) : fhir4_types.TFhirDocumentRelationshipTypeEnum;
begin
  case (src) of
    fhir3_types.DocumentRelationshipTypeReplaces: exit(fhir4_types.DocumentRelationshipTypeReplaces);
    fhir3_types.DocumentRelationshipTypeTransforms: exit(fhir4_types.DocumentRelationshipTypeTransforms);
    fhir3_types.DocumentRelationshipTypeSigns: exit(fhir4_types.DocumentRelationshipTypeSigns);
    fhir3_types.DocumentRelationshipTypeAppends: exit(fhir4_types.DocumentRelationshipTypeAppends);
    else exit(fhir4_types.DocumentRelationshipTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertDocumentRelationshipType4(src : fhir4_types.TFhirDocumentRelationshipTypeEnum) : fhir3_types.TFhirDocumentRelationshipTypeEnum;
begin
  case (src) of
    fhir4_types.DocumentRelationshipTypeReplaces: exit(fhir3_types.DocumentRelationshipTypeReplaces);
    fhir4_types.DocumentRelationshipTypeTransforms: exit(fhir3_types.DocumentRelationshipTypeTransforms);
    fhir4_types.DocumentRelationshipTypeSigns: exit(fhir3_types.DocumentRelationshipTypeSigns);
    fhir4_types.DocumentRelationshipTypeAppends: exit(fhir3_types.DocumentRelationshipTypeAppends);
    else exit(fhir3_types.DocumentRelationshipTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertSectionMode3(src : fhir3_types.TFhirListModeEnum) : fhir4_types.TFhirListModeEnum;
begin
  case (src) of
    fhir3_types.ListModeWorking: exit(fhir4_types.ListModeWorking);
    fhir3_types.ListModeSnapshot: exit(fhir4_types.ListModeSnapshot);
    fhir3_types.ListModeChanges: exit(fhir4_types.ListModeChanges);
    else exit(fhir4_types.ListModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertSectionMode4(src : fhir4_types.TFhirListModeEnum) : fhir3_types.TFhirListModeEnum;
begin
  case (src) of
    fhir4_types.ListModeWorking: exit(fhir3_types.ListModeWorking);
    fhir4_types.ListModeSnapshot: exit(fhir3_types.ListModeSnapshot);
    fhir4_types.ListModeChanges: exit(fhir3_types.ListModeChanges);
    else exit(fhir3_types.ListModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertConceptMapEquivalence3(src : fhir3_types.TFhirConceptMapEquivalenceEnum) : fhir4_types.TFhirConceptMapEquivalenceEnum;
begin
  case (src) of
    fhir3_types.ConceptMapEquivalenceRelatedto: exit(fhir4_types.ConceptMapEquivalenceRelatedto);
    fhir3_types.ConceptMapEquivalenceEquivalent: exit(fhir4_types.ConceptMapEquivalenceEquivalent);
    fhir3_types.ConceptMapEquivalenceEqual: exit(fhir4_types.ConceptMapEquivalenceEqual);
    fhir3_types.ConceptMapEquivalenceWider: exit(fhir4_types.ConceptMapEquivalenceWider);
    fhir3_types.ConceptMapEquivalenceSubsumes: exit(fhir4_types.ConceptMapEquivalenceSubsumes);
    fhir3_types.ConceptMapEquivalenceNarrower: exit(fhir4_types.ConceptMapEquivalenceNarrower);
    fhir3_types.ConceptMapEquivalenceSpecializes: exit(fhir4_types.ConceptMapEquivalenceSpecializes);
    fhir3_types.ConceptMapEquivalenceInexact: exit(fhir4_types.ConceptMapEquivalenceInexact);
    fhir3_types.ConceptMapEquivalenceUnmatched: exit(fhir4_types.ConceptMapEquivalenceUnmatched);
    fhir3_types.ConceptMapEquivalenceDisjoint: exit(fhir4_types.ConceptMapEquivalenceDisjoint);
    else exit(fhir4_types.ConceptMapEquivalenceNull);
  end;
end;

class function TVersionConvertor_30_40.convertConceptMapEquivalence4(src : fhir4_types.TFhirConceptMapEquivalenceEnum) : fhir3_types.TFhirConceptMapEquivalenceEnum;
begin
  case (src) of
    fhir4_types.ConceptMapEquivalenceRelatedto: exit(fhir3_types.ConceptMapEquivalenceRelatedto);
    fhir4_types.ConceptMapEquivalenceEquivalent: exit(fhir3_types.ConceptMapEquivalenceEquivalent);
    fhir4_types.ConceptMapEquivalenceEqual: exit(fhir3_types.ConceptMapEquivalenceEqual);
    fhir4_types.ConceptMapEquivalenceWider: exit(fhir3_types.ConceptMapEquivalenceWider);
    fhir4_types.ConceptMapEquivalenceSubsumes: exit(fhir3_types.ConceptMapEquivalenceSubsumes);
    fhir4_types.ConceptMapEquivalenceNarrower: exit(fhir3_types.ConceptMapEquivalenceNarrower);
    fhir4_types.ConceptMapEquivalenceSpecializes: exit(fhir3_types.ConceptMapEquivalenceSpecializes);
    fhir4_types.ConceptMapEquivalenceInexact: exit(fhir3_types.ConceptMapEquivalenceInexact);
    fhir4_types.ConceptMapEquivalenceUnmatched: exit(fhir3_types.ConceptMapEquivalenceUnmatched);
    fhir4_types.ConceptMapEquivalenceDisjoint: exit(fhir3_types.ConceptMapEquivalenceDisjoint);
    else exit(fhir3_types.ConceptMapEquivalenceNull);
  end;
end;

class function TVersionConvertor_30_40.convertConceptMapGroupUnmappedMode3(src : fhir3_types.TFhirConceptmapUnmappedModeEnum) : fhir4_types.TFhirConceptmapUnmappedModeEnum;
begin
  case (src) of
    fhir3_types.ConceptmapUnmappedModeProvided: exit(fhir4_types.ConceptmapUnmappedModeProvided);
    fhir3_types.ConceptmapUnmappedModeFixed: exit(fhir4_types.ConceptmapUnmappedModeFixed);
    fhir3_types.ConceptmapUnmappedModeOtherMap: exit(fhir4_types.ConceptmapUnmappedModeOtherMap);
    else exit(fhir4_types.ConceptmapUnmappedModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertConceptMapGroupUnmappedMode4(src : fhir4_types.TFhirConceptmapUnmappedModeEnum) : fhir3_types.TFhirConceptmapUnmappedModeEnum;
begin
  case (src) of
    fhir4_types.ConceptmapUnmappedModeProvided: exit(fhir3_types.ConceptmapUnmappedModeProvided);
    fhir4_types.ConceptmapUnmappedModeFixed: exit(fhir3_types.ConceptmapUnmappedModeFixed);
    fhir4_types.ConceptmapUnmappedModeOtherMap: exit(fhir3_types.ConceptmapUnmappedModeOtherMap);
    else exit(fhir3_types.ConceptmapUnmappedModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertConditionClinicalStatus3(src : fhir3_types.TFhirConditionClinicalEnum) : fhir4_types.TFhirCodeableConcept;
begin
  case (src) of
    fhir3_types.ConditionClinicalActive: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-clinical', 'active'));
    fhir3_types.ConditionClinicalRecurrence: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-clinical', 'recurrence'));
    fhir3_types.ConditionClinicalInactive: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-clinical', 'inactive'));
    fhir3_types.ConditionClinicalRemission: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-clinical', 'remission'));
    fhir3_types.ConditionClinicalResolved: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-clinical', 'resolved'));
    else exit(nil);
  end;
end;

class function TVersionConvertor_30_40.convertConditionClinicalStatus4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirConditionClinicalEnum;
begin
  if (src.hasCode('http://hl7.org/fhir/condition-clinical', 'active')) then
    exit(fhir3_types.ConditionClinicalActive)
  else if (src.hasCode('http://hl7.org/fhir/condition-clinical', 'recurrence')) then
    exit(fhir3_types.ConditionClinicalRecurrence)
  else if (src.hasCode('http://hl7.org/fhir/condition-clinical', 'inactive')) then
    exit(fhir3_types.ConditionClinicalInactive)
  else if (src.hasCode('http://hl7.org/fhir/condition-clinical', 'remission')) then
    exit(fhir3_types.ConditionClinicalRemission)
  else if (src.hasCode('http://hl7.org/fhir/condition-clinical', 'resolved')) then
    exit(fhir3_types.ConditionClinicalResolved)
  else
    exit(fhir3_types.ConditionClinicalNull);
end;

class function TVersionConvertor_30_40.convertConditionVerificationStatus3(src : fhir3_types.TFhirConditionVerStatusEnum) : fhir4_types.TFhirCodeableConcept;
begin
  case (src) of
    fhir3_types.ConditionVerStatusProvisional: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-ver-status', 'provisional'));
    fhir3_types.ConditionVerStatusDifferential: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-ver-status', 'differential'));
    fhir3_types.ConditionVerStatusConfirmed: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-ver-status', 'confirmed'));
    fhir3_types.ConditionVerStatusRefuted: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-ver-status', 'refuted'));
    fhir3_types.ConditionVerStatusEnteredInError: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-ver-status', 'entered-in-error'));
    fhir3_types.ConditionVerStatusUnknown: exit(TFhirCodeableConcept.Create('http://hl7.org/fhir/condition-ver-status', 'unconfirmed'));
    else exit(nil);
  end;
end;

class function TVersionConvertor_30_40.convertConditionVerificationStatus4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirConditionVerStatusEnum;
begin
  if (src.hasCode('http://hl7.org/fhir/condition-ver-status', 'provisional')) then
    exit(fhir3_types.ConditionVerStatusProvisional)
  else if (src.hasCode('http://hl7.org/fhir/condition-ver-status', 'differential')) then
    exit(fhir3_types.ConditionVerStatusDifferential)
  else if (src.hasCode('http://hl7.org/fhir/condition-ver-status', 'confirmed')) then
    exit(fhir3_types.ConditionVerStatusConfirmed)
  else if (src.hasCode('http://hl7.org/fhir/condition-ver-status', 'refuted')) then
    exit(fhir3_types.ConditionVerStatusRefuted)
  else if (src.hasCode('http://hl7.org/fhir/condition-ver-status', 'entered-in-error')) then
    exit(fhir3_types.ConditionVerStatusEnteredInError)
  else if (src.hasCode('http://hl7.org/fhir/condition-ver-status', 'unconfirmed')) then
    exit(fhir3_types.ConditionVerStatusUnknown)
  else
    exit(fhir3_types.ConditionVerStatusNull);
end;

//class function TVersionConvertor_30_40.convertConsentDataMeaning3(src : fhir3_types.TFhirConsentDataMeaningEnum) : fhir4_types.TFhirConsentDataMeaningEnum;
//begin
//  case (src) of
//    fhir3_types.ConsentDataMeaningInstance: exit(fhir4_types.ConsentDataMeaningInstance);
//    fhir3_types.ConsentDataMeaningRelated: exit(fhir4_types.ConsentDataMeaningRelated);
//    fhir3_types.ConsentDataMeaningDependents: exit(fhir4_types.ConsentDataMeaningDependents);
//    fhir3_types.ConsentDataMeaningAuthoredby: exit(fhir4_types.ConsentDataMeaningAuthoredby);
//    else exit(fhir4_types.ConsentDataMeaningNull);
//  end;
//end;
//
//class function TVersionConvertor_30_40.convertConsentDataMeaning4(src : fhir4_types.TFhirConsentDataMeaningEnum) : fhir3_types.TFhirConsentDataMeaningEnum;
//begin
//  case (src) of
//    fhir4_types.ConsentDataMeaningInstance: exit(fhir3_types.ConsentDataMeaningInstance);
//    fhir4_types.ConsentDataMeaningRelated: exit(fhir3_types.ConsentDataMeaningRelated);
//    fhir4_types.ConsentDataMeaningDependents: exit(fhir3_types.ConsentDataMeaningDependents);
//    fhir4_types.ConsentDataMeaningAuthoredby: exit(fhir3_types.ConsentDataMeaningAuthoredby);
//    else exit(fhir3_types.ConsentDataMeaningNull);
//  end;
//end;

class function TVersionConvertor_30_40.convertDetectedIssueStatus3(src : fhir3_types.TFhirObservationStatusEnum) : fhir4_types.TFhirObservationStatusEnum;
begin
  case (src) of
    fhir3_types.ObservationStatusRegistered: exit(fhir4_types.ObservationStatusRegistered);
    fhir3_types.ObservationStatusPreliminary: exit(fhir4_types.ObservationStatusPreliminary);
    fhir3_types.ObservationStatusFinal: exit(fhir4_types.ObservationStatusFinal);
    fhir3_types.ObservationStatusAmended: exit(fhir4_types.ObservationStatusAmended);
    fhir3_types.ObservationStatusCorrected: exit(fhir4_types.ObservationStatusCorrected);
    fhir3_types.ObservationStatusCancelled: exit(fhir4_types.ObservationStatusCancelled);
    fhir3_types.ObservationStatusEnteredInError: exit(fhir4_types.ObservationStatusEnteredInError);
    fhir3_types.ObservationStatusUnknown: exit(fhir4_types.ObservationStatusUnknown);
    else exit(fhir4_types.ObservationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertDetectedIssueStatus4(src : fhir4_types.TFhirObservationStatusEnum) : fhir3_types.TFhirObservationStatusEnum;
begin
  case (src) of
    fhir4_types.ObservationStatusRegistered: exit(fhir3_types.ObservationStatusRegistered);
    fhir4_types.ObservationStatusPreliminary: exit(fhir3_types.ObservationStatusPreliminary);
    fhir4_types.ObservationStatusFinal: exit(fhir3_types.ObservationStatusFinal);
    fhir4_types.ObservationStatusAmended: exit(fhir3_types.ObservationStatusAmended);
    fhir4_types.ObservationStatusCorrected: exit(fhir3_types.ObservationStatusCorrected);
    fhir4_types.ObservationStatusCancelled: exit(fhir3_types.ObservationStatusCancelled);
    fhir4_types.ObservationStatusEnteredInError: exit(fhir3_types.ObservationStatusEnteredInError);
    fhir4_types.ObservationStatusUnknown: exit(fhir3_types.ObservationStatusUnknown);
    else exit(fhir3_types.ObservationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertDetectedIssueSeverity3(src : fhir3_types.TFhirDetectedissueSeverityEnum) : fhir4_types.TFhirDetectedissueSeverityEnum;
begin
  case (src) of
    fhir3_types.DetectedissueSeverityHigh: exit(fhir4_types.DetectedissueSeverityHigh);
    fhir3_types.DetectedissueSeverityModerate: exit(fhir4_types.DetectedissueSeverityModerate);
    fhir3_types.DetectedissueSeverityLow: exit(fhir4_types.DetectedissueSeverityLow);
    else exit(fhir4_types.DetectedissueSeverityNull);
  end;
end;

class function TVersionConvertor_30_40.convertDetectedIssueSeverity4(src : fhir4_types.TFhirDetectedissueSeverityEnum) : fhir3_types.TFhirDetectedissueSeverityEnum;
begin
  case (src) of
    fhir4_types.DetectedissueSeverityHigh: exit(fhir3_types.DetectedissueSeverityHigh);
    fhir4_types.DetectedissueSeverityModerate: exit(fhir3_types.DetectedissueSeverityModerate);
    fhir4_types.DetectedissueSeverityLow: exit(fhir3_types.DetectedissueSeverityLow);
    else exit(fhir3_types.DetectedissueSeverityNull);
  end;
end;

class function TVersionConvertor_30_40.convertFHIRDeviceStatus3(src : fhir3_types.TFhirDeviceStatusEnum) : fhir4_types.TFhirDeviceStatusEnum;
begin
  case (src) of
    fhir3_types.DeviceStatusActive: exit(fhir4_types.DeviceStatusActive);
    fhir3_types.DeviceStatusInactive: exit(fhir4_types.DeviceStatusInactive);
    fhir3_types.DeviceStatusEnteredInError: exit(fhir4_types.DeviceStatusEnteredInError);
    fhir3_types.DeviceStatusUnknown: exit(fhir4_types.DeviceStatusUnknown);
    else exit(fhir4_types.DeviceStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertFHIRDeviceStatus4(src : fhir4_types.TFhirDeviceStatusEnum) : fhir3_types.TFhirDeviceStatusEnum;
begin
  case (src) of
    fhir4_types.DeviceStatusActive: exit(fhir3_types.DeviceStatusActive);
    fhir4_types.DeviceStatusInactive: exit(fhir3_types.DeviceStatusInactive);
    fhir4_types.DeviceStatusEnteredInError: exit(fhir3_types.DeviceStatusEnteredInError);
    fhir4_types.DeviceStatusUnknown: exit(fhir3_types.DeviceStatusUnknown);
    else exit(fhir3_types.DeviceStatusNull);
  end;
end;
//
//class function TVersionConvertor_30_40.convertUDIEntryType3(src : fhir3_types.TFhirUdiEntryTypeEnum) : fhir4_types.TFhirUdiEntryTypeEnum;
//begin
//  case (src) of
//    fhir3_types.UdiEntryTypeBarcode: exit(fhir4_types.UdiEntryTypeBarcode);
//    fhir3_types.UdiEntryTypeRfid: exit(fhir4_types.UdiEntryTypeRfid);
//    fhir3_types.UdiEntryTypeManual: exit(fhir4_types.UdiEntryTypeManual);
//    fhir3_types.UdiEntryTypeCard: exit(fhir4_types.UdiEntryTypeCard);
//    fhir3_types.UdiEntryTypeSelfReported: exit(fhir4_types.UdiEntryTypeSelfReported);
//    fhir3_types.UdiEntryTypeUnknown: exit(fhir4_types.UdiEntryTypeUnknown);
//    else exit(fhir4_types.UdiEntryTypeNull);
//  end;
//end;
//
//class function TVersionConvertor_30_40.convertUDIEntryType4(src : fhir4_types.TFhirUdiEntryTypeEnum) : fhir3_types.TFhirUdiEntryTypeEnum;
//begin
//  case (src) of
//    fhir4_types.UdiEntryTypeBarcode: exit(fhir3_types.UdiEntryTypeBarcode);
//    fhir4_types.UdiEntryTypeRfid: exit(fhir3_types.UdiEntryTypeRfid);
//    fhir4_types.UdiEntryTypeManual: exit(fhir3_types.UdiEntryTypeManual);
//    fhir4_types.UdiEntryTypeCard: exit(fhir3_types.UdiEntryTypeCard);
//    fhir4_types.UdiEntryTypeSelfReported: exit(fhir3_types.UdiEntryTypeSelfReported);
//    fhir4_types.UdiEntryTypeUnknown: exit(fhir3_types.UdiEntryTypeUnknown);
//    else exit(fhir3_types.UdiEntryTypeNull);
//  end;
//end;

class function TVersionConvertor_30_40.convertDeviceMetricOperationalStatus3(src : fhir3_types.TFhirMetricOperationalStatusEnum) : fhir4_types.TFhirMetricOperationalStatusEnum;
begin
  case (src) of
    fhir3_types.MetricOperationalStatusOn: exit(fhir4_types.MetricOperationalStatusOn);
    fhir3_types.MetricOperationalStatusOff: exit(fhir4_types.MetricOperationalStatusOff);
    fhir3_types.MetricOperationalStatusStandby: exit(fhir4_types.MetricOperationalStatusStandby);
    fhir3_types.MetricOperationalStatusEnteredInError: exit(fhir4_types.MetricOperationalStatusEnteredInError);
    else exit(fhir4_types.MetricOperationalStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricOperationalStatus4(src : fhir4_types.TFhirMetricOperationalStatusEnum) : fhir3_types.TFhirMetricOperationalStatusEnum;
begin
  case (src) of
    fhir4_types.MetricOperationalStatusOn: exit(fhir3_types.MetricOperationalStatusOn);
    fhir4_types.MetricOperationalStatusOff: exit(fhir3_types.MetricOperationalStatusOff);
    fhir4_types.MetricOperationalStatusStandby: exit(fhir3_types.MetricOperationalStatusStandby);
    fhir4_types.MetricOperationalStatusEnteredInError: exit(fhir3_types.MetricOperationalStatusEnteredInError);
    else exit(fhir3_types.MetricOperationalStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricColor3(src : fhir3_types.TFhirMetricColorEnum) : fhir4_types.TFhirMetricColorEnum;
begin
  case (src) of
    fhir3_types.MetricColorBlack: exit(fhir4_types.MetricColorBlack);
    fhir3_types.MetricColorRed: exit(fhir4_types.MetricColorRed);
    fhir3_types.MetricColorGreen: exit(fhir4_types.MetricColorGreen);
    fhir3_types.MetricColorYellow: exit(fhir4_types.MetricColorYellow);
    fhir3_types.MetricColorBlue: exit(fhir4_types.MetricColorBlue);
    fhir3_types.MetricColorMagenta: exit(fhir4_types.MetricColorMagenta);
    fhir3_types.MetricColorCyan: exit(fhir4_types.MetricColorCyan);
    fhir3_types.MetricColorWhite: exit(fhir4_types.MetricColorWhite);
    else exit(fhir4_types.MetricColorNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricColor4(src : fhir4_types.TFhirMetricColorEnum) : fhir3_types.TFhirMetricColorEnum;
begin
  case (src) of
    fhir4_types.MetricColorBlack: exit(fhir3_types.MetricColorBlack);
    fhir4_types.MetricColorRed: exit(fhir3_types.MetricColorRed);
    fhir4_types.MetricColorGreen: exit(fhir3_types.MetricColorGreen);
    fhir4_types.MetricColorYellow: exit(fhir3_types.MetricColorYellow);
    fhir4_types.MetricColorBlue: exit(fhir3_types.MetricColorBlue);
    fhir4_types.MetricColorMagenta: exit(fhir3_types.MetricColorMagenta);
    fhir4_types.MetricColorCyan: exit(fhir3_types.MetricColorCyan);
    fhir4_types.MetricColorWhite: exit(fhir3_types.MetricColorWhite);
    else exit(fhir3_types.MetricColorNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricCategory3(src : fhir3_types.TFhirMetricCategoryEnum) : fhir4_types.TFhirMetricCategoryEnum;
begin
  case (src) of
    fhir3_types.MetricCategoryMeasurement: exit(fhir4_types.MetricCategoryMeasurement);
    fhir3_types.MetricCategorySetting: exit(fhir4_types.MetricCategorySetting);
    fhir3_types.MetricCategoryCalculation: exit(fhir4_types.MetricCategoryCalculation);
    fhir3_types.MetricCategoryUnspecified: exit(fhir4_types.MetricCategoryUnspecified);
    else exit(fhir4_types.MetricCategoryNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricCategory4(src : fhir4_types.TFhirMetricCategoryEnum) : fhir3_types.TFhirMetricCategoryEnum;
begin
  case (src) of
    fhir4_types.MetricCategoryMeasurement: exit(fhir3_types.MetricCategoryMeasurement);
    fhir4_types.MetricCategorySetting: exit(fhir3_types.MetricCategorySetting);
    fhir4_types.MetricCategoryCalculation: exit(fhir3_types.MetricCategoryCalculation);
    fhir4_types.MetricCategoryUnspecified: exit(fhir3_types.MetricCategoryUnspecified);
    else exit(fhir3_types.MetricCategoryNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricCalibrationType3(src : fhir3_types.TFhirMetricCalibrationTypeEnum) : fhir4_types.TFhirMetricCalibrationTypeEnum;
begin
  case (src) of
    fhir3_types.MetricCalibrationTypeUnspecified: exit(fhir4_types.MetricCalibrationTypeUnspecified);
    fhir3_types.MetricCalibrationTypeOffset: exit(fhir4_types.MetricCalibrationTypeOffset);
    fhir3_types.MetricCalibrationTypeGain: exit(fhir4_types.MetricCalibrationTypeGain);
    fhir3_types.MetricCalibrationTypeTwoPoint: exit(fhir4_types.MetricCalibrationTypeTwoPoint);
    else exit(fhir4_types.MetricCalibrationTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricCalibrationType4(src : fhir4_types.TFhirMetricCalibrationTypeEnum) : fhir3_types.TFhirMetricCalibrationTypeEnum;
begin
  case (src) of
    fhir4_types.MetricCalibrationTypeUnspecified: exit(fhir3_types.MetricCalibrationTypeUnspecified);
    fhir4_types.MetricCalibrationTypeOffset: exit(fhir3_types.MetricCalibrationTypeOffset);
    fhir4_types.MetricCalibrationTypeGain: exit(fhir3_types.MetricCalibrationTypeGain);
    fhir4_types.MetricCalibrationTypeTwoPoint: exit(fhir3_types.MetricCalibrationTypeTwoPoint);
    else exit(fhir3_types.MetricCalibrationTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricCalibrationState3(src : fhir3_types.TFhirMetricCalibrationStateEnum) : fhir4_types.TFhirMetricCalibrationStateEnum;
begin
  case (src) of
    fhir3_types.MetricCalibrationStateNotCalibrated: exit(fhir4_types.MetricCalibrationStateNotCalibrated);
    fhir3_types.MetricCalibrationStateCalibrationRequired: exit(fhir4_types.MetricCalibrationStateCalibrationRequired);
    fhir3_types.MetricCalibrationStateCalibrated: exit(fhir4_types.MetricCalibrationStateCalibrated);
    fhir3_types.MetricCalibrationStateUnspecified: exit(fhir4_types.MetricCalibrationStateUnspecified);
    else exit(fhir4_types.MetricCalibrationStateNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricCalibrationState4(src : fhir4_types.TFhirMetricCalibrationStateEnum) : fhir3_types.TFhirMetricCalibrationStateEnum;
begin
  case (src) of
    fhir4_types.MetricCalibrationStateNotCalibrated: exit(fhir3_types.MetricCalibrationStateNotCalibrated);
    fhir4_types.MetricCalibrationStateCalibrationRequired: exit(fhir3_types.MetricCalibrationStateCalibrationRequired);
    fhir4_types.MetricCalibrationStateCalibrated: exit(fhir3_types.MetricCalibrationStateCalibrated);
    fhir4_types.MetricCalibrationStateUnspecified: exit(fhir3_types.MetricCalibrationStateUnspecified);
    else exit(fhir3_types.MetricCalibrationStateNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceUseStatementStatus3(src : fhir3_types.TFhirDeviceStatementStatusEnum) : fhir4_types.TFhirDeviceStatementStatusEnum;
begin
  case (src) of
    fhir3_types.DeviceStatementStatusActive: exit(fhir4_types.DeviceStatementStatusActive);
    fhir3_types.DeviceStatementStatusCompleted: exit(fhir4_types.DeviceStatementStatusCompleted);
    fhir3_types.DeviceStatementStatusEnteredInError: exit(fhir4_types.DeviceStatementStatusEnteredInError);
    fhir3_types.DeviceStatementStatusIntended: exit(fhir4_types.DeviceStatementStatusIntended);
    fhir3_types.DeviceStatementStatusStopped: exit(fhir4_types.DeviceStatementStatusStopped);
    fhir3_types.DeviceStatementStatusOnHold: exit(fhir4_types.DeviceStatementStatusOnHold);
    else exit(fhir4_types.DeviceStatementStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertDeviceUseStatementStatus4(src : fhir4_types.TFhirDeviceStatementStatusEnum) : fhir3_types.TFhirDeviceStatementStatusEnum;
begin
  case (src) of
    fhir4_types.DeviceStatementStatusActive: exit(fhir3_types.DeviceStatementStatusActive);
    fhir4_types.DeviceStatementStatusCompleted: exit(fhir3_types.DeviceStatementStatusCompleted);
    fhir4_types.DeviceStatementStatusEnteredInError: exit(fhir3_types.DeviceStatementStatusEnteredInError);
    fhir4_types.DeviceStatementStatusIntended: exit(fhir3_types.DeviceStatementStatusIntended);
    fhir4_types.DeviceStatementStatusStopped: exit(fhir3_types.DeviceStatementStatusStopped);
    fhir4_types.DeviceStatementStatusOnHold: exit(fhir3_types.DeviceStatementStatusOnHold);
    else exit(fhir3_types.DeviceStatementStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertDiagnosticReportStatus3(src : fhir3_types.TFhirDiagnosticReportStatusEnum) : fhir4_types.TFhirDiagnosticReportStatusEnum;
begin
  case (src) of
    fhir3_types.DiagnosticReportStatusRegistered: exit(fhir4_types.DiagnosticReportStatusRegistered);
    fhir3_types.DiagnosticReportStatusPartial: exit(fhir4_types.DiagnosticReportStatusPartial);
    fhir3_types.DiagnosticReportStatusPreliminary: exit(fhir4_types.DiagnosticReportStatusPreliminary);
    fhir3_types.DiagnosticReportStatusFinal: exit(fhir4_types.DiagnosticReportStatusFinal);
    fhir3_types.DiagnosticReportStatusAmended: exit(fhir4_types.DiagnosticReportStatusAmended);
    fhir3_types.DiagnosticReportStatusCorrected: exit(fhir4_types.DiagnosticReportStatusCorrected);
    fhir3_types.DiagnosticReportStatusAppended: exit(fhir4_types.DiagnosticReportStatusAppended);
    fhir3_types.DiagnosticReportStatusCancelled: exit(fhir4_types.DiagnosticReportStatusCancelled);
    fhir3_types.DiagnosticReportStatusEnteredInError: exit(fhir4_types.DiagnosticReportStatusEnteredInError);
    fhir3_types.DiagnosticReportStatusUnknown: exit(fhir4_types.DiagnosticReportStatusUnknown);
    else exit(fhir4_types.DiagnosticReportStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertDiagnosticReportStatus4(src : fhir4_types.TFhirDiagnosticReportStatusEnum) : fhir3_types.TFhirDiagnosticReportStatusEnum;
begin
  case (src) of
    fhir4_types.DiagnosticReportStatusRegistered: exit(fhir3_types.DiagnosticReportStatusRegistered);
    fhir4_types.DiagnosticReportStatusPartial: exit(fhir3_types.DiagnosticReportStatusPartial);
    fhir4_types.DiagnosticReportStatusPreliminary: exit(fhir3_types.DiagnosticReportStatusPreliminary);
    fhir4_types.DiagnosticReportStatusFinal: exit(fhir3_types.DiagnosticReportStatusFinal);
    fhir4_types.DiagnosticReportStatusAmended: exit(fhir3_types.DiagnosticReportStatusAmended);
    fhir4_types.DiagnosticReportStatusCorrected: exit(fhir3_types.DiagnosticReportStatusCorrected);
    fhir4_types.DiagnosticReportStatusAppended: exit(fhir3_types.DiagnosticReportStatusAppended);
    fhir4_types.DiagnosticReportStatusCancelled: exit(fhir3_types.DiagnosticReportStatusCancelled);
    fhir4_types.DiagnosticReportStatusEnteredInError: exit(fhir3_types.DiagnosticReportStatusEnteredInError);
    fhir4_types.DiagnosticReportStatusUnknown: exit(fhir3_types.DiagnosticReportStatusUnknown);
    else exit(fhir3_types.DiagnosticReportStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReferenceStatus3(src : fhir3_types.TFhirDocumentReferenceStatusEnum) : fhir4_types.TFhirDocumentReferenceStatusEnum;
begin
  case (src) of
    fhir3_types.DocumentReferenceStatusCurrent: exit(fhir4_types.DocumentReferenceStatusCurrent);
    fhir3_types.DocumentReferenceStatusSuperseded: exit(fhir4_types.DocumentReferenceStatusSuperseded);
    fhir3_types.DocumentReferenceStatusEnteredInError: exit(fhir4_types.DocumentReferenceStatusEnteredInError);
    else exit(fhir4_types.DocumentReferenceStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReferenceStatus4(src : fhir4_types.TFhirDocumentReferenceStatusEnum) : fhir3_types.TFhirDocumentReferenceStatusEnum;
begin
  case (src) of
    fhir4_types.DocumentReferenceStatusCurrent: exit(fhir3_types.DocumentReferenceStatusCurrent);
    fhir4_types.DocumentReferenceStatusSuperseded: exit(fhir3_types.DocumentReferenceStatusSuperseded);
    fhir4_types.DocumentReferenceStatusEnteredInError: exit(fhir3_types.DocumentReferenceStatusEnteredInError);
    else exit(fhir3_types.DocumentReferenceStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertReferredDocumentStatus3(src : fhir3_types.TFhirCompositionStatusEnum) : fhir4_types.TFhirCompositionStatusEnum;
begin
  case (src) of
    fhir3_types.CompositionStatusPreliminary: exit(fhir4_types.CompositionStatusPreliminary);
    fhir3_types.CompositionStatusFinal: exit(fhir4_types.CompositionStatusFinal);
    fhir3_types.CompositionStatusAmended: exit(fhir4_types.CompositionStatusAmended);
    fhir3_types.CompositionStatusEnteredInError: exit(fhir4_types.CompositionStatusEnteredInError);
    else exit(fhir4_types.CompositionStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertReferredDocumentStatus4(src : fhir4_types.TFhirCompositionStatusEnum) : fhir3_types.TFhirCompositionStatusEnum;
begin
  case (src) of
    fhir4_types.CompositionStatusPreliminary: exit(fhir3_types.CompositionStatusPreliminary);
    fhir4_types.CompositionStatusFinal: exit(fhir3_types.CompositionStatusFinal);
    fhir4_types.CompositionStatusAmended: exit(fhir3_types.CompositionStatusAmended);
    fhir4_types.CompositionStatusEnteredInError: exit(fhir3_types.CompositionStatusEnteredInError);
    else exit(fhir3_types.CompositionStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertEncounterStatus3(src : fhir3_types.TFhirEncounterStatusEnum) : fhir4_types.TFhirEncounterStatusEnum;
begin
  case (src) of
    fhir3_types.EncounterStatusPlanned: exit(fhir4_types.EncounterStatusPlanned);
    fhir3_types.EncounterStatusArrived: exit(fhir4_types.EncounterStatusArrived);
    fhir3_types.EncounterStatusTriaged: exit(fhir4_types.EncounterStatusTriaged);
    fhir3_types.EncounterStatusInProgress: exit(fhir4_types.EncounterStatusInProgress);
    fhir3_types.EncounterStatusOnleave: exit(fhir4_types.EncounterStatusOnleave);
    fhir3_types.EncounterStatusFinished: exit(fhir4_types.EncounterStatusFinished);
    fhir3_types.EncounterStatusCancelled: exit(fhir4_types.EncounterStatusCancelled);
    fhir3_types.EncounterStatusEnteredInError: exit(fhir4_types.EncounterStatusEnteredInError);
    fhir3_types.EncounterStatusUnknown: exit(fhir4_types.EncounterStatusUnknown);
    else exit(fhir4_types.EncounterStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertEncounterStatus4(src : fhir4_types.TFhirEncounterStatusEnum) : fhir3_types.TFhirEncounterStatusEnum;
begin
  case (src) of
    fhir4_types.EncounterStatusPlanned: exit(fhir3_types.EncounterStatusPlanned);
    fhir4_types.EncounterStatusArrived: exit(fhir3_types.EncounterStatusArrived);
    fhir4_types.EncounterStatusTriaged: exit(fhir3_types.EncounterStatusTriaged);
    fhir4_types.EncounterStatusInProgress: exit(fhir3_types.EncounterStatusInProgress);
    fhir4_types.EncounterStatusOnleave: exit(fhir3_types.EncounterStatusOnleave);
    fhir4_types.EncounterStatusFinished: exit(fhir3_types.EncounterStatusFinished);
    fhir4_types.EncounterStatusCancelled: exit(fhir3_types.EncounterStatusCancelled);
    fhir4_types.EncounterStatusEnteredInError: exit(fhir3_types.EncounterStatusEnteredInError);
    fhir4_types.EncounterStatusUnknown: exit(fhir3_types.EncounterStatusUnknown);
    else exit(fhir3_types.EncounterStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertEncounterLocationStatus3(src : fhir3_types.TFhirEncounterLocationStatusEnum) : fhir4_types.TFhirEncounterLocationStatusEnum;
begin
  case (src) of
    fhir3_types.EncounterLocationStatusPlanned: exit(fhir4_types.EncounterLocationStatusPlanned);
    fhir3_types.EncounterLocationStatusActive: exit(fhir4_types.EncounterLocationStatusActive);
    fhir3_types.EncounterLocationStatusReserved: exit(fhir4_types.EncounterLocationStatusReserved);
    fhir3_types.EncounterLocationStatusCompleted: exit(fhir4_types.EncounterLocationStatusCompleted);
    else exit(fhir4_types.EncounterLocationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertEncounterLocationStatus4(src : fhir4_types.TFhirEncounterLocationStatusEnum) : fhir3_types.TFhirEncounterLocationStatusEnum;
begin
  case (src) of
    fhir4_types.EncounterLocationStatusPlanned: exit(fhir3_types.EncounterLocationStatusPlanned);
    fhir4_types.EncounterLocationStatusActive: exit(fhir3_types.EncounterLocationStatusActive);
    fhir4_types.EncounterLocationStatusReserved: exit(fhir3_types.EncounterLocationStatusReserved);
    fhir4_types.EncounterLocationStatusCompleted: exit(fhir3_types.EncounterLocationStatusCompleted);
    else exit(fhir3_types.EncounterLocationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertEndpointStatus3(src : fhir3_types.TFhirEndpointStatusEnum) : fhir4_types.TFhirEndpointStatusEnum;
begin
  case (src) of
    fhir3_types.EndpointStatusActive: exit(fhir4_types.EndpointStatusActive);
    fhir3_types.EndpointStatusSuspended: exit(fhir4_types.EndpointStatusSuspended);
    fhir3_types.EndpointStatusError: exit(fhir4_types.EndpointStatusError);
    fhir3_types.EndpointStatusOff: exit(fhir4_types.EndpointStatusOff);
    fhir3_types.EndpointStatusEnteredInError: exit(fhir4_types.EndpointStatusEnteredInError);
    fhir3_types.EndpointStatusTest: exit(fhir4_types.EndpointStatusTest);
    else exit(fhir4_types.EndpointStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertEndpointStatus4(src : fhir4_types.TFhirEndpointStatusEnum) : fhir3_types.TFhirEndpointStatusEnum;
begin
  case (src) of
    fhir4_types.EndpointStatusActive: exit(fhir3_types.EndpointStatusActive);
    fhir4_types.EndpointStatusSuspended: exit(fhir3_types.EndpointStatusSuspended);
    fhir4_types.EndpointStatusError: exit(fhir3_types.EndpointStatusError);
    fhir4_types.EndpointStatusOff: exit(fhir3_types.EndpointStatusOff);
    fhir4_types.EndpointStatusEnteredInError: exit(fhir3_types.EndpointStatusEnteredInError);
    fhir4_types.EndpointStatusTest: exit(fhir3_types.EndpointStatusTest);
    else exit(fhir3_types.EndpointStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertEpisodeOfCareStatus3(src : fhir3_types.TFhirEpisodeOfCareStatusEnum) : fhir4_types.TFhirEpisodeOfCareStatusEnum;
begin
  case (src) of
    fhir3_types.EpisodeOfCareStatusPlanned: exit(fhir4_types.EpisodeOfCareStatusPlanned);
    fhir3_types.EpisodeOfCareStatusWaitlist: exit(fhir4_types.EpisodeOfCareStatusWaitlist);
    fhir3_types.EpisodeOfCareStatusActive: exit(fhir4_types.EpisodeOfCareStatusActive);
    fhir3_types.EpisodeOfCareStatusOnhold: exit(fhir4_types.EpisodeOfCareStatusOnhold);
    fhir3_types.EpisodeOfCareStatusFinished: exit(fhir4_types.EpisodeOfCareStatusFinished);
    fhir3_types.EpisodeOfCareStatusCancelled: exit(fhir4_types.EpisodeOfCareStatusCancelled);
    fhir3_types.EpisodeOfCareStatusEnteredInError: exit(fhir4_types.EpisodeOfCareStatusEnteredInError);
    else exit(fhir4_types.EpisodeOfCareStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertEpisodeOfCareStatus4(src : fhir4_types.TFhirEpisodeOfCareStatusEnum) : fhir3_types.TFhirEpisodeOfCareStatusEnum;
begin
  case (src) of
    fhir4_types.EpisodeOfCareStatusPlanned: exit(fhir3_types.EpisodeOfCareStatusPlanned);
    fhir4_types.EpisodeOfCareStatusWaitlist: exit(fhir3_types.EpisodeOfCareStatusWaitlist);
    fhir4_types.EpisodeOfCareStatusActive: exit(fhir3_types.EpisodeOfCareStatusActive);
    fhir4_types.EpisodeOfCareStatusOnhold: exit(fhir3_types.EpisodeOfCareStatusOnhold);
    fhir4_types.EpisodeOfCareStatusFinished: exit(fhir3_types.EpisodeOfCareStatusFinished);
    fhir4_types.EpisodeOfCareStatusCancelled: exit(fhir3_types.EpisodeOfCareStatusCancelled);
    fhir4_types.EpisodeOfCareStatusEnteredInError: exit(fhir3_types.EpisodeOfCareStatusEnteredInError);
    else exit(fhir3_types.EpisodeOfCareStatusNull);
  end;
end;

//class function TVersionConvertor_30_40.convertSystemVersionProcessingMode3(src : fhir3_types.TFhirSystemVersionProcessingModeEnum) : fhir4_types.TFhirSystemVersionProcessingModeEnum;
//begin
//  case (src) of
//    fhir3_types.SystemVersionProcessingModeDefault: exit(fhir4_types.SystemVersionProcessingModeDefault);
//    fhir3_types.SystemVersionProcessingModeCheck: exit(fhir4_types.SystemVersionProcessingModeCheck);
//    fhir3_types.SystemVersionProcessingModeOverride: exit(fhir4_types.SystemVersionProcessingModeOverride);
//    else exit(fhir4_types.SystemVersionProcessingModeNull);
//  end;
//end;
//
//class function TVersionConvertor_30_40.convertSystemVersionProcessingMode4(src : fhir4_types.TFhirSystemVersionProcessingModeEnum) : fhir3_types.TFhirSystemVersionProcessingModeEnum;
//begin
//  case (src) of
//    fhir4_types.SystemVersionProcessingModeDefault: exit(fhir3_types.SystemVersionProcessingModeDefault);
//    fhir4_types.SystemVersionProcessingModeCheck: exit(fhir3_types.SystemVersionProcessingModeCheck);
//    fhir4_types.SystemVersionProcessingModeOverride: exit(fhir3_types.SystemVersionProcessingModeOverride);
//    else exit(fhir3_types.SystemVersionProcessingModeNull);
//  end;
//end;
//
class function TVersionConvertor_30_40.convertFamilyHistoryStatus3(src : fhir3_types.TFhirHistoryStatusEnum) : fhir4_types.TFhirHistoryStatusEnum;
begin
  case (src) of
    fhir3_types.HistoryStatusPartial: exit(fhir4_types.HistoryStatusPartial);
    fhir3_types.HistoryStatusCompleted: exit(fhir4_types.HistoryStatusCompleted);
    fhir3_types.HistoryStatusEnteredInError: exit(fhir4_types.HistoryStatusEnteredInError);
    fhir3_types.HistoryStatusHealthUnknown: exit(fhir4_types.HistoryStatusHealthUnknown);
    else exit(fhir4_types.HistoryStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertFamilyHistoryStatus4(src : fhir4_types.TFhirHistoryStatusEnum) : fhir3_types.TFhirHistoryStatusEnum;
begin
  case (src) of
    fhir4_types.HistoryStatusPartial: exit(fhir3_types.HistoryStatusPartial);
    fhir4_types.HistoryStatusCompleted: exit(fhir3_types.HistoryStatusCompleted);
    fhir4_types.HistoryStatusEnteredInError: exit(fhir3_types.HistoryStatusEnteredInError);
    fhir4_types.HistoryStatusHealthUnknown: exit(fhir3_types.HistoryStatusHealthUnknown);
    else exit(fhir3_types.HistoryStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertAdministrativeGender3(src : fhir3_types.TFhirAdministrativeGenderEnum) : fhir4_types.TFhirAdministrativeGenderEnum;
begin
  case (src) of
    fhir3_types.AdministrativeGenderMale: exit(fhir4_types.AdministrativeGenderMale);
    fhir3_types.AdministrativeGenderFemale: exit(fhir4_types.AdministrativeGenderFemale);
    fhir3_types.AdministrativeGenderOther: exit(fhir4_types.AdministrativeGenderOther);
    fhir3_types.AdministrativeGenderUnknown: exit(fhir4_types.AdministrativeGenderUnknown);
    else exit(fhir4_types.AdministrativeGenderNull);
  end;
end;

class function TVersionConvertor_30_40.convertAdministrativeGender4(src : fhir4_types.TFhirAdministrativeGenderEnum) : fhir3_types.TFhirAdministrativeGenderEnum;
begin
  case (src) of
    fhir4_types.AdministrativeGenderMale: exit(fhir3_types.AdministrativeGenderMale);
    fhir4_types.AdministrativeGenderFemale: exit(fhir3_types.AdministrativeGenderFemale);
    fhir4_types.AdministrativeGenderOther: exit(fhir3_types.AdministrativeGenderOther);
    fhir4_types.AdministrativeGenderUnknown: exit(fhir3_types.AdministrativeGenderUnknown);
    else exit(fhir3_types.AdministrativeGenderNull);
  end;
end;

class function TVersionConvertor_30_40.convertFlagStatus3(src : fhir3_types.TFhirFlagStatusEnum) : fhir4_types.TFhirFlagStatusEnum;
begin
  case (src) of
    fhir3_types.FlagStatusActive: exit(fhir4_types.FlagStatusActive);
    fhir3_types.FlagStatusInactive: exit(fhir4_types.FlagStatusInactive);
    fhir3_types.FlagStatusEnteredInError: exit(fhir4_types.FlagStatusEnteredInError);
    else exit(fhir4_types.FlagStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertFlagStatus4(src : fhir4_types.TFhirFlagStatusEnum) : fhir3_types.TFhirFlagStatusEnum;
begin
  case (src) of
    fhir4_types.FlagStatusActive: exit(fhir3_types.FlagStatusActive);
    fhir4_types.FlagStatusInactive: exit(fhir3_types.FlagStatusInactive);
    fhir4_types.FlagStatusEnteredInError: exit(fhir3_types.FlagStatusEnteredInError);
    else exit(fhir3_types.FlagStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertGoalStatus3(src : fhir3_types.TFhirGoalStatusEnum) : fhir4_types.TFhirGoalStatusEnum;
begin
  case (src) of
    fhir3_types.GoalStatusProposed: exit(fhir4_types.GoalStatusProposed);
    fhir3_types.GoalStatusAccepted: exit(fhir4_types.GoalStatusAccepted);
    fhir3_types.GoalStatusPlanned: exit(fhir4_types.GoalStatusPlanned);
    fhir3_types.GoalStatusInProgress: exit(fhir4_types.GoalStatusActive);
    fhir3_types.GoalStatusOnTarget: exit(fhir4_types.GoalStatusActive);
    fhir3_types.GoalStatusAheadOfTarget: exit(fhir4_types.GoalStatusActive);
    fhir3_types.GoalStatusBehindTarget: exit(fhir4_types.GoalStatusActive);
    fhir3_types.GoalStatusSustaining: exit(fhir4_types.GoalStatusActive);
    fhir3_types.GoalStatusAchieved: exit(fhir4_types.GoalStatusCompleted);
    fhir3_types.GoalStatusOnHold: exit(fhir4_types.GoalStatusOnHold);
    fhir3_types.GoalStatusCancelled: exit(fhir4_types.GoalStatusCancelled);
    fhir3_types.GoalStatusEnteredInError: exit(fhir4_types.GoalStatusEnteredInError);
    fhir3_types.GoalStatusRejected: exit(fhir4_types.GoalStatusRejected);
    else exit(fhir4_types.GoalStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertGoalStatus4(src : fhir4_types.TFhirGoalStatusEnum) : fhir3_types.TFhirGoalStatusEnum;
begin
  case (src) of
    fhir4_types.GoalStatusProposed: exit(fhir3_types.GoalStatusProposed);
    fhir4_types.GoalStatusAccepted: exit(fhir3_types.GoalStatusAccepted);
    fhir4_types.GoalStatusPlanned: exit(fhir3_types.GoalStatusPlanned);
    fhir4_types.GoalStatusActive: exit(fhir3_types.GoalStatusInProgress);
    fhir4_types.GoalStatusCompleted: exit(fhir3_types.GoalStatusAchieved);
    fhir4_types.GoalStatusOnHold: exit(fhir3_types.GoalStatusOnHold);
    fhir4_types.GoalStatusCancelled: exit(fhir3_types.GoalStatusCancelled);
    fhir4_types.GoalStatusEnteredInError: exit(fhir3_types.GoalStatusEnteredInError);
    fhir4_types.GoalStatusRejected: exit(fhir3_types.GoalStatusRejected);
    else exit(fhir3_types.GoalStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertCompartmentCode3(src : fhir3_types.TFhirCompartmentTypeEnum) : fhir4_types.TFhirCompartmentTypeEnum;
begin
  case (src) of
    fhir3_types.CompartmentTypePatient: exit(fhir4_types.CompartmentTypePatient);
    fhir3_types.CompartmentTypeEncounter: exit(fhir4_types.CompartmentTypeEncounter);
    fhir3_types.CompartmentTypeRelatedPerson: exit(fhir4_types.CompartmentTypeRelatedPerson);
    fhir3_types.CompartmentTypePractitioner: exit(fhir4_types.CompartmentTypePractitioner);
    fhir3_types.CompartmentTypeDevice: exit(fhir4_types.CompartmentTypeDevice);
    else exit(fhir4_types.CompartmentTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertCompartmentCode4(src : fhir4_types.TFhirCompartmentTypeEnum) : fhir3_types.TFhirCompartmentTypeEnum;
begin
  case (src) of
    fhir4_types.CompartmentTypePatient: exit(fhir3_types.CompartmentTypePatient);
    fhir4_types.CompartmentTypeEncounter: exit(fhir3_types.CompartmentTypeEncounter);
    fhir4_types.CompartmentTypeRelatedPerson: exit(fhir3_types.CompartmentTypeRelatedPerson);
    fhir4_types.CompartmentTypePractitioner: exit(fhir3_types.CompartmentTypePractitioner);
    fhir4_types.CompartmentTypeDevice: exit(fhir3_types.CompartmentTypeDevice);
    else exit(fhir3_types.CompartmentTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertGraphCompartmentRule3(src : fhir3_types.TFhirGraphCompartmentRuleEnum) : fhir4_types.TFhirGraphCompartmentRuleEnum;
begin
  case (src) of
    fhir3_types.GraphCompartmentRuleIdentical: exit(fhir4_types.GraphCompartmentRuleIdentical);
    fhir3_types.GraphCompartmentRuleMatching: exit(fhir4_types.GraphCompartmentRuleMatching);
    fhir3_types.GraphCompartmentRuleDifferent: exit(fhir4_types.GraphCompartmentRuleDifferent);
    fhir3_types.GraphCompartmentRuleCustom: exit(fhir4_types.GraphCompartmentRuleCustom);
    else exit(fhir4_types.GraphCompartmentRuleNull);
  end;
end;

class function TVersionConvertor_30_40.convertGraphCompartmentRule4(src : fhir4_types.TFhirGraphCompartmentRuleEnum) : fhir3_types.TFhirGraphCompartmentRuleEnum;
begin
  case (src) of
    fhir4_types.GraphCompartmentRuleIdentical: exit(fhir3_types.GraphCompartmentRuleIdentical);
    fhir4_types.GraphCompartmentRuleMatching: exit(fhir3_types.GraphCompartmentRuleMatching);
    fhir4_types.GraphCompartmentRuleDifferent: exit(fhir3_types.GraphCompartmentRuleDifferent);
    fhir4_types.GraphCompartmentRuleCustom: exit(fhir3_types.GraphCompartmentRuleCustom);
    else exit(fhir3_types.GraphCompartmentRuleNull);
  end;
end;

class function TVersionConvertor_30_40.convertGroupType3(src : fhir3_types.TFhirGroupTypeEnum) : fhir4_types.TFhirGroupTypeEnum;
begin
  case (src) of
    fhir3_types.GroupTypePerson: exit(fhir4_types.GroupTypePerson);
    fhir3_types.GroupTypeAnimal: exit(fhir4_types.GroupTypeAnimal);
    fhir3_types.GroupTypePractitioner: exit(fhir4_types.GroupTypePractitioner);
    fhir3_types.GroupTypeDevice: exit(fhir4_types.GroupTypeDevice);
    fhir3_types.GroupTypeMedication: exit(fhir4_types.GroupTypeMedication);
    fhir3_types.GroupTypeSubstance: exit(fhir4_types.GroupTypeSubstance);
    else exit(fhir4_types.GroupTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertGroupType4(src : fhir4_types.TFhirGroupTypeEnum) : fhir3_types.TFhirGroupTypeEnum;
begin
  case (src) of
    fhir4_types.GroupTypePerson: exit(fhir3_types.GroupTypePerson);
    fhir4_types.GroupTypeAnimal: exit(fhir3_types.GroupTypeAnimal);
    fhir4_types.GroupTypePractitioner: exit(fhir3_types.GroupTypePractitioner);
    fhir4_types.GroupTypeDevice: exit(fhir3_types.GroupTypeDevice);
    fhir4_types.GroupTypeMedication: exit(fhir3_types.GroupTypeMedication);
    fhir4_types.GroupTypeSubstance: exit(fhir3_types.GroupTypeSubstance);
    else exit(fhir3_types.GroupTypeNull);
  end;
end;

//class function TVersionConvertor_30_40.convertDaysOfWeek3(src : fhir3_types.TFhirDaysOfWeekEnum) : fhir4_types.TFhirDaysOfWeekEnum;
//begin
//  case (src) of
//    fhir3_types.DaysOfWeekMon: exit(fhir4_types.DaysOfWeekMon);
//    fhir3_types.DaysOfWeekTue: exit(fhir4_types.DaysOfWeekTue);
//    fhir3_types.DaysOfWeekWed: exit(fhir4_types.DaysOfWeekWed);
//    fhir3_types.DaysOfWeekThu: exit(fhir4_types.DaysOfWeekThu);
//    fhir3_types.DaysOfWeekFri: exit(fhir4_types.DaysOfWeekFri);
//    fhir3_types.DaysOfWeekSat: exit(fhir4_types.DaysOfWeekSat);
//    fhir3_types.DaysOfWeekSun: exit(fhir4_types.DaysOfWeekSun);
//    else exit(fhir4_types.DaysOfWeekNull);
//  end;
//end;
//
//class function TVersionConvertor_30_40.convertDaysOfWeek4(src : fhir4_types.TFhirDaysOfWeekEnum) : fhir3_types.TFhirDaysOfWeekEnum;
//begin
//  case (src) of
//    fhir4_types.DaysOfWeekMon: exit(fhir3_types.DaysOfWeekMon);
//    fhir4_types.DaysOfWeekTue: exit(fhir3_types.DaysOfWeekTue);
//    fhir4_types.DaysOfWeekWed: exit(fhir3_types.DaysOfWeekWed);
//    fhir4_types.DaysOfWeekThu: exit(fhir3_types.DaysOfWeekThu);
//    fhir4_types.DaysOfWeekFri: exit(fhir3_types.DaysOfWeekFri);
//    fhir4_types.DaysOfWeekSat: exit(fhir3_types.DaysOfWeekSat);
//    fhir4_types.DaysOfWeekSun: exit(fhir3_types.DaysOfWeekSun);
//    else exit(fhir3_types.DaysOfWeekNull);
//  end;
//end;

class function TVersionConvertor_30_40.convertImmunizationStatus3(src : fhir3_types.TFhirImmunizationStatusEnum) : fhir4_types.TFhirImmunizationStatusEnum;
begin
  case (src) of
    fhir3_types.ImmunizationStatusCompleted: exit(fhir4_types.ImmunizationStatusCompleted);
    fhir3_types.ImmunizationStatusEnteredInError: exit(fhir4_types.ImmunizationStatusEnteredInError);
    else exit(fhir4_types.ImmunizationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertImmunizationStatus4(src : fhir4_types.TFhirImmunizationStatusEnum) : fhir3_types.TFhirImmunizationStatusEnum;
begin
  case (src) of
    fhir4_types.ImmunizationStatusCompleted: exit(fhir3_types.ImmunizationStatusCompleted);
    fhir4_types.ImmunizationStatusEnteredInError: exit(fhir3_types.ImmunizationStatusEnteredInError);
    else exit(fhir3_types.ImmunizationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.findPackage(definition : fhir3_resources.TFhirImplementationGuidePackageList; id : String) : fhir3_resources.TFhirImplementationGuidePackage;
var
  t : fhir3_resources.TFhirImplementationGuidePackage;
  t1 : fhir3_resources.TFhirImplementationGuidePackage;
begin
  for t in definition do
  begin
    if (t.getId().equals(id)) then
exit(t);

  end;
  t1 := fhir3_resources.TFhirImplementationGuidePackage.Create();
  t1.name := 'Default Package';
  t1.Id := id;
exit(t1);
end;

class function TVersionConvertor_30_40.convertPageGeneration3(kind : fhir3_types.TFhirGuidePageKindEnum) : fhir4_types.TFhirGuidePageGenerationEnum;
begin
  case (kind) of
    fhir3_types.GuidePageKindPage: exit(fhir4_types.GuidePageGenerationHtml);
    else exit(fhir4_types.GuidePageGenerationGenerated);
  end;
end;

class function TVersionConvertor_30_40.convertPageGeneration4(generation : fhir4_types.TFhirGuidePageGenerationEnum) : fhir3_types.TFhirGuidePageKindEnum;
begin
  case (generation) of
    fhir4_types.GuidePageGenerationHtml: exit(fhir3_types.GuidePageKindPage);
    else exit(fhir3_types.GuidePageKindResource);
  end;
end;

class function TVersionConvertor_30_40.convertLinkageType3(src : fhir3_types.TFhirLinkageTypeEnum) : fhir4_types.TFhirLinkageTypeEnum;
begin
  case (src) of
    fhir3_types.LinkageTypeSource: exit(fhir4_types.LinkageTypeSource);
    fhir3_types.LinkageTypeAlternate: exit(fhir4_types.LinkageTypeAlternate);
    fhir3_types.LinkageTypeHistorical: exit(fhir4_types.LinkageTypeHistorical);
    else exit(fhir4_types.LinkageTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertLinkageType4(src : fhir4_types.TFhirLinkageTypeEnum) : fhir3_types.TFhirLinkageTypeEnum;
begin
  case (src) of
    fhir4_types.LinkageTypeSource: exit(fhir3_types.LinkageTypeSource);
    fhir4_types.LinkageTypeAlternate: exit(fhir3_types.LinkageTypeAlternate);
    fhir4_types.LinkageTypeHistorical: exit(fhir3_types.LinkageTypeHistorical);
    else exit(fhir3_types.LinkageTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertListStatus3(src : fhir3_types.TFhirListStatusEnum) : fhir4_types.TFhirListStatusEnum;
begin
  case (src) of
    fhir3_types.ListStatusCurrent: exit(fhir4_types.ListStatusCurrent);
    fhir3_types.ListStatusRetired: exit(fhir4_types.ListStatusRetired);
    fhir3_types.ListStatusEnteredInError: exit(fhir4_types.ListStatusEnteredInError);
    else exit(fhir4_types.ListStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertListStatus4(src : fhir4_types.TFhirListStatusEnum) : fhir3_types.TFhirListStatusEnum;
begin
  case (src) of
    fhir4_types.ListStatusCurrent: exit(fhir3_types.ListStatusCurrent);
    fhir4_types.ListStatusRetired: exit(fhir3_types.ListStatusRetired);
    fhir4_types.ListStatusEnteredInError: exit(fhir3_types.ListStatusEnteredInError);
    else exit(fhir3_types.ListStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertListMode3(src : fhir3_types.TFhirListModeEnum) : fhir4_types.TFhirListModeEnum;
begin
  case (src) of
    fhir3_types.ListModeWorking: exit(fhir4_types.ListModeWorking);
    fhir3_types.ListModeSnapshot: exit(fhir4_types.ListModeSnapshot);
    fhir3_types.ListModeChanges: exit(fhir4_types.ListModeChanges);
    else exit(fhir4_types.ListModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertListMode4(src : fhir4_types.TFhirListModeEnum) : fhir3_types.TFhirListModeEnum;
begin
  case (src) of
    fhir4_types.ListModeWorking: exit(fhir3_types.ListModeWorking);
    fhir4_types.ListModeSnapshot: exit(fhir3_types.ListModeSnapshot);
    fhir4_types.ListModeChanges: exit(fhir3_types.ListModeChanges);
    else exit(fhir3_types.ListModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertLocationStatus3(src : fhir3_types.TFhirLocationStatusEnum) : fhir4_types.TFhirLocationStatusEnum;
begin
  case (src) of
    fhir3_types.LocationStatusActive: exit(fhir4_types.LocationStatusActive);
    fhir3_types.LocationStatusSuspended: exit(fhir4_types.LocationStatusSuspended);
    fhir3_types.LocationStatusInactive: exit(fhir4_types.LocationStatusInactive);
    else exit(fhir4_types.LocationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertLocationStatus4(src : fhir4_types.TFhirLocationStatusEnum) : fhir3_types.TFhirLocationStatusEnum;
begin
  case (src) of
    fhir4_types.LocationStatusActive: exit(fhir3_types.LocationStatusActive);
    fhir4_types.LocationStatusSuspended: exit(fhir3_types.LocationStatusSuspended);
    fhir4_types.LocationStatusInactive: exit(fhir3_types.LocationStatusInactive);
    else exit(fhir3_types.LocationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertLocationMode3(src : fhir3_types.TFhirLocationModeEnum) : fhir4_types.TFhirLocationModeEnum;
begin
  case (src) of
    fhir3_types.LocationModeInstance: exit(fhir4_types.LocationModeInstance);
    fhir3_types.LocationModeKind: exit(fhir4_types.LocationModeKind);
    else exit(fhir4_types.LocationModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertLocationMode4(src : fhir4_types.TFhirLocationModeEnum) : fhir3_types.TFhirLocationModeEnum;
begin
  case (src) of
    fhir4_types.LocationModeInstance: exit(fhir3_types.LocationModeInstance);
    fhir4_types.LocationModeKind: exit(fhir3_types.LocationModeKind);
    else exit(fhir3_types.LocationModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertMedicationStatus3(src : fhir3_types.TFhirMedicationStatusEnum) : fhir4_types.TFhirMedicationStatusEnum;
begin
  case (src) of
    fhir3_types.MedicationStatusActive: exit(fhir4_types.MedicationStatusActive);
    fhir3_types.MedicationStatusInactive: exit(fhir4_types.MedicationStatusInactive);
    fhir3_types.MedicationStatusEnteredInError: exit(fhir4_types.MedicationStatusEnteredInError);
    else exit(fhir4_types.MedicationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertMedicationStatus4(src : fhir4_types.TFhirMedicationStatusEnum) : fhir3_types.TFhirMedicationStatusEnum;
begin
  case (src) of
    fhir4_types.MedicationStatusActive: exit(fhir3_types.MedicationStatusActive);
    fhir4_types.MedicationStatusInactive: exit(fhir3_types.MedicationStatusInactive);
    fhir4_types.MedicationStatusEnteredInError: exit(fhir3_types.MedicationStatusEnteredInError);
    else exit(fhir3_types.MedicationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertMedicationAdministrationStatus3(src : fhir3_types.TFhirMedicationAdminStatusEnum) : String;
begin
  result := fhir3_types.CODES_TFhirMedicationAdminStatusEnum[src];
end;

class function TVersionConvertor_30_40.convertMedicationAdministrationStatus4(src : String) : fhir3_types.TFhirMedicationAdminStatusEnum;
var
  i : integer;
begin
  i := StringArrayIndexOfSensitive(CODES_TFhirMedicationAdminStatusEnum, src);
  if i = -1 then
    result := fhir3_types.MedicationAdminStatusNull
  else
    result := fhir3_types.TFhirMedicationAdminStatusEnum(i);
end;

class function TVersionConvertor_30_40.convertMedicationDispenseStatus3(src : fhir3_types.TFhirMedicationDispenseStatusEnum) : String;
begin
  result := fhir3_types.CODES_TFhirMedicationDispenseStatusEnum[src];
end;

class function TVersionConvertor_30_40.convertMedicationDispenseStatus4(src : string) : fhir3_types.TFhirMedicationDispenseStatusEnum;
var
  i : integer;
begin
  i := StringArrayIndexOfSensitive(fhir3_types.CODES_TFhirMedicationDispenseStatusEnum, src);
  if i = -1 then
    result := fhir3_types.MedicationDispenseStatusNull
  else
    result := fhir3_types.TFhirMedicationDispenseStatusEnum(i);
end;

class function TVersionConvertor_30_40.convertMedicationRequestStatus3(src : fhir3_types.TFhirMedicationRequestStatusEnum) : fhir4_types.TFhirMedicationRequestStatusEnum;
begin
  case (src) of
    fhir3_types.MedicationRequestStatusActive: exit(fhir4_types.MedicationRequestStatusActive);
    fhir3_types.MedicationRequestStatusOnHold: exit(fhir4_types.MedicationRequestStatusOnHold);
    fhir3_types.MedicationRequestStatusCancelled: exit(fhir4_types.MedicationRequestStatusCancelled);
    fhir3_types.MedicationRequestStatusCompleted: exit(fhir4_types.MedicationRequestStatusCompleted);
    fhir3_types.MedicationRequestStatusEnteredInError: exit(fhir4_types.MedicationRequestStatusEnteredInError);
    fhir3_types.MedicationRequestStatusStopped: exit(fhir4_types.MedicationRequestStatusStopped);
    fhir3_types.MedicationRequestStatusDraft: exit(fhir4_types.MedicationRequestStatusDraft);
    fhir3_types.MedicationRequestStatusUnknown: exit(fhir4_types.MedicationRequestStatusUnknown);
    else exit(fhir4_types.MedicationRequestStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequestStatus4(src : fhir4_types.TFhirMedicationRequestStatusEnum) : fhir3_types.TFhirMedicationRequestStatusEnum;
begin
  case (src) of
    fhir4_types.MedicationRequestStatusActive: exit(fhir3_types.MedicationRequestStatusActive);
    fhir4_types.MedicationRequestStatusOnHold: exit(fhir3_types.MedicationRequestStatusOnHold);
    fhir4_types.MedicationRequestStatusCancelled: exit(fhir3_types.MedicationRequestStatusCancelled);
    fhir4_types.MedicationRequestStatusCompleted: exit(fhir3_types.MedicationRequestStatusCompleted);
    fhir4_types.MedicationRequestStatusEnteredInError: exit(fhir3_types.MedicationRequestStatusEnteredInError);
    fhir4_types.MedicationRequestStatusStopped: exit(fhir3_types.MedicationRequestStatusStopped);
    fhir4_types.MedicationRequestStatusDraft: exit(fhir3_types.MedicationRequestStatusDraft);
    fhir4_types.MedicationRequestStatusUnknown: exit(fhir3_types.MedicationRequestStatusUnknown);
    else exit(fhir3_types.MedicationRequestStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequestIntent3(src : fhir3_types.TFhirMedicationRequestIntentEnum) : fhir4_types.TFhirMedicationRequestIntentEnum;
begin
  case (src) of
    fhir3_types.MedicationRequestIntentProposal: exit(fhir4_types.MedicationRequestIntentProposal);
    fhir3_types.MedicationRequestIntentPlan: exit(fhir4_types.MedicationRequestIntentPlan);
    fhir3_types.MedicationRequestIntentOrder: exit(fhir4_types.MedicationRequestIntentOrder);
    fhir3_types.MedicationRequestIntentInstanceOrder: exit(fhir4_types.MedicationRequestIntentInstanceOrder);
    else exit(fhir4_types.MedicationRequestIntentNull);
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequestIntent4(src : fhir4_types.TFhirMedicationRequestIntentEnum) : fhir3_types.TFhirMedicationRequestIntentEnum;
begin
  case (src) of
    fhir4_types.MedicationRequestIntentProposal: exit(fhir3_types.MedicationRequestIntentProposal);
    fhir4_types.MedicationRequestIntentPlan: exit(fhir3_types.MedicationRequestIntentPlan);
    fhir4_types.MedicationRequestIntentOrder: exit(fhir3_types.MedicationRequestIntentOrder);
    fhir4_types.MedicationRequestIntentInstanceOrder: exit(fhir3_types.MedicationRequestIntentInstanceOrder);
    else exit(fhir3_types.MedicationRequestIntentNull);
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequestPriority3(src : fhir3_types.TFhirMedicationRequestPriorityEnum) : fhir4_types.TFhirRequestPriorityEnum;
begin
  case (src) of
    fhir3_types.MedicationRequestPriorityRoutine: exit(fhir4_types.RequestPriorityRoutine);
    fhir3_types.MedicationRequestPriorityUrgent: exit(fhir4_types.RequestPriorityUrgent);
    fhir3_types.MedicationRequestPriorityStat: exit(fhir4_types.RequestPriorityStat);
    fhir3_types.MedicationRequestPriorityAsap: exit(fhir4_types.RequestPriorityAsap);
    else exit(fhir4_types.RequestPriorityNull);
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequestPriority4(src : fhir4_types.TFhirRequestPriorityEnum) : fhir3_types.TFhirMedicationRequestPriorityEnum;
begin
  case (src) of
    fhir4_types.RequestPriorityRoutine: exit(fhir3_types.MedicationRequestPriorityRoutine);
    fhir4_types.RequestPriorityUrgent: exit(fhir3_types.MedicationRequestPriorityUrgent);
    fhir4_types.RequestPriorityStat: exit(fhir3_types.MedicationRequestPriorityStat);
    fhir4_types.RequestPriorityAsap: exit(fhir3_types.MedicationRequestPriorityAsap);
    else exit(fhir3_types.MedicationRequestPriorityNull);
  end;
end;

class function TVersionConvertor_30_40.convertMedicationStatementStatus3(src : fhir3_types.TFhirMedicationStatementStatusEnum) : fhir4_types.TFhirMedicationStatementStatusEnum;
begin
  case (src) of
    fhir3_types.MedicationStatementStatusActive: exit(fhir4_types.MedicationStatementStatusActive);
    fhir3_types.MedicationStatementStatusCompleted: exit(fhir4_types.MedicationStatementStatusCompleted);
    fhir3_types.MedicationStatementStatusEnteredInError: exit(fhir4_types.MedicationStatementStatusEnteredInError);
    fhir3_types.MedicationStatementStatusIntended: exit(fhir4_types.MedicationStatementStatusIntended);
    fhir3_types.MedicationStatementStatusStopped: exit(fhir4_types.MedicationStatementStatusStopped);
    fhir3_types.MedicationStatementStatusOnHold: exit(fhir4_types.MedicationStatementStatusOnHold);
    else exit(fhir4_types.MedicationStatementStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertMedicationStatementStatus4(src : fhir4_types.TFhirMedicationStatementStatusEnum) : fhir3_types.TFhirMedicationStatementStatusEnum;
begin
  case (src) of
    fhir4_types.MedicationStatementStatusActive: exit(fhir3_types.MedicationStatementStatusActive);
    fhir4_types.MedicationStatementStatusCompleted: exit(fhir3_types.MedicationStatementStatusCompleted);
    fhir4_types.MedicationStatementStatusEnteredInError: exit(fhir3_types.MedicationStatementStatusEnteredInError);
    fhir4_types.MedicationStatementStatusIntended: exit(fhir3_types.MedicationStatementStatusIntended);
    fhir4_types.MedicationStatementStatusStopped: exit(fhir3_types.MedicationStatementStatusStopped);
    fhir4_types.MedicationStatementStatusOnHold: exit(fhir3_types.MedicationStatementStatusOnHold);
    else exit(fhir3_types.MedicationStatementStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertMessageSignificanceCategory3(src : fhir3_types.TFhirMessageSignificanceCategoryEnum) : fhir4_types.TFhirMessageSignificanceCategoryEnum;
begin
  case (src) of
    fhir3_types.MessageSignificanceCategoryConsequence: exit(fhir4_types.MessageSignificanceCategoryConsequence);
    fhir3_types.MessageSignificanceCategoryCurrency: exit(fhir4_types.MessageSignificanceCategoryCurrency);
    fhir3_types.MessageSignificanceCategoryNotification: exit(fhir4_types.MessageSignificanceCategoryNotification);
    else exit(fhir4_types.MessageSignificanceCategoryNull);
  end;
end;

class function TVersionConvertor_30_40.convertMessageSignificanceCategory4(src : fhir4_types.TFhirMessageSignificanceCategoryEnum) : fhir3_types.TFhirMessageSignificanceCategoryEnum;
begin
  case (src) of
    fhir4_types.MessageSignificanceCategoryConsequence: exit(fhir3_types.MessageSignificanceCategoryConsequence);
    fhir4_types.MessageSignificanceCategoryCurrency: exit(fhir3_types.MessageSignificanceCategoryCurrency);
    fhir4_types.MessageSignificanceCategoryNotification: exit(fhir3_types.MessageSignificanceCategoryNotification);
    else exit(fhir3_types.MessageSignificanceCategoryNull);
  end;
end;

class function TVersionConvertor_30_40.convertResponseType3(src : fhir3_types.TFhirResponseCodeEnum) : fhir4_types.TFhirResponseCodeEnum;
begin
  case (src) of
    fhir3_types.ResponseCodeOk: exit(fhir4_types.ResponseCodeOk);
    fhir3_types.ResponseCodeTransientError: exit(fhir4_types.ResponseCodeTransientError);
    fhir3_types.ResponseCodeFatalError: exit(fhir4_types.ResponseCodeFatalError);
    else exit(fhir4_types.ResponseCodeNull);
  end;
end;

class function TVersionConvertor_30_40.convertProvenanceEntityRole4(src : fhir4_types.TFhirProvenanceEntityRoleEnum) : fhir3_types.TFhirProvenanceEntityRoleEnum;
begin
  case (src) of
    fhir4_types.ProvenanceEntityRoleDerivation: exit(fhir3_types.ProvenanceEntityRoleDerivation);
    fhir4_types.ProvenanceEntityRoleRevision: exit(fhir3_types.ProvenanceEntityRoleRevision);
    fhir4_types.ProvenanceEntityRoleQuotation: exit(fhir3_types.ProvenanceEntityRoleQuotation);
    fhir4_types.ProvenanceEntityRoleSource: exit(fhir3_types.ProvenanceEntityRoleSource);
    fhir4_types.ProvenanceEntityRoleRemoval: exit(fhir3_types.ProvenanceEntityRoleRemoval);
    else exit(fhir3_types.ProvenanceEntityRoleNull);
  end;
end;

class function TVersionConvertor_30_40.convertProvenanceEntityRole3(src : fhir3_types.TFhirProvenanceEntityRoleEnum) : fhir4_types.TFhirProvenanceEntityRoleEnum;
begin
  case (src) of
    fhir3_types.ProvenanceEntityRoleDerivation: exit(fhir4_types.ProvenanceEntityRoleDerivation);
    fhir3_types.ProvenanceEntityRoleRevision: exit(fhir4_types.ProvenanceEntityRoleRevision);
    fhir3_types.ProvenanceEntityRoleQuotation: exit(fhir4_types.ProvenanceEntityRoleQuotation);
    fhir3_types.ProvenanceEntityRoleSource: exit(fhir4_types.ProvenanceEntityRoleSource);
    fhir3_types.ProvenanceEntityRoleRemoval: exit(fhir4_types.ProvenanceEntityRoleRemoval);
    else exit(fhir4_types.ProvenanceEntityRoleNull);
  end;
end;

class function TVersionConvertor_30_40.convertResponseType4(src : fhir4_types.TFhirResponseCodeEnum) : fhir3_types.TFhirResponseCodeEnum;
begin
  case (src) of
    fhir4_types.ResponseCodeOk: exit(fhir3_types.ResponseCodeOk);
    fhir4_types.ResponseCodeTransientError: exit(fhir3_types.ResponseCodeTransientError);
    fhir4_types.ResponseCodeFatalError: exit(fhir3_types.ResponseCodeFatalError);
    else exit(fhir3_types.ResponseCodeNull);
  end;
end;

class function TVersionConvertor_30_40.convertNamingSystemType3(src : fhir3_types.TFhirNamingsystemTypeEnum) : fhir4_types.TFhirNamingsystemTypeEnum;
begin
  case (src) of
    fhir3_types.NamingsystemTypeCodesystem: exit(fhir4_types.NamingsystemTypeCodesystem);
    fhir3_types.NamingsystemTypeIdentifier: exit(fhir4_types.NamingsystemTypeIdentifier);
    fhir3_types.NamingsystemTypeRoot: exit(fhir4_types.NamingsystemTypeRoot);
    else exit(fhir4_types.NamingsystemTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertNamingSystemType4(src : fhir4_types.TFhirNamingsystemTypeEnum) : fhir3_types.TFhirNamingsystemTypeEnum;
begin
  case (src) of
    fhir4_types.NamingsystemTypeCodesystem: exit(fhir3_types.NamingsystemTypeCodesystem);
    fhir4_types.NamingsystemTypeIdentifier: exit(fhir3_types.NamingsystemTypeIdentifier);
    fhir4_types.NamingsystemTypeRoot: exit(fhir3_types.NamingsystemTypeRoot);
    else exit(fhir3_types.NamingsystemTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertNamingSystemIdentifierType3(src : fhir3_types.TFhirNamingsystemIdentifierTypeEnum) : fhir4_types.TFhirNamingsystemIdentifierTypeEnum;
begin
  case (src) of
    fhir3_types.NamingsystemIdentifierTypeOid: exit(fhir4_types.NamingsystemIdentifierTypeOid);
    fhir3_types.NamingsystemIdentifierTypeUuid: exit(fhir4_types.NamingsystemIdentifierTypeUuid);
    fhir3_types.NamingsystemIdentifierTypeUri: exit(fhir4_types.NamingsystemIdentifierTypeUri);
    fhir3_types.NamingsystemIdentifierTypeOther: exit(fhir4_types.NamingsystemIdentifierTypeOther);
    else exit(fhir4_types.NamingsystemIdentifierTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertNamingSystemIdentifierType4(src : fhir4_types.TFhirNamingsystemIdentifierTypeEnum) : fhir3_types.TFhirNamingsystemIdentifierTypeEnum;
begin
  case (src) of
    fhir4_types.NamingsystemIdentifierTypeOid: exit(fhir3_types.NamingsystemIdentifierTypeOid);
    fhir4_types.NamingsystemIdentifierTypeUuid: exit(fhir3_types.NamingsystemIdentifierTypeUuid);
    fhir4_types.NamingsystemIdentifierTypeUri: exit(fhir3_types.NamingsystemIdentifierTypeUri);
    fhir4_types.NamingsystemIdentifierTypeOther: exit(fhir3_types.NamingsystemIdentifierTypeOther);
    else exit(fhir3_types.NamingsystemIdentifierTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertObservationStatus3(src : fhir3_types.TFhirObservationStatusEnum) : fhir4_types.TFhirObservationStatusEnum;
begin
  case (src) of
    fhir3_types.ObservationStatusRegistered: exit(fhir4_types.ObservationStatusRegistered);
    fhir3_types.ObservationStatusPreliminary: exit(fhir4_types.ObservationStatusPreliminary);
    fhir3_types.ObservationStatusFinal: exit(fhir4_types.ObservationStatusFinal);
    fhir3_types.ObservationStatusAmended: exit(fhir4_types.ObservationStatusAmended);
    fhir3_types.ObservationStatusCorrected: exit(fhir4_types.ObservationStatusCorrected);
    fhir3_types.ObservationStatusCancelled: exit(fhir4_types.ObservationStatusCancelled);
    fhir3_types.ObservationStatusEnteredInError: exit(fhir4_types.ObservationStatusEnteredInError);
    fhir3_types.ObservationStatusUnknown: exit(fhir4_types.ObservationStatusUnknown);
    else exit(fhir4_types.ObservationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertObservationStatus4(src : fhir4_types.TFhirObservationStatusEnum) : fhir3_types.TFhirObservationStatusEnum;
begin
  case (src) of
    fhir4_types.ObservationStatusRegistered: exit(fhir3_types.ObservationStatusRegistered);
    fhir4_types.ObservationStatusPreliminary: exit(fhir3_types.ObservationStatusPreliminary);
    fhir4_types.ObservationStatusFinal: exit(fhir3_types.ObservationStatusFinal);
    fhir4_types.ObservationStatusAmended: exit(fhir3_types.ObservationStatusAmended);
    fhir4_types.ObservationStatusCorrected: exit(fhir3_types.ObservationStatusCorrected);
    fhir4_types.ObservationStatusCancelled: exit(fhir3_types.ObservationStatusCancelled);
    fhir4_types.ObservationStatusEnteredInError: exit(fhir3_types.ObservationStatusEnteredInError);
    fhir4_types.ObservationStatusUnknown: exit(fhir3_types.ObservationStatusUnknown);
    else exit(fhir3_types.ObservationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertOperationKind3(src : fhir3_types.TFhirOperationKindEnum) : fhir4_types.TFhirOperationKindEnum;
begin
  case (src) of
    fhir3_types.OperationKindOperation: exit(fhir4_types.OperationKindOperation);
    fhir3_types.OperationKindQuery: exit(fhir4_types.OperationKindQuery);
    else exit(fhir4_types.OperationKindNull);
  end;
end;

class function TVersionConvertor_30_40.convertOperationKind4(src : fhir4_types.TFhirOperationKindEnum) : fhir3_types.TFhirOperationKindEnum;
begin
  case (src) of
    fhir4_types.OperationKindOperation: exit(fhir3_types.OperationKindOperation);
    fhir4_types.OperationKindQuery: exit(fhir3_types.OperationKindQuery);
    else exit(fhir3_types.OperationKindNull);
  end;
end;

class function TVersionConvertor_30_40.convertOperationParameterUse3(src : fhir3_types.TFhirOperationParameterUseEnum) : fhir4_types.TFhirOperationParameterUseEnum;
begin
  case (src) of
    fhir3_types.OperationParameterUseIn: exit(fhir4_types.OperationParameterUseIn);
    fhir3_types.OperationParameterUseOut: exit(fhir4_types.OperationParameterUseOut);
    else exit(fhir4_types.OperationParameterUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertOperationParameterUse4(src : fhir4_types.TFhirOperationParameterUseEnum) : fhir3_types.TFhirOperationParameterUseEnum;
begin
  case (src) of
    fhir4_types.OperationParameterUseIn: exit(fhir3_types.OperationParameterUseIn);
    fhir4_types.OperationParameterUseOut: exit(fhir3_types.OperationParameterUseOut);
    else exit(fhir3_types.OperationParameterUseNull);
  end;
end;

class function TVersionConvertor_30_40.convertIssueSeverity3(src : fhir3_types.TFhirIssueSeverityEnum) : fhir4_types.TFhirIssueSeverityEnum;
begin
  case (src) of
    fhir3_types.IssueSeverityFatal: exit(fhir4_types.IssueSeverityFatal);
    fhir3_types.IssueSeverityError: exit(fhir4_types.IssueSeverityError);
    fhir3_types.IssueSeverityWarning: exit(fhir4_types.IssueSeverityWarning);
    fhir3_types.IssueSeverityInformation: exit(fhir4_types.IssueSeverityInformation);
    else exit(fhir4_types.IssueSeverityNull);
  end;
end;

class function TVersionConvertor_30_40.convertIssueSeverity4(src : fhir4_types.TFhirIssueSeverityEnum) : fhir3_types.TFhirIssueSeverityEnum;
begin
  case (src) of
    fhir4_types.IssueSeverityFatal: exit(fhir3_types.IssueSeverityFatal);
    fhir4_types.IssueSeverityError: exit(fhir3_types.IssueSeverityError);
    fhir4_types.IssueSeverityWarning: exit(fhir3_types.IssueSeverityWarning);
    fhir4_types.IssueSeverityInformation: exit(fhir3_types.IssueSeverityInformation);
    else exit(fhir3_types.IssueSeverityNull);
  end;
end;

class function TVersionConvertor_30_40.convertIssueType3(src : fhir3_types.TFhirIssueTypeEnum) : fhir4_types.TFhirIssueTypeEnum;
begin
  case (src) of
    fhir3_types.IssueTypeInvalid: exit(fhir4_types.IssueTypeInvalid);
    fhir3_types.IssueTypeStructure: exit(fhir4_types.IssueTypeStructure);
    fhir3_types.IssueTypeRequired: exit(fhir4_types.IssueTypeRequired);
    fhir3_types.IssueTypeValue: exit(fhir4_types.IssueTypeValue);
    fhir3_types.IssueTypeInvariant: exit(fhir4_types.IssueTypeInvariant);
    fhir3_types.IssueTypeSecurity: exit(fhir4_types.IssueTypeSecurity);
    fhir3_types.IssueTypeLogin: exit(fhir4_types.IssueTypeLogin);
    fhir3_types.IssueTypeUnknown: exit(fhir4_types.IssueTypeUnknown);
    fhir3_types.IssueTypeExpired: exit(fhir4_types.IssueTypeExpired);
    fhir3_types.IssueTypeForbidden: exit(fhir4_types.IssueTypeForbidden);
    fhir3_types.IssueTypeSuppressed: exit(fhir4_types.IssueTypeSuppressed);
    fhir3_types.IssueTypeProcessing: exit(fhir4_types.IssueTypeProcessing);
    fhir3_types.IssueTypeNotSupported: exit(fhir4_types.IssueTypeNotSupported);
    fhir3_types.IssueTypeDuplicate: exit(fhir4_types.IssueTypeDuplicate);
    fhir3_types.IssueTypeNotFound: exit(fhir4_types.IssueTypeNotFound);
    fhir3_types.IssueTypeTooLong: exit(fhir4_types.IssueTypeTooLong);
    fhir3_types.IssueTypeCodeInvalid: exit(fhir4_types.IssueTypeCodeInvalid);
    fhir3_types.IssueTypeExtension: exit(fhir4_types.IssueTypeExtension);
    fhir3_types.IssueTypeTooCostly: exit(fhir4_types.IssueTypeTooCostly);
    fhir3_types.IssueTypeBusinessRule: exit(fhir4_types.IssueTypeBusinessRule);
    fhir3_types.IssueTypeConflict: exit(fhir4_types.IssueTypeConflict);
    fhir3_types.IssueTypeIncomplete: exit(fhir4_types.IssueTypeIncomplete);
    fhir3_types.IssueTypeTransient: exit(fhir4_types.IssueTypeTransient);
    fhir3_types.IssueTypeLockError: exit(fhir4_types.IssueTypeLockError);
    fhir3_types.IssueTypeNoStore: exit(fhir4_types.IssueTypeNoStore);
    fhir3_types.IssueTypeException: exit(fhir4_types.IssueTypeException);
    fhir3_types.IssueTypeTimeout: exit(fhir4_types.IssueTypeTimeout);
    fhir3_types.IssueTypeThrottled: exit(fhir4_types.IssueTypeThrottled);
    fhir3_types.IssueTypeInformational: exit(fhir4_types.IssueTypeInformational);
    else exit(fhir4_types.IssueTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertIssueType4(src : fhir4_types.TFhirIssueTypeEnum) : fhir3_types.TFhirIssueTypeEnum;
begin
  case (src) of
    fhir4_types.IssueTypeInvalid: exit(fhir3_types.IssueTypeInvalid);
    fhir4_types.IssueTypeStructure: exit(fhir3_types.IssueTypeStructure);
    fhir4_types.IssueTypeRequired: exit(fhir3_types.IssueTypeRequired);
    fhir4_types.IssueTypeValue: exit(fhir3_types.IssueTypeValue);
    fhir4_types.IssueTypeInvariant: exit(fhir3_types.IssueTypeInvariant);
    fhir4_types.IssueTypeSecurity: exit(fhir3_types.IssueTypeSecurity);
    fhir4_types.IssueTypeLogin: exit(fhir3_types.IssueTypeLogin);
    fhir4_types.IssueTypeUnknown: exit(fhir3_types.IssueTypeUnknown);
    fhir4_types.IssueTypeExpired: exit(fhir3_types.IssueTypeExpired);
    fhir4_types.IssueTypeForbidden: exit(fhir3_types.IssueTypeForbidden);
    fhir4_types.IssueTypeSuppressed: exit(fhir3_types.IssueTypeSuppressed);
    fhir4_types.IssueTypeProcessing: exit(fhir3_types.IssueTypeProcessing);
    fhir4_types.IssueTypeNotSupported: exit(fhir3_types.IssueTypeNotSupported);
    fhir4_types.IssueTypeDuplicate: exit(fhir3_types.IssueTypeDuplicate);
    fhir4_types.IssueTypeNotFound: exit(fhir3_types.IssueTypeNotFound);
    fhir4_types.IssueTypeTooLong: exit(fhir3_types.IssueTypeTooLong);
    fhir4_types.IssueTypeCodeInvalid: exit(fhir3_types.IssueTypeCodeInvalid);
    fhir4_types.IssueTypeExtension: exit(fhir3_types.IssueTypeExtension);
    fhir4_types.IssueTypeTooCostly: exit(fhir3_types.IssueTypeTooCostly);
    fhir4_types.IssueTypeBusinessRule: exit(fhir3_types.IssueTypeBusinessRule);
    fhir4_types.IssueTypeConflict: exit(fhir3_types.IssueTypeConflict);
    fhir4_types.IssueTypeIncomplete: exit(fhir3_types.IssueTypeIncomplete);
    fhir4_types.IssueTypeTransient: exit(fhir3_types.IssueTypeTransient);
    fhir4_types.IssueTypeLockError: exit(fhir3_types.IssueTypeLockError);
    fhir4_types.IssueTypeNoStore: exit(fhir3_types.IssueTypeNoStore);
    fhir4_types.IssueTypeException: exit(fhir3_types.IssueTypeException);
    fhir4_types.IssueTypeTimeout: exit(fhir3_types.IssueTypeTimeout);
    fhir4_types.IssueTypeThrottled: exit(fhir3_types.IssueTypeThrottled);
    fhir4_types.IssueTypeInformational: exit(fhir3_types.IssueTypeInformational);
    else exit(fhir3_types.IssueTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertLinkType3(src : fhir3_types.TFhirLinkTypeEnum) : fhir4_types.TFhirLinkTypeEnum;
begin
  case (src) of
    fhir3_types.LinkTypeReplacedBy: exit(fhir4_types.LinkTypeReplacedBy);
    fhir3_types.LinkTypeReplaces: exit(fhir4_types.LinkTypeReplaces);
    fhir3_types.LinkTypeRefer: exit(fhir4_types.LinkTypeRefer);
    fhir3_types.LinkTypeSeealso: exit(fhir4_types.LinkTypeSeealso);
    else exit(fhir4_types.LinkTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertLinkType4(src : fhir4_types.TFhirLinkTypeEnum) : fhir3_types.TFhirLinkTypeEnum;
begin
  case (src) of
    fhir4_types.LinkTypeReplacedBy: exit(fhir3_types.LinkTypeReplacedBy);
    fhir4_types.LinkTypeReplaces: exit(fhir3_types.LinkTypeReplaces);
    fhir4_types.LinkTypeRefer: exit(fhir3_types.LinkTypeRefer);
    fhir4_types.LinkTypeSeealso: exit(fhir3_types.LinkTypeSeealso);
    else exit(fhir3_types.LinkTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertPaymentNoticeStatus3(src : fhir3_types.TFhirFmStatusEnum) : fhir4_types.TFhirFmStatusEnum;
begin
  case (src) of
    fhir3_types.FmStatusActive: exit(fhir4_types.FmStatusActive);
    fhir3_types.FmStatusCancelled: exit(fhir4_types.FmStatusCancelled);
    fhir3_types.FmStatusDraft: exit(fhir4_types.FmStatusDraft);
    fhir3_types.FmStatusEnteredInError: exit(fhir4_types.FmStatusEnteredInError);
    else exit(fhir4_types.FmStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertPaymentNoticeStatus4(src : fhir4_types.TFhirFmStatusEnum) : fhir3_types.TFhirFmStatusEnum;
begin
  case (src) of
    fhir4_types.FmStatusActive: exit(fhir3_types.FmStatusActive);
    fhir4_types.FmStatusCancelled: exit(fhir3_types.FmStatusCancelled);
    fhir4_types.FmStatusDraft: exit(fhir3_types.FmStatusDraft);
    fhir4_types.FmStatusEnteredInError: exit(fhir3_types.FmStatusEnteredInError);
    else exit(fhir3_types.FmStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertIdentityAssuranceLevel3(src : fhir3_types.TFhirIdentityAssuranceLevelEnum) : fhir4_types.TFhirIdentityAssuranceLevelEnum;
begin
  case (src) of
    fhir3_types.IdentityAssuranceLevelLevel1: exit(fhir4_types.IdentityAssuranceLevelLevel1);
    fhir3_types.IdentityAssuranceLevelLevel2: exit(fhir4_types.IdentityAssuranceLevelLevel2);
    fhir3_types.IdentityAssuranceLevelLevel3: exit(fhir4_types.IdentityAssuranceLevelLevel3);
    fhir3_types.IdentityAssuranceLevelLevel4: exit(fhir4_types.IdentityAssuranceLevelLevel4);
    else exit(fhir4_types.IdentityAssuranceLevelNull);
  end;
end;

class function TVersionConvertor_30_40.convertIdentityAssuranceLevel4(src : fhir4_types.TFhirIdentityAssuranceLevelEnum) : fhir3_types.TFhirIdentityAssuranceLevelEnum;
begin
  case (src) of
    fhir4_types.IdentityAssuranceLevelLevel1: exit(fhir3_types.IdentityAssuranceLevelLevel1);
    fhir4_types.IdentityAssuranceLevelLevel2: exit(fhir3_types.IdentityAssuranceLevelLevel2);
    fhir4_types.IdentityAssuranceLevelLevel3: exit(fhir3_types.IdentityAssuranceLevelLevel3);
    fhir4_types.IdentityAssuranceLevelLevel4: exit(fhir3_types.IdentityAssuranceLevelLevel4);
    else exit(fhir3_types.IdentityAssuranceLevelNull);
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireItemType3(src : fhir3_types.TFhirItemTypeEnum) : fhir4_types.TFhirItemTypeEnum;
begin
  case (src) of
    fhir3_types.ItemTypeGroup: exit(fhir4_types.ItemTypeGroup);
    fhir3_types.ItemTypeDisplay: exit(fhir4_types.ItemTypeDisplay);
    fhir3_types.ItemTypeBoolean: exit(fhir4_types.ItemTypeBoolean);
    fhir3_types.ItemTypeDecimal: exit(fhir4_types.ItemTypeDecimal);
    fhir3_types.ItemTypeInteger: exit(fhir4_types.ItemTypeInteger);
    fhir3_types.ItemTypeDate: exit(fhir4_types.ItemTypeDate);
    fhir3_types.ItemTypeDateTime: exit(fhir4_types.ItemTypeDateTime);
    fhir3_types.ItemTypeTime: exit(fhir4_types.ItemTypeTime);
    fhir3_types.ItemTypeString: exit(fhir4_types.ItemTypeString);
    fhir3_types.ItemTypeText: exit(fhir4_types.ItemTypeText);
    fhir3_types.ItemTypeUrl: exit(fhir4_types.ItemTypeUrl);
    fhir3_types.ItemTypeChoice: exit(fhir4_types.ItemTypeChoice);
    fhir3_types.ItemTypeOpenChoice: exit(fhir4_types.ItemTypeOpenChoice);
    fhir3_types.ItemTypeAttachment: exit(fhir4_types.ItemTypeAttachment);
    fhir3_types.ItemTypeReference: exit(fhir4_types.ItemTypeReference);
    fhir3_types.ItemTypeQuantity: exit(fhir4_types.ItemTypeQuantity);
    else exit(fhir4_types.ItemTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireItemType4(src : fhir4_types.TFhirItemTypeEnum) : fhir3_types.TFhirItemTypeEnum;
begin
  case (src) of
    fhir4_types.ItemTypeGroup: exit(fhir3_types.ItemTypeGroup);
    fhir4_types.ItemTypeDisplay: exit(fhir3_types.ItemTypeDisplay);
    fhir4_types.ItemTypeBoolean: exit(fhir3_types.ItemTypeBoolean);
    fhir4_types.ItemTypeDecimal: exit(fhir3_types.ItemTypeDecimal);
    fhir4_types.ItemTypeInteger: exit(fhir3_types.ItemTypeInteger);
    fhir4_types.ItemTypeDate: exit(fhir3_types.ItemTypeDate);
    fhir4_types.ItemTypeDateTime: exit(fhir3_types.ItemTypeDateTime);
    fhir4_types.ItemTypeTime: exit(fhir3_types.ItemTypeTime);
    fhir4_types.ItemTypeString: exit(fhir3_types.ItemTypeString);
    fhir4_types.ItemTypeText: exit(fhir3_types.ItemTypeText);
    fhir4_types.ItemTypeUrl: exit(fhir3_types.ItemTypeUrl);
    fhir4_types.ItemTypeChoice: exit(fhir3_types.ItemTypeChoice);
    fhir4_types.ItemTypeOpenChoice: exit(fhir3_types.ItemTypeOpenChoice);
    fhir4_types.ItemTypeAttachment: exit(fhir3_types.ItemTypeAttachment);
    fhir4_types.ItemTypeReference: exit(fhir3_types.ItemTypeReference);
    fhir4_types.ItemTypeQuantity: exit(fhir3_types.ItemTypeQuantity);
    else exit(fhir3_types.ItemTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireResponseStatus3(src : fhir3_types.TFhirQuestionnaireAnswersStatusEnum) : fhir4_types.TFhirQuestionnaireAnswersStatusEnum;
begin
  case (src) of
    fhir3_types.QuestionnaireAnswersStatusInProgress: exit(fhir4_types.QuestionnaireAnswersStatusInProgress);
    fhir3_types.QuestionnaireAnswersStatusCompleted: exit(fhir4_types.QuestionnaireAnswersStatusCompleted);
    fhir3_types.QuestionnaireAnswersStatusAmended: exit(fhir4_types.QuestionnaireAnswersStatusAmended);
    fhir3_types.QuestionnaireAnswersStatusEnteredInError: exit(fhir4_types.QuestionnaireAnswersStatusEnteredInError);
    fhir3_types.QuestionnaireAnswersStatusStopped: exit(fhir4_types.QuestionnaireAnswersStatusStopped);
    else exit(fhir4_types.QuestionnaireAnswersStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireResponseStatus4(src : fhir4_types.TFhirQuestionnaireAnswersStatusEnum) : fhir3_types.TFhirQuestionnaireAnswersStatusEnum;
begin
  case (src) of
    fhir4_types.QuestionnaireAnswersStatusInProgress: exit(fhir3_types.QuestionnaireAnswersStatusInProgress);
    fhir4_types.QuestionnaireAnswersStatusCompleted: exit(fhir3_types.QuestionnaireAnswersStatusCompleted);
    fhir4_types.QuestionnaireAnswersStatusAmended: exit(fhir3_types.QuestionnaireAnswersStatusAmended);
    fhir4_types.QuestionnaireAnswersStatusEnteredInError: exit(fhir3_types.QuestionnaireAnswersStatusEnteredInError);
    fhir4_types.QuestionnaireAnswersStatusStopped: exit(fhir3_types.QuestionnaireAnswersStatusStopped);
    else exit(fhir3_types.QuestionnaireAnswersStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertRiskAssessmentStatus3(src : fhir3_types.TFhirObservationStatusEnum) : fhir4_types.TFhirObservationStatusEnum;
begin
  case (src) of
    fhir3_types.ObservationStatusRegistered: exit(fhir4_types.ObservationStatusRegistered);
    fhir3_types.ObservationStatusPreliminary: exit(fhir4_types.ObservationStatusPreliminary);
    fhir3_types.ObservationStatusFinal: exit(fhir4_types.ObservationStatusFinal);
    fhir3_types.ObservationStatusAmended: exit(fhir4_types.ObservationStatusAmended);
    fhir3_types.ObservationStatusCorrected: exit(fhir4_types.ObservationStatusCorrected);
    fhir3_types.ObservationStatusCancelled: exit(fhir4_types.ObservationStatusCancelled);
    fhir3_types.ObservationStatusEnteredInError: exit(fhir4_types.ObservationStatusEnteredInError);
    fhir3_types.ObservationStatusUnknown: exit(fhir4_types.ObservationStatusUnknown);
    else exit(fhir4_types.ObservationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertRiskAssessmentStatus4(src : fhir4_types.TFhirObservationStatusEnum) : fhir3_types.TFhirObservationStatusEnum;
begin
  case (src) of
    fhir4_types.ObservationStatusRegistered: exit(fhir3_types.ObservationStatusRegistered);
    fhir4_types.ObservationStatusPreliminary: exit(fhir3_types.ObservationStatusPreliminary);
    fhir4_types.ObservationStatusFinal: exit(fhir3_types.ObservationStatusFinal);
    fhir4_types.ObservationStatusAmended: exit(fhir3_types.ObservationStatusAmended);
    fhir4_types.ObservationStatusCorrected: exit(fhir3_types.ObservationStatusCorrected);
    fhir4_types.ObservationStatusCancelled: exit(fhir3_types.ObservationStatusCancelled);
    fhir4_types.ObservationStatusEnteredInError: exit(fhir3_types.ObservationStatusEnteredInError);
    fhir4_types.ObservationStatusUnknown: exit(fhir3_types.ObservationStatusUnknown);
    else exit(fhir3_types.ObservationStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertXPathUsageType3(src : fhir3_types.TFhirSearchXpathUsageEnum) : fhir4_types.TFhirSearchXpathUsageEnum;
begin
  case (src) of
    fhir3_types.SearchXpathUsageNormal: exit(fhir4_types.SearchXpathUsageNormal);
    fhir3_types.SearchXpathUsagePhonetic: exit(fhir4_types.SearchXpathUsagePhonetic);
    fhir3_types.SearchXpathUsageNearby: exit(fhir4_types.SearchXpathUsageNearby);
    fhir3_types.SearchXpathUsageDistance: exit(fhir4_types.SearchXpathUsageDistance);
    fhir3_types.SearchXpathUsageOther: exit(fhir4_types.SearchXpathUsageOther);
    else exit(fhir4_types.SearchXpathUsageNull);
  end;
end;

class function TVersionConvertor_30_40.convertXPathUsageType4(src : fhir4_types.TFhirSearchXpathUsageEnum) : fhir3_types.TFhirSearchXpathUsageEnum;
begin
  case (src) of
    fhir4_types.SearchXpathUsageNormal: exit(fhir3_types.SearchXpathUsageNormal);
    fhir4_types.SearchXpathUsagePhonetic: exit(fhir3_types.SearchXpathUsagePhonetic);
    fhir4_types.SearchXpathUsageNearby: exit(fhir3_types.SearchXpathUsageNearby);
    fhir4_types.SearchXpathUsageDistance: exit(fhir3_types.SearchXpathUsageDistance);
    fhir4_types.SearchXpathUsageOther: exit(fhir3_types.SearchXpathUsageOther);
    else exit(fhir3_types.SearchXpathUsageNull);
  end;
end;

//class function TVersionConvertor_30_40.convertSearchComparator3(src : fhir3_types.TFhirSearchComparatorEnum) : fhir4_types.TFhirSearchComparatorEnum;
//begin
//  case (src) of
//    fhir3_types.SearchComparatorEq: exit(fhir4_types.SearchComparatorEq);
//    fhir3_types.SearchComparatorNe: exit(fhir4_types.SearchComparatorNe);
//    fhir3_types.SearchComparatorGt: exit(fhir4_types.SearchComparatorGt);
//    fhir3_types.SearchComparatorLt: exit(fhir4_types.SearchComparatorLt);
//    fhir3_types.SearchComparatorGe: exit(fhir4_types.SearchComparatorGe);
//    fhir3_types.SearchComparatorLe: exit(fhir4_types.SearchComparatorLe);
//    fhir3_types.SearchComparatorSa: exit(fhir4_types.SearchComparatorSa);
//    fhir3_types.SearchComparatorEb: exit(fhir4_types.SearchComparatorEb);
//    fhir3_types.SearchComparatorAp: exit(fhir4_types.SearchComparatorAp);
//    else exit(fhir4_types.SearchComparatorNull);
//  end;
//end;
//
//class function TVersionConvertor_30_40.convertSearchComparator4(src : fhir4_types.TFhirSearchComparatorEnum) : fhir3_types.TFhirSearchComparatorEnum;
//begin
//  case (src) of
//    fhir4_types.SearchComparatorEq: exit(fhir3_types.SearchComparatorEq);
//    fhir4_types.SearchComparatorNe: exit(fhir3_types.SearchComparatorNe);
//    fhir4_types.SearchComparatorGt: exit(fhir3_types.SearchComparatorGt);
//    fhir4_types.SearchComparatorLt: exit(fhir3_types.SearchComparatorLt);
//    fhir4_types.SearchComparatorGe: exit(fhir3_types.SearchComparatorGe);
//    fhir4_types.SearchComparatorLe: exit(fhir3_types.SearchComparatorLe);
//    fhir4_types.SearchComparatorSa: exit(fhir3_types.SearchComparatorSa);
//    fhir4_types.SearchComparatorEb: exit(fhir3_types.SearchComparatorEb);
//    fhir4_types.SearchComparatorAp: exit(fhir3_types.SearchComparatorAp);
//    else exit(fhir3_types.SearchComparatorNull);
//  end;
//end;
//
//class function TVersionConvertor_30_40.convertSearchModifierCode3(src : fhir3_types.TFhirSearchModifierCodeEnum) : fhir4_types.TFhirSearchModifierCodeEnum;
//begin
//  case (src) of
//    fhir3_types.SearchModifierCodeMissing: exit(fhir4_types.SearchModifierCodeMissing);
//    fhir3_types.SearchModifierCodeExact: exit(fhir4_types.SearchModifierCodeExact);
//    fhir3_types.SearchModifierCodeContains: exit(fhir4_types.SearchModifierCodeContains);
//    fhir3_types.SearchModifierCodeNot: exit(fhir4_types.SearchModifierCodeNot);
//    fhir3_types.SearchModifierCodeText: exit(fhir4_types.SearchModifierCodeText);
//    fhir3_types.SearchModifierCodeIn: exit(fhir4_types.SearchModifierCodeIn);
//    fhir3_types.SearchModifierCodeNotIn: exit(fhir4_types.SearchModifierCodeNotIn);
//    fhir3_types.SearchModifierCodeBelow: exit(fhir4_types.SearchModifierCodeBelow);
//    fhir3_types.SearchModifierCodeAbove: exit(fhir4_types.SearchModifierCodeAbove);
//    fhir3_types.SearchModifierCodeType: exit(fhir4_types.SearchModifierCodeType);
//    else exit(fhir4_types.SearchModifierCodeNull);
//  end;
//end;
//
//class function TVersionConvertor_30_40.convertSearchModifierCode4(src : fhir4_types.TFhirSearchModifierCodeEnum) : fhir3_types.TFhirSearchModifierCodeEnum;
//begin
//  case (src) of
//    fhir4_types.SearchModifierCodeMissing: exit(fhir3_types.SearchModifierCodeMissing);
//    fhir4_types.SearchModifierCodeExact: exit(fhir3_types.SearchModifierCodeExact);
//    fhir4_types.SearchModifierCodeContains: exit(fhir3_types.SearchModifierCodeContains);
//    fhir4_types.SearchModifierCodeNot: exit(fhir3_types.SearchModifierCodeNot);
//    fhir4_types.SearchModifierCodeText: exit(fhir3_types.SearchModifierCodeText);
//    fhir4_types.SearchModifierCodeIn: exit(fhir3_types.SearchModifierCodeIn);
//    fhir4_types.SearchModifierCodeNotIn: exit(fhir3_types.SearchModifierCodeNotIn);
//    fhir4_types.SearchModifierCodeBelow: exit(fhir3_types.SearchModifierCodeBelow);
//    fhir4_types.SearchModifierCodeAbove: exit(fhir3_types.SearchModifierCodeAbove);
//    fhir4_types.SearchModifierCodeType: exit(fhir3_types.SearchModifierCodeType);
//    else exit(fhir3_types.SearchModifierCodeNull);
//  end;
//end;

class function TVersionConvertor_30_40.convertQualityType3(src : fhir3_types.TFhirQualityTypeEnum) : fhir4_types.TFhirQualityTypeEnum;
begin
  case (src) of
    fhir3_types.QualityTypeIndel: exit(fhir4_types.QualityTypeIndel);
    fhir3_types.QualityTypeSnp: exit(fhir4_types.QualityTypeSnp);
    fhir3_types.QualityTypeUnknown: exit(fhir4_types.QualityTypeUnknown);
    else exit(fhir4_types.QualityTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertQualityType4(src : fhir4_types.TFhirQualityTypeEnum) : fhir3_types.TFhirQualityTypeEnum;
begin
  case (src) of
    fhir4_types.QualityTypeIndel: exit(fhir3_types.QualityTypeIndel);
    fhir4_types.QualityTypeSnp: exit(fhir3_types.QualityTypeSnp);
    fhir4_types.QualityTypeUnknown: exit(fhir3_types.QualityTypeUnknown);
    else exit(fhir3_types.QualityTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertRepositoryType3(src : fhir3_types.TFhirRepositoryTypeEnum) : fhir4_types.TFhirRepositoryTypeEnum;
begin
  case (src) of
    fhir3_types.RepositoryTypeDirectlink: exit(fhir4_types.RepositoryTypeDirectlink);
    fhir3_types.RepositoryTypeOpenapi: exit(fhir4_types.RepositoryTypeOpenapi);
    fhir3_types.RepositoryTypeLogin: exit(fhir4_types.RepositoryTypeLogin);
    fhir3_types.RepositoryTypeOauth: exit(fhir4_types.RepositoryTypeOauth);
    fhir3_types.RepositoryTypeOther: exit(fhir4_types.RepositoryTypeOther);
    else exit(fhir4_types.RepositoryTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertRepositoryType4(src : fhir4_types.TFhirRepositoryTypeEnum) : fhir3_types.TFhirRepositoryTypeEnum;
begin
  case (src) of
    fhir4_types.RepositoryTypeDirectlink: exit(fhir3_types.RepositoryTypeDirectlink);
    fhir4_types.RepositoryTypeOpenapi: exit(fhir3_types.RepositoryTypeOpenapi);
    fhir4_types.RepositoryTypeLogin: exit(fhir3_types.RepositoryTypeLogin);
    fhir4_types.RepositoryTypeOauth: exit(fhir3_types.RepositoryTypeOauth);
    fhir4_types.RepositoryTypeOther: exit(fhir3_types.RepositoryTypeOther);
    else exit(fhir3_types.RepositoryTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertSlotStatus3(src : fhir3_types.TFhirSlotstatusEnum) : fhir4_types.TFhirSlotstatusEnum;
begin
  case (src) of
    fhir3_types.SlotstatusBusy: exit(fhir4_types.SlotstatusBusy);
    fhir3_types.SlotstatusFree: exit(fhir4_types.SlotstatusFree);
    fhir3_types.SlotstatusBusyUnavailable: exit(fhir4_types.SlotstatusBusyUnavailable);
    fhir3_types.SlotstatusBusyTentative: exit(fhir4_types.SlotstatusBusyTentative);
    fhir3_types.SlotstatusEnteredInError: exit(fhir4_types.SlotstatusEnteredInError);
    else exit(fhir4_types.SlotstatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertSlotStatus4(src : fhir4_types.TFhirSlotstatusEnum) : fhir3_types.TFhirSlotstatusEnum;
begin
  case (src) of
    fhir4_types.SlotstatusBusy: exit(fhir3_types.SlotstatusBusy);
    fhir4_types.SlotstatusFree: exit(fhir3_types.SlotstatusFree);
    fhir4_types.SlotstatusBusyUnavailable: exit(fhir3_types.SlotstatusBusyUnavailable);
    fhir4_types.SlotstatusBusyTentative: exit(fhir3_types.SlotstatusBusyTentative);
    fhir4_types.SlotstatusEnteredInError: exit(fhir3_types.SlotstatusEnteredInError);
    else exit(fhir3_types.SlotstatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertSpecimenStatus3(src : fhir3_types.TFhirSpecimenStatusEnum) : fhir4_types.TFhirSpecimenStatusEnum;
begin
  case (src) of
    fhir3_types.SpecimenStatusAvailable: exit(fhir4_types.SpecimenStatusAvailable);
    fhir3_types.SpecimenStatusUnavailable: exit(fhir4_types.SpecimenStatusUnavailable);
    fhir3_types.SpecimenStatusUnsatisfactory: exit(fhir4_types.SpecimenStatusUnsatisfactory);
    fhir3_types.SpecimenStatusEnteredInError: exit(fhir4_types.SpecimenStatusEnteredInError);
    else exit(fhir4_types.SpecimenStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertSpecimenStatus4(src : fhir4_types.TFhirSpecimenStatusEnum) : fhir3_types.TFhirSpecimenStatusEnum;
begin
  case (src) of
    fhir4_types.SpecimenStatusAvailable: exit(fhir3_types.SpecimenStatusAvailable);
    fhir4_types.SpecimenStatusUnavailable: exit(fhir3_types.SpecimenStatusUnavailable);
    fhir4_types.SpecimenStatusUnsatisfactory: exit(fhir3_types.SpecimenStatusUnsatisfactory);
    fhir4_types.SpecimenStatusEnteredInError: exit(fhir3_types.SpecimenStatusEnteredInError);
    else exit(fhir3_types.SpecimenStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureDefinitionKind3(src : fhir3_types.TFhirStructureDefinitionKindEnum) : fhir4_types.TFhirStructureDefinitionKindEnum;
begin
  case (src) of
    fhir3_types.StructureDefinitionKindPrimitiveType: exit(fhir4_types.StructureDefinitionKindPrimitiveType);
    fhir3_types.StructureDefinitionKindComplexType: exit(fhir4_types.StructureDefinitionKindComplexType);
    fhir3_types.StructureDefinitionKindResource: exit(fhir4_types.StructureDefinitionKindResource);
    fhir3_types.StructureDefinitionKindLogical: exit(fhir4_types.StructureDefinitionKindLogical);
    else exit(fhir4_types.StructureDefinitionKindNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureDefinitionKind4(src : fhir4_types.TFhirStructureDefinitionKindEnum) : fhir3_types.TFhirStructureDefinitionKindEnum;
begin
  case (src) of
    fhir4_types.StructureDefinitionKindPrimitiveType: exit(fhir3_types.StructureDefinitionKindPrimitiveType);
    fhir4_types.StructureDefinitionKindComplexType: exit(fhir3_types.StructureDefinitionKindComplexType);
    fhir4_types.StructureDefinitionKindResource: exit(fhir3_types.StructureDefinitionKindResource);
    fhir4_types.StructureDefinitionKindLogical: exit(fhir3_types.StructureDefinitionKindLogical);
    else exit(fhir3_types.StructureDefinitionKindNull);
  end;
end;

class function TVersionConvertor_30_40.convertExtensionContext3(src : fhir3_types.TFhirExtensionContextEnum) : fhir4_types.TFhirExtensionContextTypeEnum;
begin
  case (src) of
    fhir3_types.ExtensionContextResource: exit(fhir4_types.ExtensionContextTypeFhirpath);
    fhir3_types.ExtensionContextDatatype: exit(fhir4_types.ExtensionContextTypeElement);
    fhir3_types.ExtensionContextExtension: exit(fhir4_types.ExtensionContextTypeExtension);
    else exit(fhir4_types.ExtensionContextTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertExtensionContext4(src : fhir4_types.TFhirExtensionContextTypeEnum) : fhir3_types.TFhirExtensionContextEnum;
begin
  case (src) of
    fhir4_types.ExtensionContextTypeFhirpath: exit(fhir3_types.ExtensionContextResource);
    fhir4_types.ExtensionContextTypeElement: exit(fhir3_types.ExtensionContextDatatype);
    fhir4_types.ExtensionContextTypeExtension: exit(fhir3_types.ExtensionContextExtension);
    else exit(fhir3_types.ExtensionContextNull);
  end;
end;

class function TVersionConvertor_30_40.convertTypeDerivationRule3(src : fhir3_types.TFhirTypeDerivationRuleEnum) : fhir4_types.TFhirTypeDerivationRuleEnum;
begin
  case (src) of
    fhir3_types.TypeDerivationRuleSpecialization: exit(fhir4_types.TypeDerivationRuleSpecialization);
    fhir3_types.TypeDerivationRuleConstraint: exit(fhir4_types.TypeDerivationRuleConstraint);
    else exit(fhir4_types.TypeDerivationRuleNull);
  end;
end;

class function TVersionConvertor_30_40.convertTypeDerivationRule4(src : fhir4_types.TFhirTypeDerivationRuleEnum) : fhir3_types.TFhirTypeDerivationRuleEnum;
begin
  case (src) of
    fhir4_types.TypeDerivationRuleSpecialization: exit(fhir3_types.TypeDerivationRuleSpecialization);
    fhir4_types.TypeDerivationRuleConstraint: exit(fhir3_types.TypeDerivationRuleConstraint);
    else exit(fhir3_types.TypeDerivationRuleNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapModelMode3(src : fhir3_types.TFhirMapModelModeEnum) : fhir4_types.TFhirMapModelModeEnum;
begin
  case (src) of
    fhir3_types.MapModelModeSource: exit(fhir4_types.MapModelModeSource);
    fhir3_types.MapModelModeQueried: exit(fhir4_types.MapModelModeQueried);
    fhir3_types.MapModelModeTarget: exit(fhir4_types.MapModelModeTarget);
    fhir3_types.MapModelModeProduced: exit(fhir4_types.MapModelModeProduced);
    else exit(fhir4_types.MapModelModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapModelMode4(src : fhir4_types.TFhirMapModelModeEnum) : fhir3_types.TFhirMapModelModeEnum;
begin
  case (src) of
    fhir4_types.MapModelModeSource: exit(fhir3_types.MapModelModeSource);
    fhir4_types.MapModelModeQueried: exit(fhir3_types.MapModelModeQueried);
    fhir4_types.MapModelModeTarget: exit(fhir3_types.MapModelModeTarget);
    fhir4_types.MapModelModeProduced: exit(fhir3_types.MapModelModeProduced);
    else exit(fhir3_types.MapModelModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupTypeMode3(src : fhir3_types.TFhirMapGroupTypeModeEnum) : fhir4_types.TFhirMapGroupTypeModeEnum;
begin
  case (src) of
    fhir3_types.MapGroupTypeModeNone: exit(fhir4_types.MapGroupTypeModeNone);
    fhir3_types.MapGroupTypeModeTypes: exit(fhir4_types.MapGroupTypeModeTypes);
    fhir3_types.MapGroupTypeModeTypeAndTypes: exit(fhir4_types.MapGroupTypeModeTypeAndTypes);
    else exit(fhir4_types.MapGroupTypeModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupTypeMode4(src : fhir4_types.TFhirMapGroupTypeModeEnum) : fhir3_types.TFhirMapGroupTypeModeEnum;
begin
  case (src) of
    fhir4_types.MapGroupTypeModeNone: exit(fhir3_types.MapGroupTypeModeNone);
    fhir4_types.MapGroupTypeModeTypes: exit(fhir3_types.MapGroupTypeModeTypes);
    fhir4_types.MapGroupTypeModeTypeAndTypes: exit(fhir3_types.MapGroupTypeModeTypeAndTypes);
    else exit(fhir3_types.MapGroupTypeModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapInputMode3(src : fhir3_types.TFhirMapInputModeEnum) : fhir4_types.TFhirMapInputModeEnum;
begin
  case (src) of
    fhir3_types.MapInputModeSource: exit(fhir4_types.MapInputModeSource);
    fhir3_types.MapInputModeTarget: exit(fhir4_types.MapInputModeTarget);
    else exit(fhir4_types.MapInputModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapInputMode4(src : fhir4_types.TFhirMapInputModeEnum) : fhir3_types.TFhirMapInputModeEnum;
begin
  case (src) of
    fhir4_types.MapInputModeSource: exit(fhir3_types.MapInputModeSource);
    fhir4_types.MapInputModeTarget: exit(fhir3_types.MapInputModeTarget);
    else exit(fhir3_types.MapInputModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapSourceListMode3(src : fhir3_types.TFhirMapSourceListModeEnum) : fhir4_types.TFhirMapSourceListModeEnum;
begin
  case (src) of
    fhir3_types.MapSourceListModeFirst: exit(fhir4_types.MapSourceListModeFirst);
    fhir3_types.MapSourceListModeNotFirst: exit(fhir4_types.MapSourceListModeNotFirst);
    fhir3_types.MapSourceListModeLast: exit(fhir4_types.MapSourceListModeLast);
    fhir3_types.MapSourceListModeNotLast: exit(fhir4_types.MapSourceListModeNotLast);
    fhir3_types.MapSourceListModeOnlyOne: exit(fhir4_types.MapSourceListModeOnlyOne);
    else exit(fhir4_types.MapSourceListModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapSourceListMode4(src : fhir4_types.TFhirMapSourceListModeEnum) : fhir3_types.TFhirMapSourceListModeEnum;
begin
  case (src) of
    fhir4_types.MapSourceListModeFirst: exit(fhir3_types.MapSourceListModeFirst);
    fhir4_types.MapSourceListModeNotFirst: exit(fhir3_types.MapSourceListModeNotFirst);
    fhir4_types.MapSourceListModeLast: exit(fhir3_types.MapSourceListModeLast);
    fhir4_types.MapSourceListModeNotLast: exit(fhir3_types.MapSourceListModeNotLast);
    fhir4_types.MapSourceListModeOnlyOne: exit(fhir3_types.MapSourceListModeOnlyOne);
    else exit(fhir3_types.MapSourceListModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapContextType3(src : fhir3_types.TFhirMapContextTypeEnum) : fhir4_types.TFhirMapContextTypeEnum;
begin
  case (src) of
    fhir3_types.MapContextTypeType: exit(fhir4_types.MapContextTypeType);
    fhir3_types.MapContextTypeVariable: exit(fhir4_types.MapContextTypeVariable);
    else exit(fhir4_types.MapContextTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapContextType4(src : fhir4_types.TFhirMapContextTypeEnum) : fhir3_types.TFhirMapContextTypeEnum;
begin
  case (src) of
    fhir4_types.MapContextTypeType: exit(fhir3_types.MapContextTypeType);
    fhir4_types.MapContextTypeVariable: exit(fhir3_types.MapContextTypeVariable);
    else exit(fhir3_types.MapContextTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapTargetListMode3(src : fhir3_types.TFhirMapTargetListModeEnum) : fhir4_types.TFhirMapTargetListModeEnum;
begin
  case (src) of
    fhir3_types.MapTargetListModeFirst: exit(fhir4_types.MapTargetListModeFirst);
    fhir3_types.MapTargetListModeShare: exit(fhir4_types.MapTargetListModeShare);
    fhir3_types.MapTargetListModeLast: exit(fhir4_types.MapTargetListModeLast);
    fhir3_types.MapTargetListModeCollate: exit(fhir4_types.MapTargetListModeCollate);
    else exit(fhir4_types.MapTargetListModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapTargetListMode4(src : fhir4_types.TFhirMapTargetListModeEnum) : fhir3_types.TFhirMapTargetListModeEnum;
begin
  case (src) of
    fhir4_types.MapTargetListModeFirst: exit(fhir3_types.MapTargetListModeFirst);
    fhir4_types.MapTargetListModeShare: exit(fhir3_types.MapTargetListModeShare);
    fhir4_types.MapTargetListModeLast: exit(fhir3_types.MapTargetListModeLast);
    fhir4_types.MapTargetListModeCollate: exit(fhir3_types.MapTargetListModeCollate);
    else exit(fhir3_types.MapTargetListModeNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapTransform3(src : fhir3_types.TFhirMapTransformEnum) : fhir4_types.TFhirMapTransformEnum;
begin
  case (src) of
    fhir3_types.MapTransformCreate: exit(fhir4_types.MapTransformCreate);
    fhir3_types.MapTransformCopy: exit(fhir4_types.MapTransformCopy);
    fhir3_types.MapTransformTruncate: exit(fhir4_types.MapTransformTruncate);
    fhir3_types.MapTransformEscape: exit(fhir4_types.MapTransformEscape);
    fhir3_types.MapTransformCast: exit(fhir4_types.MapTransformCast);
    fhir3_types.MapTransformAppend: exit(fhir4_types.MapTransformAppend);
    fhir3_types.MapTransformTranslate: exit(fhir4_types.MapTransformTranslate);
    fhir3_types.MapTransformReference: exit(fhir4_types.MapTransformReference);
    fhir3_types.MapTransformDateOp: exit(fhir4_types.MapTransformDateOp);
    fhir3_types.MapTransformUuid: exit(fhir4_types.MapTransformUuid);
    fhir3_types.MapTransformPointer: exit(fhir4_types.MapTransformPointer);
    fhir3_types.MapTransformEvaluate: exit(fhir4_types.MapTransformEvaluate);
    fhir3_types.MapTransformCc: exit(fhir4_types.MapTransformCc);
    fhir3_types.MapTransformC: exit(fhir4_types.MapTransformC);
    fhir3_types.MapTransformQty: exit(fhir4_types.MapTransformQty);
    fhir3_types.MapTransformId: exit(fhir4_types.MapTransformId);
    fhir3_types.MapTransformCp: exit(fhir4_types.MapTransformCp);
    else exit(fhir4_types.MapTransformNull);
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapTransform4(src : fhir4_types.TFhirMapTransformEnum) : fhir3_types.TFhirMapTransformEnum;
begin
  case (src) of
    fhir4_types.MapTransformCreate: exit(fhir3_types.MapTransformCreate);
    fhir4_types.MapTransformCopy: exit(fhir3_types.MapTransformCopy);
    fhir4_types.MapTransformTruncate: exit(fhir3_types.MapTransformTruncate);
    fhir4_types.MapTransformEscape: exit(fhir3_types.MapTransformEscape);
    fhir4_types.MapTransformCast: exit(fhir3_types.MapTransformCast);
    fhir4_types.MapTransformAppend: exit(fhir3_types.MapTransformAppend);
    fhir4_types.MapTransformTranslate: exit(fhir3_types.MapTransformTranslate);
    fhir4_types.MapTransformReference: exit(fhir3_types.MapTransformReference);
    fhir4_types.MapTransformDateOp: exit(fhir3_types.MapTransformDateOp);
    fhir4_types.MapTransformUuid: exit(fhir3_types.MapTransformUuid);
    fhir4_types.MapTransformPointer: exit(fhir3_types.MapTransformPointer);
    fhir4_types.MapTransformEvaluate: exit(fhir3_types.MapTransformEvaluate);
    fhir4_types.MapTransformCc: exit(fhir3_types.MapTransformCc);
    fhir4_types.MapTransformC: exit(fhir3_types.MapTransformC);
    fhir4_types.MapTransformQty: exit(fhir3_types.MapTransformQty);
    fhir4_types.MapTransformId: exit(fhir3_types.MapTransformId);
    fhir4_types.MapTransformCp: exit(fhir3_types.MapTransformCp);
    else exit(fhir3_types.MapTransformNull);
  end;
end;

class function TVersionConvertor_30_40.convertSubscriptionStatus3(src : fhir3_types.TFhirSubscriptionStatusEnum) : fhir4_types.TFhirSubscriptionStatusEnum;
begin
  case (src) of
    fhir3_types.SubscriptionStatusRequested: exit(fhir4_types.SubscriptionStatusRequested);
    fhir3_types.SubscriptionStatusActive: exit(fhir4_types.SubscriptionStatusActive);
    fhir3_types.SubscriptionStatusError: exit(fhir4_types.SubscriptionStatusError);
    fhir3_types.SubscriptionStatusOff: exit(fhir4_types.SubscriptionStatusOff);
    else exit(fhir4_types.SubscriptionStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertSubscriptionStatus4(src : fhir4_types.TFhirSubscriptionStatusEnum) : fhir3_types.TFhirSubscriptionStatusEnum;
begin
  case (src) of
    fhir4_types.SubscriptionStatusRequested: exit(fhir3_types.SubscriptionStatusRequested);
    fhir4_types.SubscriptionStatusActive: exit(fhir3_types.SubscriptionStatusActive);
    fhir4_types.SubscriptionStatusError: exit(fhir3_types.SubscriptionStatusError);
    fhir4_types.SubscriptionStatusOff: exit(fhir3_types.SubscriptionStatusOff);
    else exit(fhir3_types.SubscriptionStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertSubscriptionChannelType3(src : fhir3_types.TFhirSubscriptionChannelTypeEnum) : fhir4_types.TFhirSubscriptionChannelTypeEnum;
begin
  case (src) of
    fhir3_types.SubscriptionChannelTypeRestHook: exit(fhir4_types.SubscriptionChannelTypeRestHook);
    fhir3_types.SubscriptionChannelTypeWebsocket: exit(fhir4_types.SubscriptionChannelTypeWebsocket);
    fhir3_types.SubscriptionChannelTypeEmail: exit(fhir4_types.SubscriptionChannelTypeEmail);
    fhir3_types.SubscriptionChannelTypeSms: exit(fhir4_types.SubscriptionChannelTypeSms);
    fhir3_types.SubscriptionChannelTypeMessage: exit(fhir4_types.SubscriptionChannelTypeMessage);
    else exit(fhir4_types.SubscriptionChannelTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertSubscriptionChannelType4(src : fhir4_types.TFhirSubscriptionChannelTypeEnum) : fhir3_types.TFhirSubscriptionChannelTypeEnum;
begin
  case (src) of
    fhir4_types.SubscriptionChannelTypeRestHook: exit(fhir3_types.SubscriptionChannelTypeRestHook);
    fhir4_types.SubscriptionChannelTypeWebsocket: exit(fhir3_types.SubscriptionChannelTypeWebsocket);
    fhir4_types.SubscriptionChannelTypeEmail: exit(fhir3_types.SubscriptionChannelTypeEmail);
    fhir4_types.SubscriptionChannelTypeSms: exit(fhir3_types.SubscriptionChannelTypeSms);
    fhir4_types.SubscriptionChannelTypeMessage: exit(fhir3_types.SubscriptionChannelTypeMessage);
    else exit(fhir3_types.SubscriptionChannelTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertFHIRSubstanceStatus3(src : fhir3_types.TFhirSubstanceStatusEnum) : fhir4_types.TFhirSubstanceStatusEnum;
begin
  case (src) of
    fhir3_types.SubstanceStatusActive: exit(fhir4_types.SubstanceStatusActive);
    fhir3_types.SubstanceStatusInactive: exit(fhir4_types.SubstanceStatusInactive);
    fhir3_types.SubstanceStatusEnteredInError: exit(fhir4_types.SubstanceStatusEnteredInError);
    else exit(fhir4_types.SubstanceStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertFHIRSubstanceStatus4(src : fhir4_types.TFhirSubstanceStatusEnum) : fhir3_types.TFhirSubstanceStatusEnum;
begin
  case (src) of
    fhir4_types.SubstanceStatusActive: exit(fhir3_types.SubstanceStatusActive);
    fhir4_types.SubstanceStatusInactive: exit(fhir3_types.SubstanceStatusInactive);
    fhir4_types.SubstanceStatusEnteredInError: exit(fhir3_types.SubstanceStatusEnteredInError);
    else exit(fhir3_types.SubstanceStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertSupplyDeliveryStatus3(src : fhir3_types.TFhirSupplydeliveryStatusEnum) : fhir4_types.TFhirSupplydeliveryStatusEnum;
begin
  case (src) of
    fhir3_types.SupplydeliveryStatusInProgress: exit(fhir4_types.SupplydeliveryStatusInProgress);
    fhir3_types.SupplydeliveryStatusCompleted: exit(fhir4_types.SupplydeliveryStatusCompleted);
    fhir3_types.SupplydeliveryStatusAbandoned: exit(fhir4_types.SupplydeliveryStatusAbandoned);
    fhir3_types.SupplydeliveryStatusEnteredInError: exit(fhir4_types.SupplydeliveryStatusEnteredInError);
    else exit(fhir4_types.SupplydeliveryStatusNull);
  end;
end;

class function TVersionConvertor_30_40.convertSupplyDeliveryStatus4(src : fhir4_types.TFhirSupplydeliveryStatusEnum) : fhir3_types.TFhirSupplydeliveryStatusEnum;
begin
  case (src) of
    fhir4_types.SupplydeliveryStatusInProgress: exit(fhir3_types.SupplydeliveryStatusInProgress);
    fhir4_types.SupplydeliveryStatusCompleted: exit(fhir3_types.SupplydeliveryStatusCompleted);
    fhir4_types.SupplydeliveryStatusAbandoned: exit(fhir3_types.SupplydeliveryStatusAbandoned);
    fhir4_types.SupplydeliveryStatusEnteredInError: exit(fhir3_types.SupplydeliveryStatusEnteredInError);
    else exit(fhir3_types.SupplydeliveryStatusNull);
  end;
end;

//class function TVersionConvertor_30_40.convertContentType3(src : fhir3_types.TFhirContentTypeEnum) : String;
//begin
//  case (src) of
//    fhir3_types.ContentTypeXml: exit('application/fhir+xml');
//    fhir3_types.ContentTypeJson: exit('application/fhir+json');
//    fhir3_types.ContentTypeTtl: exit('text/turtle');
//    fhir3_types.ContentTypeNone: exit('');
//    else exit('');
//  end;
//end;

class function TVersionConvertor_30_40.convertActionGroupingBehavior3(src : fhir3_types.TFhirActionGroupingBehaviorEnum) : fhir4_types.TFhirActionGroupingBehaviorEnum;
begin
  case (src) of
    fhir3_types.ActionGroupingBehaviorVisualGroup: exit(fhir4_types.ActionGroupingBehaviorVisualGroup);
    fhir3_types.ActionGroupingBehaviorLogicalGroup: exit(fhir4_types.ActionGroupingBehaviorLogicalGroup);
    fhir3_types.ActionGroupingBehaviorSentenceGroup: exit(fhir4_types.ActionGroupingBehaviorSentenceGroup);
    else exit(fhir4_types.ActionGroupingBehaviorNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionGroupingBehavior4(src : fhir4_types.TFhirActionGroupingBehaviorEnum) : fhir3_types.TFhirActionGroupingBehaviorEnum;
begin
  case (src) of
    fhir4_types.ActionGroupingBehaviorVisualGroup: exit(fhir3_types.ActionGroupingBehaviorVisualGroup);
    fhir4_types.ActionGroupingBehaviorLogicalGroup: exit(fhir3_types.ActionGroupingBehaviorLogicalGroup);
    fhir4_types.ActionGroupingBehaviorSentenceGroup: exit(fhir3_types.ActionGroupingBehaviorSentenceGroup);
    else exit(fhir3_types.ActionGroupingBehaviorNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionSelectionBehavior3(src : fhir3_types.TFhirActionSelectionBehaviorEnum) : fhir4_types.TFhirActionSelectionBehaviorEnum;
begin
  case (src) of
    fhir3_types.ActionSelectionBehaviorAny: exit(fhir4_types.ActionSelectionBehaviorAny);
    fhir3_types.ActionSelectionBehaviorAll: exit(fhir4_types.ActionSelectionBehaviorAll);
    fhir3_types.ActionSelectionBehaviorAllOrNone: exit(fhir4_types.ActionSelectionBehaviorAllOrNone);
    fhir3_types.ActionSelectionBehaviorExactlyOne: exit(fhir4_types.ActionSelectionBehaviorExactlyOne);
    fhir3_types.ActionSelectionBehaviorAtMostOne: exit(fhir4_types.ActionSelectionBehaviorAtMostOne);
    fhir3_types.ActionSelectionBehaviorOneOrMore: exit(fhir4_types.ActionSelectionBehaviorOneOrMore);
    else exit(fhir4_types.ActionSelectionBehaviorNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionSelectionBehavior4(src : fhir4_types.TFhirActionSelectionBehaviorEnum) : fhir3_types.TFhirActionSelectionBehaviorEnum;
begin
  case (src) of
    fhir4_types.ActionSelectionBehaviorAny: exit(fhir3_types.ActionSelectionBehaviorAny);
    fhir4_types.ActionSelectionBehaviorAll: exit(fhir3_types.ActionSelectionBehaviorAll);
    fhir4_types.ActionSelectionBehaviorAllOrNone: exit(fhir3_types.ActionSelectionBehaviorAllOrNone);
    fhir4_types.ActionSelectionBehaviorExactlyOne: exit(fhir3_types.ActionSelectionBehaviorExactlyOne);
    fhir4_types.ActionSelectionBehaviorAtMostOne: exit(fhir3_types.ActionSelectionBehaviorAtMostOne);
    fhir4_types.ActionSelectionBehaviorOneOrMore: exit(fhir3_types.ActionSelectionBehaviorOneOrMore);
    else exit(fhir3_types.ActionSelectionBehaviorNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionRequiredBehavior3(src : fhir3_types.TFhirActionRequiredBehaviorEnum) : fhir4_types.TFhirActionRequiredBehaviorEnum;
begin
  case (src) of
    fhir3_types.ActionRequiredBehaviorMust: exit(fhir4_types.ActionRequiredBehaviorMust);
    fhir3_types.ActionRequiredBehaviorCould: exit(fhir4_types.ActionRequiredBehaviorCould);
    fhir3_types.ActionRequiredBehaviorMustUnlessDocumented: exit(fhir4_types.ActionRequiredBehaviorMustUnlessDocumented);
    else exit(fhir4_types.ActionRequiredBehaviorNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionRequiredBehavior4(src : fhir4_types.TFhirActionRequiredBehaviorEnum) : fhir3_types.TFhirActionRequiredBehaviorEnum;
begin
  case (src) of
    fhir4_types.ActionRequiredBehaviorMust: exit(fhir3_types.ActionRequiredBehaviorMust);
    fhir4_types.ActionRequiredBehaviorCould: exit(fhir3_types.ActionRequiredBehaviorCould);
    fhir4_types.ActionRequiredBehaviorMustUnlessDocumented: exit(fhir3_types.ActionRequiredBehaviorMustUnlessDocumented);
    else exit(fhir3_types.ActionRequiredBehaviorNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionPrecheckBehavior3(src : fhir3_types.TFhirActionPrecheckBehaviorEnum) : fhir4_types.TFhirActionPrecheckBehaviorEnum;
begin
  case (src) of
    fhir3_types.ActionPrecheckBehaviorYes: exit(fhir4_types.ActionPrecheckBehaviorYes);
    fhir3_types.ActionPrecheckBehaviorNo: exit(fhir4_types.ActionPrecheckBehaviorNo);
    else exit(fhir4_types.ActionPrecheckBehaviorNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionPrecheckBehavior4(src : fhir4_types.TFhirActionPrecheckBehaviorEnum) : fhir3_types.TFhirActionPrecheckBehaviorEnum;
begin
  case (src) of
    fhir4_types.ActionPrecheckBehaviorYes: exit(fhir3_types.ActionPrecheckBehaviorYes);
    fhir4_types.ActionPrecheckBehaviorNo: exit(fhir3_types.ActionPrecheckBehaviorNo);
    else exit(fhir3_types.ActionPrecheckBehaviorNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionCardinalityBehavior3(src : fhir3_types.TFhirActionCardinalityBehaviorEnum) : fhir4_types.TFhirActionCardinalityBehaviorEnum;
begin
  case (src) of
    fhir3_types.ActionCardinalityBehaviorSingle: exit(fhir4_types.ActionCardinalityBehaviorSingle);
    fhir3_types.ActionCardinalityBehaviorMultiple: exit(fhir4_types.ActionCardinalityBehaviorMultiple);
    else exit(fhir4_types.ActionCardinalityBehaviorNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionCardinalityBehavior4(src : fhir4_types.TFhirActionCardinalityBehaviorEnum) : fhir3_types.TFhirActionCardinalityBehaviorEnum;
begin
  case (src) of
    fhir4_types.ActionCardinalityBehaviorSingle: exit(fhir3_types.ActionCardinalityBehaviorSingle);
    fhir4_types.ActionCardinalityBehaviorMultiple: exit(fhir3_types.ActionCardinalityBehaviorMultiple);
    else exit(fhir3_types.ActionCardinalityBehaviorNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionConditionKind3(src : fhir3_types.TFhirActionConditionKindEnum) : fhir4_types.TFhirActionConditionKindEnum;
begin
  case (src) of
    fhir3_types.ActionConditionKindApplicability: exit(fhir4_types.ActionConditionKindApplicability);
    fhir3_types.ActionConditionKindStart: exit(fhir4_types.ActionConditionKindStart);
    fhir3_types.ActionConditionKindStop: exit(fhir4_types.ActionConditionKindStop);
    else exit(fhir4_types.ActionConditionKindNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionConditionKind4(src : fhir4_types.TFhirActionConditionKindEnum) : fhir3_types.TFhirActionConditionKindEnum;
begin
  case (src) of
    fhir4_types.ActionConditionKindApplicability: exit(fhir3_types.ActionConditionKindApplicability);
    fhir4_types.ActionConditionKindStart: exit(fhir3_types.ActionConditionKindStart);
    fhir4_types.ActionConditionKindStop: exit(fhir3_types.ActionConditionKindStop);
    else exit(fhir3_types.ActionConditionKindNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionRelationshipType3(src : fhir3_types.TFhirActionRelationshipTypeEnum) : fhir4_types.TFhirActionRelationshipTypeEnum;
begin
  case (src) of
    fhir3_types.ActionRelationshipTypeBeforeStart: exit(fhir4_types.ActionRelationshipTypeBeforeStart);
    fhir3_types.ActionRelationshipTypeBefore: exit(fhir4_types.ActionRelationshipTypeBefore);
    fhir3_types.ActionRelationshipTypeBeforeEnd: exit(fhir4_types.ActionRelationshipTypeBeforeEnd);
    fhir3_types.ActionRelationshipTypeConcurrentWithStart: exit(fhir4_types.ActionRelationshipTypeConcurrentWithStart);
    fhir3_types.ActionRelationshipTypeConcurrent: exit(fhir4_types.ActionRelationshipTypeConcurrent);
    fhir3_types.ActionRelationshipTypeConcurrentWithEnd: exit(fhir4_types.ActionRelationshipTypeConcurrentWithEnd);
    fhir3_types.ActionRelationshipTypeAfterStart: exit(fhir4_types.ActionRelationshipTypeAfterStart);
    fhir3_types.ActionRelationshipTypeAfter: exit(fhir4_types.ActionRelationshipTypeAfter);
    fhir3_types.ActionRelationshipTypeAfterEnd: exit(fhir4_types.ActionRelationshipTypeAfterEnd);
    else exit(fhir4_types.ActionRelationshipTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionRelationshipType4(src : fhir4_types.TFhirActionRelationshipTypeEnum) : fhir3_types.TFhirActionRelationshipTypeEnum;
begin
  case (src) of
    fhir4_types.ActionRelationshipTypeBeforeStart: exit(fhir3_types.ActionRelationshipTypeBeforeStart);
    fhir4_types.ActionRelationshipTypeBefore: exit(fhir3_types.ActionRelationshipTypeBefore);
    fhir4_types.ActionRelationshipTypeBeforeEnd: exit(fhir3_types.ActionRelationshipTypeBeforeEnd);
    fhir4_types.ActionRelationshipTypeConcurrentWithStart: exit(fhir3_types.ActionRelationshipTypeConcurrentWithStart);
    fhir4_types.ActionRelationshipTypeConcurrent: exit(fhir3_types.ActionRelationshipTypeConcurrent);
    fhir4_types.ActionRelationshipTypeConcurrentWithEnd: exit(fhir3_types.ActionRelationshipTypeConcurrentWithEnd);
    fhir4_types.ActionRelationshipTypeAfterStart: exit(fhir3_types.ActionRelationshipTypeAfterStart);
    fhir4_types.ActionRelationshipTypeAfter: exit(fhir3_types.ActionRelationshipTypeAfter);
    fhir4_types.ActionRelationshipTypeAfterEnd: exit(fhir3_types.ActionRelationshipTypeAfterEnd);
    else exit(fhir3_types.ActionRelationshipTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionParticipantType3(src : fhir3_types.TFhirActionParticipantTypeEnum) : fhir4_types.TFhirActionParticipantTypeEnum;
begin
  case (src) of
    fhir3_types.ActionParticipantTypePatient: exit(fhir4_types.ActionParticipantTypePatient);
    fhir3_types.ActionParticipantTypePractitioner: exit(fhir4_types.ActionParticipantTypePractitioner);
    fhir3_types.ActionParticipantTypeRelatedPerson: exit(fhir4_types.ActionParticipantTypeRelatedPerson);
    else exit(fhir4_types.ActionParticipantTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertActionParticipantType4(src : fhir4_types.TFhirActionParticipantTypeEnum) : fhir3_types.TFhirActionParticipantTypeEnum;
begin
  case (src) of
    fhir4_types.ActionParticipantTypePatient: exit(fhir3_types.ActionParticipantTypePatient);
    fhir4_types.ActionParticipantTypePractitioner: exit(fhir3_types.ActionParticipantTypePractitioner);
    fhir4_types.ActionParticipantTypeRelatedPerson: exit(fhir3_types.ActionParticipantTypeRelatedPerson);
    else exit(fhir3_types.ActionParticipantTypeNull);
  end;
end;

class function TVersionConvertor_30_40.convertBase64Binary3(src : fhir3_types.TFhirBase64Binary) : fhir4_types.TFhirBase64Binary;
var
  tgt : fhir4_types.TFhirBase64Binary;
begin
  tgt := fhir4_types.TFhirBase64Binary.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBase64Binary4(src : fhir4_types.TFhirBase64Binary) : fhir3_types.TFhirBase64Binary;
var
  tgt : fhir3_types.TFhirBase64Binary;
begin
  tgt := fhir3_types.TFhirBase64Binary.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBoolean3(src : fhir3_types.TFhirBoolean) : fhir4_types.TFhirBoolean;
var
  tgt : fhir4_types.TFhirBoolean;
begin
  tgt := fhir4_types.TFhirBoolean.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBoolean4(src : fhir4_types.TFhirBoolean) : fhir3_types.TFhirBoolean;
var
  tgt : fhir3_types.TFhirBoolean;
begin
  tgt := fhir3_types.TFhirBoolean.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCode3(src : fhir3_types.TFhirCode) : fhir4_types.TFhirCode;
var
  tgt : fhir4_types.TFhirCode;
begin
  tgt := fhir4_types.TFhirCode.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCode4(src : fhir4_types.TFhirCode) : fhir3_types.TFhirCode;
var
  tgt : fhir3_types.TFhirCode;
begin
  tgt := fhir3_types.TFhirCode.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCode3(src : fhir3_types.TFhirEnum) : fhir4_types.TFhirEnum;
var
  tgt : fhir4_types.TFhirEnum;
begin
  tgt := fhir4_types.TFhirEnum.Create(src.system, src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCode4(src : fhir4_types.TFhirEnum) : fhir3_types.TFhirEnum;
var
  tgt : fhir3_types.TFhirEnum;
begin
  tgt := fhir3_types.TFhirEnum.Create(src.system, src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDate3(src : fhir3_types.TFhirDate) : fhir4_types.TFhirDate;
var
  tgt : fhir4_types.TFhirDate;
begin
  tgt := fhir4_types.TFhirDate.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDate4(src : fhir4_types.TFhirDate) : fhir3_types.TFhirDate;
var
  tgt : fhir3_types.TFhirDate;
begin
  tgt := fhir3_types.TFhirDate.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDateTime3(src : fhir3_types.TFhirDateTime) : fhir4_types.TFhirDateTime;
var
  tgt : fhir4_types.TFhirDateTime;
begin
  tgt := fhir4_types.TFhirDateTime.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDateTime4(src : fhir4_types.TFhirDateTime) : fhir3_types.TFhirDateTime;
var
  tgt : fhir3_types.TFhirDateTime;
begin
  tgt := fhir3_types.TFhirDateTime.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDecimal3(src : fhir3_types.TFhirDecimal) : fhir4_types.TFhirDecimal;
var
  tgt : fhir4_types.TFhirDecimal;
begin
  tgt := fhir4_types.TFhirDecimal.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDecimal4(src : fhir4_types.TFhirDecimal) : fhir3_types.TFhirDecimal;
var
  tgt : fhir3_types.TFhirDecimal;
begin
  tgt := fhir3_types.TFhirDecimal.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertId3(src : fhir3_types.TFhirId) : fhir4_types.TFhirId;
var
  tgt : fhir4_types.TFhirId;
begin
  tgt := fhir4_types.TFhirId.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertId4(src : fhir4_types.TFhirId) : fhir3_types.TFhirId;
var
  tgt : fhir3_types.TFhirId;
begin
  tgt := fhir3_types.TFhirId.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertInstant3(src : fhir3_types.TFhirInstant) : fhir4_types.TFhirInstant;
var
  tgt : fhir4_types.TFhirInstant;
begin
  tgt := fhir4_types.TFhirInstant.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertInstant4(src : fhir4_types.TFhirInstant) : fhir3_types.TFhirInstant;
var
  tgt : fhir3_types.TFhirInstant;
begin
  tgt := fhir3_types.TFhirInstant.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertInteger3(src : fhir3_types.TFhirInteger) : fhir4_types.TFhirInteger;
var
  tgt : fhir4_types.TFhirInteger;
begin
  tgt := fhir4_types.TFhirInteger.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertInteger4(src : fhir4_types.TFhirInteger) : fhir3_types.TFhirInteger;
var
  tgt : fhir3_types.TFhirInteger;
begin
  tgt := fhir3_types.TFhirInteger.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMarkdown3(src : fhir3_types.TFhirMarkdown) : fhir4_types.TFhirMarkdown;
var
  tgt : fhir4_types.TFhirMarkdown;
begin
  tgt := fhir4_types.TFhirMarkdown.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMarkdown4(src : fhir4_types.TFhirMarkdown) : fhir3_types.TFhirMarkdown;
var
  tgt : fhir3_types.TFhirMarkdown;
begin
  tgt := fhir3_types.TFhirMarkdown.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOid3(src : fhir3_types.TFhirOid) : fhir4_types.TFhirOid;
var
  tgt : fhir4_types.TFhirOid;
begin
  tgt := fhir4_types.TFhirOid.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOid4(src : fhir4_types.TFhirOid) : fhir3_types.TFhirOid;
var
  tgt : fhir3_types.TFhirOid;
begin
  tgt := fhir3_types.TFhirOid.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPositiveInt3(src : fhir3_types.TFhirPositiveInt) : fhir4_types.TFhirPositiveInt;
var
  tgt : fhir4_types.TFhirPositiveInt;
begin
  tgt := fhir4_types.TFhirPositiveInt.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPositiveInt4(src : fhir4_types.TFhirPositiveInt) : fhir3_types.TFhirPositiveInt;
var
  tgt : fhir3_types.TFhirPositiveInt;
begin
  tgt := fhir3_types.TFhirPositiveInt.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertString3(src : fhir3_types.TFhirString) : fhir4_types.TFhirString;
var
  tgt : fhir4_types.TFhirString;
begin
  tgt := fhir4_types.TFhirString.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertString4(src : fhir4_types.TFhirString) : fhir3_types.TFhirString;
var
  tgt : fhir3_types.TFhirString;
begin
  tgt := fhir3_types.TFhirString.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertString2CodeableConcept3(src : fhir3_types.TFhirString): fhir4_types.TFhirCodeableConcept;
var
  tgt : fhir4_types.TFhirCodeableConcept;
begin
  tgt := fhir4_types.TFhirCodeableConcept.Create();
  try
    copyElement3(src, tgt);
    tgt.text := src.value;
    exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertTime3(src : fhir3_types.TFhirTime) : fhir4_types.TFhirTime;
var
  tgt : fhir4_types.TFhirTime;
begin
  tgt := fhir4_types.TFhirTime.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertTime4(src : fhir4_types.TFhirTime) : fhir3_types.TFhirTime;
var
  tgt : fhir3_types.TFhirTime;
begin
  tgt := fhir3_types.TFhirTime.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUnsignedInt3(src : fhir3_types.TFhirUnsignedInt) : fhir4_types.TFhirUnsignedInt;
var
  tgt : fhir4_types.TFhirUnsignedInt;
begin
  tgt := fhir4_types.TFhirUnsignedInt.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUnsignedInt4(src : fhir4_types.TFhirUnsignedInt) : fhir3_types.TFhirUnsignedInt;
var
  tgt : fhir3_types.TFhirUnsignedInt;
begin
  tgt := fhir3_types.TFhirUnsignedInt.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUri3(src : fhir3_types.TFhirUri) : fhir4_types.TFhirUri;
var
  tgt : fhir4_types.TFhirUri;
begin
  tgt := fhir4_types.TFhirUri.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUriToCanonical3(src : fhir3_types.TFhirUri): fhir4_types.TFhirCanonical;
var
  tgt : fhir4_types.TFhirCanonical;
begin
  tgt := fhir4_types.TFhirCanonical.Create(src.value);
  try
    copyElement3(src, tgt);
    exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUriToUrl3(src : fhir3_types.TFhirUri) : fhir4_types.TFhirUrl;
var
  tgt : fhir4_types.TFhirUrl;
begin
  tgt := fhir4_types.TFhirUrl.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUri4(src : fhir4_types.TFhirUri) : fhir3_types.TFhirUri;
var
  tgt : fhir3_types.TFhirUri;
begin
  tgt := fhir3_types.TFhirUri.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUuid3(src : fhir3_types.TFhirUuid) : fhir4_types.TFhirUuid;
var
  tgt : fhir4_types.TFhirUuid;
begin
  tgt := fhir4_types.TFhirUuid.Create(src.value);
  try
  copyElement3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUuid4(src : fhir4_types.TFhirUuid) : fhir3_types.TFhirUuid;
var
  tgt : fhir3_types.TFhirUuid;
begin
  tgt := fhir3_types.TFhirUuid.Create(src.value);
  try
  copyElement4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertExtension3(src : fhir3_types.TFhirExtension) : fhir4_types.TFhirExtension;
var
  tgt : fhir4_types.TFhirExtension;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirExtension.Create();
  try
  copyElement3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertExtension4(src : fhir4_types.TFhirExtension) : fhir3_types.TFhirExtension;
var
  tgt : fhir3_types.TFhirExtension;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirExtension.Create();
  try
  copyElement4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertNarrative3(src : fhir3_types.TFhirNarrative) : fhir4_types.TFhirNarrative;
var
  tgt : fhir4_types.TFhirNarrative;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirNarrative.Create();
  try
  copyElement3(src, tgt);
  tgt.status := convertNarrativeStatus3(src.status);
  tgt.div_ := src.div_.link;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertNarrative4(src : fhir4_types.TFhirNarrative) : fhir3_types.TFhirNarrative;
var
  tgt : fhir3_types.TFhirNarrative;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirNarrative.Create();
  try
  copyElement4(src, tgt);
  tgt.status := convertNarrativeStatus4(src.status);

  tgt.div_ := src.div_.link;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAge3(src : fhir3_types.TFhirAge) : fhir4_types.TFhirAge;
var
  tgt : fhir4_types.TFhirAge;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirAge.Create();
  try
  copyQuantity3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAge4(src : fhir4_types.TFhirAge) : fhir3_types.TFhirAge;
var
  tgt : fhir3_types.TFhirAge;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirAge.Create();
  try
  copyQuantity4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAnnotation3(src : fhir3_types.TFhirAnnotation) : fhir4_types.TFhirAnnotation;
var
  tgt : fhir4_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirAnnotation.Create();
  try
  copyElement3(src, tgt);
  if (src.author <> nil) then
    tgt.author := convertType3(src.author);

  tgt.time := src.time.clone;
  tgt.text := src.text;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAnnotation4(src : fhir4_types.TFhirAnnotation) : fhir3_types.TFhirAnnotation;
var
  tgt : fhir3_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirAnnotation.Create();
  try
  copyElement4(src, tgt);
  if (src.author <> nil) then
    tgt.author := convertType4(src.author);

  tgt.time := src.time.clone;

  if (src.text <> '') then
    tgt.text := src.text;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAttachment3(src : fhir3_types.TFhirAttachment) : fhir4_types.TFhirAttachment;
var
  tgt : fhir4_types.TFhirAttachment;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirAttachment.Create();
  try
  copyElement3(src, tgt);
  if (src.contentType <> '') then
    tgt.contentType := src.contentType;

  if (src.language <> '') then
    tgt.language := src.language;

  if (src.data <> nil) then
    tgt.data := src.data;

  if (src.url <> '') then
    tgt.url := src.url;

  tgt.size := src.size;
  tgt.hash := src.hash;
  tgt.title := src.title;
  tgt.creation := src.creation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAttachment4(src : fhir4_types.TFhirAttachment) : fhir3_types.TFhirAttachment;
var
  tgt : fhir3_types.TFhirAttachment;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirAttachment.Create();
  try
  copyElement4(src, tgt);
  if (src.contentType <> '') then
    tgt.contentType := src.contentType;

  if (src.language <> '') then
    tgt.language := src.language;

  if (src.data <> nil) then
    tgt.data := src.data;

  tgt.url := src.url;
  tgt.size := src.size;
  tgt.hash := src.hash;
  tgt.title := src.title;
  tgt.creation := src.creation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCodeableConcept3(src : fhir3_types.TFhirCodeableConcept) : fhir4_types.TFhirCodeableConcept;
var
  tgt : fhir4_types.TFhirCodeableConcept;
  t : fhir3_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirCodeableConcept.Create();
  try
  copyElement3(src, tgt);
  for t in src.codingList do
  begin
    tgt.codingList.add(convertCoding3(t));
  end;
  tgt.text := src.text;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCodeableConcept4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirCodeableConcept;
var
  tgt : fhir3_types.TFhirCodeableConcept;
  t : fhir4_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirCodeableConcept.Create();
  try
  copyElement4(src, tgt);
  for t in src.codingList do
  begin
    tgt.codingList.add(convertCoding4(t));
  end;
  if (src.text <> '') then
    tgt.text := src.text;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCodeableConceptToCoding4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirCoding;
begin
  if (src = nil) or (src.codingList.Count = 0) then
    exit(nil)
  else
    exit(convertCoding4(src.codingList[0]));
end;

class function TVersionConvertor_30_40.convertCodeableConceptToCoding3(src : fhir3_types.TFhirCodeableConcept) : fhir4_types.TFhirCoding;
begin
  if (src = nil) or (src.codingList.Count = 0) then
    exit(nil)
  else
    exit(convertCoding3(src.codingList[0]));
end;

class function TVersionConvertor_30_40.convertCoding3(src : fhir3_types.TFhirCoding) : fhir4_types.TFhirCoding;
var
  tgt : fhir4_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirCoding.Create();
  try
  copyElement3(src, tgt);
  if (src.system <> '') then
    tgt.system := src.system;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  tgt.userSelected := src.userSelected;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCoding4(src : fhir4_types.TFhirCoding) : fhir3_types.TFhirCoding;
var
  tgt : fhir3_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirCoding.Create();
  try
  copyElement4(src, tgt);
  if (src.system <> '') then
    tgt.system := src.system;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  tgt.userSelected := src.userSelected;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCoding3(src : fhir3_types.TFhirCodeableConcept) : fhir4_types.TFhirCoding;
begin
  if (src = nil) or (src.codingList.Count = 0)  then
    exit(nil)
  else
    result := convertCoding3(src.codingList[0]);
end;

class function TVersionConvertor_30_40.convertCoding4(src : fhir4_types.TFhirCodeableConcept) : fhir3_types.TFhirCoding;
begin
  if (src = nil) or (src.codingList.Count = 0)  then
    exit(nil)
  else
    result := convertCoding4(src.codingList[0]);
end;

class function TVersionConvertor_30_40.convertCodingToCodeableConcept3(src : fhir3_types.TFhirCoding) : fhir4_types.TFhirCodeableConcept;
var
  tgt : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirCodeableConcept.Create();
  try
    tgt.codingList.Add(convertCoding3(src));
    exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCodingToCodeableConcept4(src : fhir4_types.TFhirCoding) : fhir3_types.TFhirCodeableConcept;
var
  tgt : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirCodeableConcept.Create();
  try
    tgt.codingList.Add(convertCoding4(src));
    exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCoding3(src : fhir3_types.TFhirCode) : fhir4_types.TFhirCoding;
var
  tgt : fhir4_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirCoding.Create();
  try
  copyElement3(src, tgt);
  tgt.code := src.value;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCount3(src : fhir3_types.TFhirCount) : fhir4_types.TFhirCount;
var
  tgt : fhir4_types.TFhirCount;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirCount.Create();
  try
  copyQuantity3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCount4(src : fhir4_types.TFhirCount) : fhir3_types.TFhirCount;
var
  tgt : fhir3_types.TFhirCount;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirCount.Create();
  try
  copyQuantity4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDistance3(src : fhir3_types.TFhirDistance) : fhir4_types.TFhirDistance;
var
  tgt : fhir4_types.TFhirDistance;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirDistance.Create();
  try
  copyQuantity3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDistance4(src : fhir4_types.TFhirDistance) : fhir3_types.TFhirDistance;
var
  tgt : fhir3_types.TFhirDistance;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirDistance.Create();
  try
  copyQuantity4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDuration3(src : fhir3_types.TFhirDuration) : fhir4_types.TFhirDuration;
var
  tgt : fhir4_types.TFhirDuration;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirDuration.Create();
  try
  copyQuantity3(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDuration4(src : fhir4_types.TFhirDuration) : fhir3_types.TFhirDuration;
var
  tgt : fhir3_types.TFhirDuration;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirDuration.Create();
  try
  copyQuantity4(src, tgt);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertIdentifier3(src : fhir3_types.TFhirIdentifier) : fhir4_types.TFhirIdentifier;
var
  tgt : fhir4_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirIdentifier.Create();
  try
  copyElement3(src, tgt);
  tgt.use := convertIdentifierUse3(src.use);

  if (src.type_ <> nil) then
    tgt.type_ := convertCodeableConcept3(src.type_);

  if (src.system <> '') then
    tgt.system := src.system;

  if (src.value <> '') then
    tgt.value := src.value;

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  if (src.assigner <> nil) then
    tgt.assigner := convertReference3(src.assigner);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertIdentifier4(src : fhir4_types.TFhirIdentifier) : fhir3_types.TFhirIdentifier;
var
  tgt : fhir3_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirIdentifier.Create();
  try
  copyElement4(src, tgt);
  tgt.use := convertIdentifierUse4(src.use);

  tgt.type_ := convertCodeableConcept4(src.type_);

  if (src.system <> '') then
    tgt.system := src.system;

  if (src.value <> '') then
    tgt.value := src.value;

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  if (src.assigner <> nil) then
    tgt.assigner := convertReference4(src.assigner);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMoney3(src : fhir3_types.TFhirMoney) : fhir4_types.TFhirMoney;
var
  tgt : fhir4_types.TFhirMoney;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirMoney.Create();
  try
  if (src.value <> '') then
    tgt.value := src.value;
  if (src.value <> '') then
    tgt.currency := src.code;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMoney4(src : fhir4_types.TFhirMoney) : fhir3_types.TFhirMoney;
var
  tgt : fhir3_types.TFhirMoney;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirMoney.Create();
  try
  if (src.value <> '') then
    tgt.value := src.value;
  if (src.value <> '') then
    tgt.code := src.currency;
  tgt.system := 'urn:iso:std:iso:4217';
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPeriod3(src : fhir3_types.TFhirPeriod) : fhir4_types.TFhirPeriod;
var
  tgt : fhir4_types.TFhirPeriod;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirPeriod.Create();
  try
  copyElement3(src, tgt);
  tgt.start := src.start;
  tgt.end_ := src.end_;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPeriod4(src : fhir4_types.TFhirPeriod) : fhir3_types.TFhirPeriod;
var
  tgt : fhir3_types.TFhirPeriod;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirPeriod.Create();
  try
  copyElement4(src, tgt);
  tgt.start := src.start;
  tgt.end_ := src.end_;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class procedure TVersionConvertor_30_40.copyQuantity3(src : fhir3_types.TFhirQuantity; tgt : fhir4_types.TFhirQuantity);
begin
  if (src = nil) or (tgt = nil) then
    exit();

  copyElement3(src, tgt);
  tgt.value := src.value;

  tgt.comparator := convertQuantityComparator3(src.comparator);
  tgt.unit_ := src.unit_;
  tgt.system := src.system;
  tgt.code := src.code;
end;

class procedure TVersionConvertor_30_40.copyQuantity4(src : fhir4_types.TFhirQuantity; tgt : fhir3_types.TFhirQuantity);
begin
  if (src = nil) or (tgt = nil) then
    exit();

  copyElement4(src, tgt);
  tgt.value := src.value;
  tgt.comparator := convertQuantityComparator4(src.comparator);
  tgt.unit_ := src.unit_;
  tgt.system := src.system;
  tgt.code := src.code;

end;

class function TVersionConvertor_30_40.convertQuantity3(src : fhir3_types.TFhirQuantity) : fhir4_types.TFhirQuantity;
var
  tgt : fhir4_types.TFhirQuantity;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirQuantity.Create();
  try
  copyElement3(src, tgt);
  tgt.value := src.value;
  tgt.comparator := convertQuantityComparator3(src.comparator);
  tgt.unit_ := src.unit_;
  tgt.system := src.system;
  tgt.code := src.code;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuantity4(src : fhir4_types.TFhirQuantity) : fhir3_types.TFhirQuantity;
var
  tgt : fhir3_types.TFhirQuantity;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirQuantity.Create();
  try
  copyElement4(src, tgt);
  tgt.value := src.value;
  tgt.comparator := convertQuantityComparator4(src.comparator);
  tgt.unit_ := src.unit_;
  tgt.system := src.system;
  tgt.code := src.code;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertRange3(src : fhir3_types.TFhirRange) : fhir4_types.TFhirRange;
var
  tgt : fhir4_types.TFhirRange;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirRange.Create();
  try
  copyElement3(src, tgt);
  if (src.low <> nil) then
    tgt.low := convertSimpleQuantity3(src.low);

  if (src.high <> nil) then
    tgt.high := convertSimpleQuantity3(src.high);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertRange4(src : fhir4_types.TFhirRange) : fhir3_types.TFhirRange;
var
  tgt : fhir3_types.TFhirRange;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirRange.Create();
  try
  copyElement4(src, tgt);
  if (src.low <> nil) then
    tgt.low := convertSimpleQuantity4(src.low);

  if (src.high <> nil) then
    tgt.high := convertSimpleQuantity4(src.high);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertRatio3(src : fhir3_types.TFhirRatio) : fhir4_types.TFhirRatio;
var
  tgt : fhir4_types.TFhirRatio;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirRatio.Create();
  try
  copyElement3(src, tgt);
  if (src.numerator <> nil) then
    tgt.numerator := convertQuantity3(src.numerator);

  if (src.denominator <> nil) then
    tgt.denominator := convertQuantity3(src.denominator);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertRatio4(src : fhir4_types.TFhirRatio) : fhir3_types.TFhirRatio;
var
  tgt : fhir3_types.TFhirRatio;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirRatio.Create();
  try
  copyElement4(src, tgt);
  if (src.numerator <> nil) then
    tgt.numerator := convertQuantity4(src.numerator);

  if (src.denominator <> nil) then
    tgt.denominator := convertQuantity4(src.denominator);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertReference3(src : fhir3_types.TFhirReference) : fhir4_types.TFhirReference;
var
  tgt : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirReference.Create();
  try
  copyElement3(src, tgt);
  if (src.reference <> '') then
    tgt.reference := src.reference;

  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier3(src.identifier);

  if (src.display <> '') then
    tgt.display := src.display;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertReference4(src : fhir4_types.TFhirReference) : fhir3_types.TFhirReference;
var
  tgt : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirReference.Create();
  try
  copyElement4(src, tgt);
  if (src.reference <> '') then
    tgt.reference := src.reference;

  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.identifier);

  if (src.display <> '') then
    tgt.display := src.display;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSampledData3(src : fhir3_types.TFhirSampledData) : fhir4_types.TFhirSampledData;
var
  tgt : fhir4_types.TFhirSampledData;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirSampledData.Create();
  try
  copyElement3(src, tgt);
  if (src.origin <> nil) then
    tgt.origin := convertSimpleQuantity3(src.origin);

  tgt.period := src.period;
  tgt.factor := src.factor;
  tgt.lowerLimit := src.lowerLimit;
  tgt.upperLimit := src.upperLimit;
  tgt.dimensions := src.dimensions;
  tgt.data := src.data;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSampledData4(src : fhir4_types.TFhirSampledData) : fhir3_types.TFhirSampledData;
var
  tgt : fhir3_types.TFhirSampledData;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirSampledData.Create();
  try
  copyElement4(src, tgt);
  if (src.origin <> nil) then
    tgt.origin := convertSimpleQuantity4(src.origin);

  tgt.period := src.period;
  tgt.factor := src.factor;
  tgt.lowerLimit := src.lowerLimit;
  tgt.upperLimit := src.upperLimit;
  tgt.dimensions := src.dimensions;
  tgt.data := src.data;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSignature3(src : fhir3_types.TFhirSignature) : fhir4_types.TFhirSignature;
var
  tgt : fhir4_types.TFhirSignature;
  t : fhir3_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirSignature.Create();
  try
  copyElement3(src, tgt);
  for t in src.type_List do
  begin
    tgt.type_List.add(convertCoding3(t));
  end;
  tgt.when := src.when;

  if (src.who <> nil) then
    if src.who is fhir3_types.TFhirUri then
      tgt.who := TFhirReference.Create((src.who as fhir3_types.TFhirUri).value)
    else
      tgt.who := convertReference3(src.who as fhir3_types.TFhirReference);

  if (src.onBehalfOf <> nil) then
    if src.who is fhir3_types.TFhirUri then
      tgt.onBehalfOf := TFhirReference.Create((src.onBehalfOf as fhir3_types.TFhirUri).value)
    else
      tgt.onBehalfOf := convertReference3(src.onBehalfOf as fhir3_types.TFhirReference);

  if (src.contentType <> '') then
    tgt.sigFormat := src.contentType;

  tgt.data := src.blob;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSignature4(src : fhir4_types.TFhirSignature) : fhir3_types.TFhirSignature;
var
  tgt : fhir3_types.TFhirSignature;
  t : fhir4_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirSignature.Create();
  try
  copyElement4(src, tgt);
  for t in src.type_List do
  begin
    tgt.type_List.add(convertCoding4(t));
  end;
  tgt.when := src.when;

  if (src.who <> nil) then
    tgt.who := convertType4(src.who);

  if (src.onBehalfOf <> nil) then
    tgt.onBehalfOf := convertType4(src.onBehalfOf);

  if (src.sigFormat <> '') then
    tgt.contentType := src.sigFormat;

  tgt.blob := src.data;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAddress3(src : fhir3_types.TFhirAddress) : fhir4_types.TFhirAddress;
var
  tgt : fhir4_types.TFhirAddress;
  t : fhir3_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirAddress.Create();
  try
  copyElement3(src, tgt);
  tgt.use := convertAddressUse3(src.use);
  tgt.type_ := convertAddressType3(src.type_);

  if (src.text <> '') then
    tgt.text := src.text;

  for t in src.lineList do
  begin
    tgt.lineList.add(t.value);
  end;
  if (src.city <> '') then
    tgt.city := src.city;

  if (src.district <> '') then
    tgt.district := src.district;

  if (src.state <> '') then
    tgt.state := src.state;

  if (src.postalCode <> '') then
    tgt.postalCode := src.postalCode;

  if (src.country <> '') then
    tgt.country := src.country;

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAddress4(src : fhir4_types.TFhirAddress) : fhir3_types.TFhirAddress;
var
  tgt : fhir3_types.TFhirAddress;
  t : fhir4_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirAddress.Create();
  try
  copyElement4(src, tgt);
  tgt.use := convertAddressUse4(src.use);
  tgt.type_ := convertAddressType4(src.type_);

  if (src.text <> '') then
    tgt.text := src.text;

  for t in src.lineList do
  begin
    tgt.lineList.add(t.value);
  end;
  if (src.city <> '') then
    tgt.city := src.city;

  if (src.district <> '') then
    tgt.district := src.district;

  if (src.state <> '') then
    tgt.state := src.state;

  if (src.postalCode <> '') then
    tgt.postalCode := src.postalCode;

  if (src.country <> '') then
    tgt.country := src.country;

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertContactDetail3(src : fhir3_types.TFhirContactDetail) : fhir4_types.TFhirContactDetail;
var
  tgt : fhir4_types.TFhirContactDetail;
  t : fhir3_types.TFhirContactPoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirContactDetail.Create();
  try
  copyElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  for t in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertContactDetail4(src : fhir4_types.TFhirContactDetail) : fhir3_types.TFhirContactDetail;
var
  tgt : fhir3_types.TFhirContactDetail;
  t : fhir4_types.TFhirContactPoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirContactDetail.Create();
  try
  copyElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  for t in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertContactPoint3(src : fhir3_types.TFhirContactPoint) : fhir4_types.TFhirContactPoint;
var
  tgt : fhir4_types.TFhirContactPoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirContactPoint.Create();
  try
  copyElement3(src, tgt);
  tgt.system := convertContactPointSystem3(src.system);

  if (src.value <> '') then
    tgt.value := src.value;

   tgt.use := convertContactPointUse3(src.use);

  tgt.rank := src.rank;

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertContactPoint4(src : fhir4_types.TFhirContactPoint) : fhir3_types.TFhirContactPoint;
var
  tgt : fhir3_types.TFhirContactPoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirContactPoint.Create();
  try
  copyElement4(src, tgt);
  tgt.system := convertContactPointSystem4(src.system);

  if (src.value <> '') then
    tgt.value := src.value;

  tgt.use := convertContactPointUse4(src.use);

  tgt.rank := src.rank;

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertContributor3(src : fhir3_types.TFhirContributor) : fhir4_types.TFhirContributor;
var
  tgt : fhir4_types.TFhirContributor;
  t : fhir3_types.TFhirContactDetail;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirContributor.Create();
  try
  copyElement3(src, tgt);
  tgt.type_ := convertContributorType3(src.type_);

  if (src.name <> '') then
    tgt.name := src.name;

  for t in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertContributor4(src : fhir4_types.TFhirContributor) : fhir3_types.TFhirContributor;
var
  tgt : fhir3_types.TFhirContributor;
  t : fhir4_types.TFhirContactDetail;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirContributor.Create();
  try
  copyElement4(src, tgt);
    tgt.type_ := convertContributorType4(src.type_);

  if (src.name <> '') then
    tgt.name := src.name;

  for t in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDosage3(src : fhir3_types.TFhirDosage) : fhir4_types.TFhirDosage;
var
  tgt : fhir4_types.TFhirDosage;
  t : fhir3_types.TFhirCodeableConcept;
  dr : fhir4_types.TFhirDosageDoseAndRate;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirDosage.Create();
  try
  copyElement3(src, tgt);
  tgt.sequence := src.sequence;

  if (src.text <> '') then
    tgt.text := src.text;

  for t in src.additionalInstructionList do
  begin
    tgt.additionalInstructionList.add(convertCodeableConcept3(t));
  end;
  if (src.patientInstruction <> '') then
    tgt.patientInstruction := src.patientInstruction;

  if (src.timing <> nil) then
    tgt.timing := convertTiming3(src.timing);

  if (src.asNeeded <> nil) then
    tgt.asNeeded := convertType3(src.asNeeded);

  if (src.site <> nil) then
    tgt.site := convertCodeableConcept3(src.site);

  if (src.route <> nil) then
    tgt.route := convertCodeableConcept3(src.route);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept3(src.method);

  if (src.Dose <> nil) or (src.Rate <> nil) then
  begin
      dr := tgt.DoseAndRateList.Append;
      if (src.dose <> nil) then
        dr.dose := convertType3(src.dose);

      if (src.rate <> nil) then
        dr.rate := convertType3(src.rate);
  end;

  if (src.maxDosePerPeriod <> nil) then
    tgt.maxDosePerPeriod := convertRatio3(src.maxDosePerPeriod);

  if (src.maxDosePerAdministration <> nil) then
    tgt.maxDosePerAdministration := convertSimpleQuantity3(src.maxDosePerAdministration);

  if (src.maxDosePerLifetime <> nil) then
    tgt.maxDosePerLifetime := convertSimpleQuantity3(src.maxDosePerLifetime);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDosage4(src : fhir4_types.TFhirDosage) : fhir3_types.TFhirDosage;
var
  tgt : fhir3_types.TFhirDosage;
  t : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirDosage.Create();
  try
  copyElement4(src, tgt);
  tgt.sequence := src.sequence;

  if (src.text <> '') then
    tgt.text := src.text;

  for t in src.additionalInstructionList do
  begin
    tgt.additionalInstructionList.add(convertCodeableConcept4(t));
  end;
  if (src.patientInstruction <> '') then
    tgt.patientInstruction := src.patientInstruction;

  if (src.timing <> nil) then
    tgt.timing := convertTiming4(src.timing);

  if (src.asNeeded <> nil) then
    tgt.asNeeded := convertType4(src.asNeeded);

  if (src.site <> nil) then
    tgt.site := convertCodeableConcept4(src.site);

  if (src.route <> nil) then
    tgt.route := convertCodeableConcept4(src.route);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept4(src.method);

  if (src.DoseAndRateList <> nil) and (src.DoseAndRateList[0].Dose <> nil) then
    tgt.dose := convertType4(src.DoseAndRateList[0].dose);

  if (src.maxDosePerPeriod <> nil) then
    tgt.maxDosePerPeriod := convertRatio4(src.maxDosePerPeriod);

  if (src.maxDosePerAdministration <> nil) then
    tgt.maxDosePerAdministration := convertSimpleQuantity4(src.maxDosePerAdministration);

  if (src.maxDosePerLifetime <> nil) then
    tgt.maxDosePerLifetime := convertSimpleQuantity4(src.maxDosePerLifetime);

  if (src.DoseAndRateList <> nil) and (src.DoseAndRateList[0].Rate <> nil) then
    tgt.rate := convertType4(src.DoseAndRateList[0].rate);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinition3(src : fhir3_types.TFhirElementDefinition) : fhir4_types.TFhirElementDefinition;
var
  tgt : fhir4_types.TFhirElementDefinition;
  t : fhir3_types.TFhirPropertyRepresentationEnum;
  a : fhir4_types.TFhirPropertyRepresentationEnumList;
  t1 : fhir3_types.TFhirCoding;
  t2 : fhir3_types.TFhirString;
  t3 : fhir3_types.TFhirElementDefinitionType;
  t4 : fhir3_types.TFhirElementDefinitionExample;
  t6 : fhir3_types.TFhirId;
  t7 : fhir3_types.TFhirElementDefinitionConstraint;
  reason : String;
  t8 : fhir3_types.TFhirElementDefinitionMapping;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirElementDefinition.Create();
  try
  copyElement3(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  a := [];
  for t := low(fhir3_types.TFhirPropertyRepresentationEnum) to high(fhir3_types.TFhirPropertyRepresentationEnum) do
    if t in src.representation then
      a := a + [convertPropertyRepresentation3(t)];
  tgt.representation := a;

  if (src.sliceName <> '') then
    tgt.sliceName := src.sliceName;

  if (src.label_ <> '') then
    tgt.label_ := src.label_;

  for t1 in src.codeList do
  begin
    tgt.codeList.add(convertCoding3(t1));
  end;
  if (src.slicing <> nil) then
    tgt.slicing := convertElementDefinitionSlicingComponent3(src.slicing);

  if (src.short <> '') then
    tgt.short := src.short;

  if (src.definition <> '') then
    tgt.definition := src.definition;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  if (src.requirements <> '') then
    tgt.requirements := src.requirements;

  for t2 in src.aliasList do
  begin
    tgt.aliasList.add(t2.value);
  end;
  tgt.min := src.min;
  tgt.max := src.max;

  if (src.base <> nil) then
    tgt.base := convertElementDefinitionBaseComponent3(src.base);

  if (src.contentReference <> '') then
    tgt.contentReference := src.contentReference;

  for t3 in src.type_List do
  begin
    convertTypeRefComponent3(t3, tgt.type_List);
  end;
  if (src.defaultValue <> nil) then
    tgt.defaultValue := convertType3(src.defaultValue);

  if (src.meaningWhenMissing <> '') then
    tgt.meaningWhenMissing := src.meaningWhenMissing;

  if (src.orderMeaning <> '') then
    tgt.orderMeaning := src.orderMeaning;

  if (src.fixed <> nil) then
    tgt.fixed := convertType3(src.fixed);

  if (src.pattern <> nil) then
    tgt.pattern := convertType3(src.pattern);

  for t4 in src.exampleList do
  begin
    tgt.exampleList.add(convertElementDefinitionExampleComponent3(t4));
  end;
  if (src.minValue <> nil) then
    tgt.minValue := convertType3(src.minValue);

  if (src.maxValue <> nil) then
    tgt.maxValue := convertType3(src.maxValue);

  tgt.maxLength := src.maxLength;

  for t6 in src.conditionList do
  begin
    tgt.conditionList.add(t6.link);
  end;
  for t7 in src.constraintList do
  begin
    tgt.constraintList.add(convertElementDefinitionConstraintComponent3(t7));
  end;
  tgt.mustSupport := src.mustSupport;
  tgt.isModifier := src.isModifier;

  if (tgt.isModifier) then
  begin
    reason := src.getExtensionString('http://hl7.org/fhir/tooling/StructureDefinition/r4ModifierReason');
    if (reason <> '') then
      reason := 'No Modifier Reason provideed in previous versions of FHIR';
    tgt.IsModifierReason := reason;
  end;

  tgt.isSummary := src.isSummary;

  if (src.binding <> nil) then
    tgt.binding := convertElementDefinitionBindingComponent3(src.binding);

  for t8 in src.mappingList do
  begin
    tgt.mappingList.add(convertElementDefinitionMappingComponent3(t8));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinition4(src : fhir4_types.TFhirElementDefinition) : fhir3_types.TFhirElementDefinition;
var
  tgt : fhir3_types.TFhirElementDefinition;
  t : fhir4_types.TFhirPropertyRepresentationEnum;
  a : fhir3_types.TFhirPropertyRepresentationEnumList;
  t1 : fhir4_types.TFhirCoding;
  t2 : fhir4_types.TFhirString;
  t3 : fhir4_types.TFhirElementDefinitionType;
  t4 : fhir4_types.TFhirElementDefinitionExample;
  t5 : fhir4_types.TFhirId;
  t6 : fhir4_types.TFhirElementDefinitionConstraint;
  t7 : fhir4_types.TFhirElementDefinitionMapping;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirElementDefinition.Create();
  try
  copyElement4(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  a := [];
  for t := low(fhir4_types.TFhirPropertyRepresentationEnum) to high(fhir4_types.TFhirPropertyRepresentationEnum) do
    if t in src.representation then
      a := a + [convertPropertyRepresentation4(t)];
  tgt.representation := a;

  if (src.sliceName <> '') then
    tgt.sliceName := src.sliceName;

  if (src.label_ <> '') then
    tgt.label_ := src.label_;

  for t1 in src.codeList do
  begin
    tgt.codeList.add(convertCoding4(t1));
  end;
  if (src.slicing <> nil) then
    tgt.slicing := convertElementDefinitionSlicingComponent4(src.slicing);

  if (src.short <> '') then
    tgt.short := src.short;

  if (src.definition <> '') then
    tgt.definition := src.definition;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  if (src.requirements <> '') then
    tgt.requirements := src.requirements;

  for t2 in src.aliasList do
  begin
    tgt.aliasList.add(t2.value);
  end;
  tgt.min := src.min;
  tgt.max := src.max;

  if (src.base <> nil) then
    tgt.base := convertElementDefinitionBaseComponent4(src.base);

  if (src.contentReference <> '') then
    tgt.contentReference := src.contentReference;

  for t3 in src.type_List do
  begin
    convertTypeRefComponent4(t3, tgt.Type_List);
  end;
  if (src.defaultValue <> nil) then
    tgt.defaultValue := convertType4(src.defaultValue);

  if (src.meaningWhenMissing <> '') then
    tgt.meaningWhenMissing := src.meaningWhenMissing;

  if (src.orderMeaning <> '') then
    tgt.orderMeaning := src.orderMeaning;

  if (src.fixed <> nil) then
    tgt.fixed := convertType4(src.fixed);

  if (src.pattern <> nil) then
    tgt.pattern := convertType4(src.pattern);

  for t4 in src.exampleList do
  begin
    tgt.exampleList.add(convertElementDefinitionExampleComponent4(t4));
  end;
  if (src.minValue <> nil) then
    tgt.minValue := convertType4(src.minValue);

  tgt.maxValue := convertType4(src.maxValue);

  tgt.maxLength := src.maxLength;

  for t5 in src.conditionList do
  begin
    tgt.conditionList.add(t5.link);
  end;
  for t6 in src.constraintList do
  begin
    tgt.constraintList.add(convertElementDefinitionConstraintComponent4(t6));
  end;
  tgt.mustSupport := src.mustSupport;
  tgt.isModifier := src.isModifier;

  if (src.IsModifierReason <> '') and (src.IsModifierReason <> 'No Modifier Reason provideed in previous versions of FHIR') then
    tgt.setExtensionString('http://hl7.org/fhir/tooling/StructureDefinition/r4ModifierReason', src.IsModifierReason);

  tgt.isSummary := src.isSummary;

  if (src.binding <> nil) then
    tgt.binding := convertElementDefinitionBindingComponent4(src.binding);

  for t7 in src.mappingList do
  begin
    tgt.mappingList.add(convertElementDefinitionMappingComponent4(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionSlicingComponent3(src : fhir3_types.TFhirElementDefinitionSlicing) : fhir4_types.TFhirElementDefinitionSlicing;
var
  tgt : fhir4_types.TFhirElementDefinitionSlicing;
  t : fhir3_types.TFhirElementDefinitionSlicingDiscriminator;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirElementDefinitionSlicing.Create();
  try
  copyElement3(src, tgt);
  for t in src.discriminatorList do
  begin
    tgt.discriminatorList.add(convertElementDefinitionSlicingDiscriminatorComponent3(t));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  tgt.ordered := src.ordered;
  tgt.rules := convertSlicingRules3(src.rules);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionSlicingComponent4(src : fhir4_types.TFhirElementDefinitionSlicing) : fhir3_types.TFhirElementDefinitionSlicing;
var
  tgt : fhir3_types.TFhirElementDefinitionSlicing;
  t : fhir4_types.TFhirElementDefinitionSlicingDiscriminator;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirElementDefinitionSlicing.Create();
  try
  copyElement4(src, tgt);
  for t in src.discriminatorList do
  begin
    tgt.discriminatorList.add(convertElementDefinitionSlicingDiscriminatorComponent4(t));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  tgt.ordered := src.ordered;
  tgt.rules := convertSlicingRules4(src.rules);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionSlicingDiscriminatorComponent3(src : fhir3_types.TFhirElementDefinitionSlicingDiscriminator) : fhir4_types.TFhirElementDefinitionSlicingDiscriminator;
var
  tgt : fhir4_types.TFhirElementDefinitionSlicingDiscriminator;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirElementDefinitionSlicingDiscriminator.Create();
  try
  copyElement3(src, tgt);
  tgt.type_ := convertDiscriminatorType3(src.type_);
  tgt.path := src.path;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionSlicingDiscriminatorComponent4(src : fhir4_types.TFhirElementDefinitionSlicingDiscriminator) : fhir3_types.TFhirElementDefinitionSlicingDiscriminator;
var
  tgt : fhir3_types.TFhirElementDefinitionSlicingDiscriminator;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirElementDefinitionSlicingDiscriminator.Create();
  try
  copyElement4(src, tgt);
  tgt.type_ := convertDiscriminatorType4(src.type_);
  tgt.path := src.path;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionBaseComponent3(src : fhir3_types.TFhirElementDefinitionBase) : fhir4_types.TFhirElementDefinitionBase;
var
  tgt : fhir4_types.TFhirElementDefinitionBase;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirElementDefinitionBase.Create();
  try
  copyElement3(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  tgt.min := src.min;

  if (src.max <> '') then
    tgt.max := src.max;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionBaseComponent4(src : fhir4_types.TFhirElementDefinitionBase) : fhir3_types.TFhirElementDefinitionBase;
var
  tgt : fhir3_types.TFhirElementDefinitionBase;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirElementDefinitionBase.Create();
  try
  copyElement4(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  tgt.min := src.min;

  if (src.max <> '') then
    tgt.max := src.max;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class procedure TVersionConvertor_30_40.convertTypeRefComponent3(src : fhir3_types.TFhirElementDefinitionType; list : fhir4_types.TFhirElementDefinitionTypeList);
var
  tgt : fhir4_types.TFhirElementDefinitionType;
  t1 : fhir4_types.TFhirElementDefinitionType;
  t : fhir3_types.TFhirResourceAggregationModeEnum;
  a : fhir4_types.TFhirResourceAggregationModeEnumList;
begin
  if (src = nil) then
    exit();

  tgt := nil;
  for t1 in list do
  begin
    if (t1.code = src.code) then
      tgt := t1;
  end;
  if (tgt = nil) then
  begin
    tgt := TFhirElementDefinitionType.Create();
    list.add(tgt);
    copyElement3(src, tgt);
    tgt.code := src.code;
  end;

  if (src.profile <> '') then
    tgt.profileList.add(fhir4_types.TFHIRCanonical.Create(src.profile));

  if (src.targetProfile <> '') then
    tgt.targetProfileList.add(fhir4_types.TFHIRCanonical.Create(src.targetProfile));

  a := tgt.aggregation;
  for t := low(fhir3_types.TFhirResourceAggregationModeEnum) to high(fhir3_types.TFhirResourceAggregationModeEnum) do
    if t in src.aggregation then
      a := a + [convertAggregationMode3(t)];
  tgt.aggregation := a;

  tgt.versioning := convertReferenceVersionRules3(src.versioning);
end;

class procedure TVersionConvertor_30_40.convertTypeRefComponent4(src : fhir4_types.TFhirElementDefinitionType; list : fhir3_types.TFhirElementDefinitionTypeList);
var
  tgt : fhir3_types.TFhirElementDefinitionType;
  u : fhir4_types.TFhirUri;
begin
  if (src = nil) then
    exit();
  tgt := fhir3_types.TFhirElementDefinitionType.Create();
  copyElement4(src, tgt);
  tgt.code := src.code;
  list.add(tgt);
  if (src.targetProfileList.Count > 0) then
  begin
    if (src.profileList.count > 0) then
      tgt.profile := src.ProfileList[0].value;

    for u in src.targetProfileList do
    begin
      if (tgt.targetProfile <> '') then
      begin
        tgt := fhir3_types.TFhirElementDefinitionType.Create();
        list.add(tgt);
        copyElement4(src, tgt);
        tgt.code := src.code;
        if (src.profileList.count > 0) then
          tgt.profile := src.ProfileList[0].value;
        tgt.targetProfile := u.value;
      end;
    end;
  end
  else
  begin
    for u in src.profileList do
    begin
      if (tgt.profile <> '') then
      begin
        tgt := fhir3_types.TFhirElementDefinitionType.Create();
        list.add(tgt);
        copyElement4(src, tgt);
        tgt.code := src.code;
      end;
      tgt.profile := u.value;
    end;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionExampleComponent3(src : fhir3_types.TFhirElementDefinitionExample) : fhir4_types.TFhirElementDefinitionExample;
var
  tgt : fhir4_types.TFhirElementDefinitionExample;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirElementDefinitionExample.Create();
  try
  copyElement3(src, tgt);
  if (src.label_ <> '') then
    tgt.label_ := src.label_;

  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionExampleComponent4(src : fhir4_types.TFhirElementDefinitionExample) : fhir3_types.TFhirElementDefinitionExample;
var
  tgt : fhir3_types.TFhirElementDefinitionExample;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirElementDefinitionExample.Create();
  try
  copyElement4(src, tgt);
  if (src.label_ <> '') then
    tgt.label_ := src.label_;

  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionConstraintComponent3(src : fhir3_types.TFhirElementDefinitionConstraint) : fhir4_types.TFhirElementDefinitionConstraint;
var
  tgt : fhir4_types.TFhirElementDefinitionConstraint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirElementDefinitionConstraint.Create();
  try
  copyElement3(src, tgt);
  if (src.key <> '') then
    tgt.key := src.key;

  if (src.requirements <> '') then
    tgt.requirements := src.requirements;

  tgt.severity := convertConstraintSeverity3(src.severity);

  if (src.human <> '') then
    tgt.human := src.human;

  if (src.expression <> '') then
    tgt.expression := src.expression;

  if (src.xpath <> '') then
    tgt.xpath := src.xpath;

  if (src.source <> '') then
    tgt.source := src.source;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionConstraintComponent4(src : fhir4_types.TFhirElementDefinitionConstraint) : fhir3_types.TFhirElementDefinitionConstraint;
var
  tgt : fhir3_types.TFhirElementDefinitionConstraint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirElementDefinitionConstraint.Create();
  try
  copyElement4(src, tgt);
  if (src.key <> '') then
    tgt.key := src.key;

  if (src.requirements <> '') then
    tgt.requirements := src.requirements;

   tgt.severity := convertConstraintSeverity4(src.severity);

  if (src.human <> '') then
    tgt.human := src.human;

  if (src.expression <> '') then
    tgt.expression := src.expression;

  if (src.xpath <> '') then
    tgt.xpath := src.xpath;

  if (src.source <> '') then
    tgt.source := src.source;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionBindingComponent3(src : fhir3_types.TFhirElementDefinitionBinding) : fhir4_types.TFhirElementDefinitionBinding;
var
  tgt : fhir4_types.TFhirElementDefinitionBinding;
  vs : fhir4_types.TFhirType;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirElementDefinitionBinding.Create();
  try
  copyElement3(src, tgt);
  tgt.strength := convertBindingStrength3(src.strength);

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.valueSet <> nil) then
  begin
    vs := convertType3(src.ValueSet);
    try
      if (vs is fhir4_types.TFhirReference) then
        tgt.ValueSet := fhir4_types.TFhirReference(vs).Reference
      else
        tgt.ValueSet := vs.primitiveValue;
      tgt.ValueSet := refToVS(tgt.valueSet);
    finally
      vs.free;
    end;
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionBindingComponent4(src : fhir4_types.TFhirElementDefinitionBinding) : fhir3_types.TFhirElementDefinitionBinding;
var
  tgt : fhir3_types.TFhirElementDefinitionBinding;
  s : String;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirElementDefinitionBinding.Create();
  try
  copyElement4(src, tgt);
  tgt.strength := convertBindingStrength4(src.strength);

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.valueSet <> '') then
  begin
    s := vsToRef(src.valueSet);
    if s <> '' then
      tgt.ValueSet := fhir3_types.TFHIRUri.Create(s)
    else
      tgt.ValueSet := fhir3_types.TFHIRReference.Create(src.ValueSet);
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionMappingComponent3(src : fhir3_types.TFhirElementDefinitionMapping) : fhir4_types.TFhirElementDefinitionMapping;
var
  tgt : fhir4_types.TFhirElementDefinitionMapping;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirElementDefinitionMapping.Create();
  try
  copyElement3(src, tgt);
  if (src.identity <> '') then
    tgt.identity := src.identity;

  if (src.language <> '') then
    tgt.language := src.language;

  if (src.map <> '') then
    tgt.map := src.map;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertElementDefinitionMappingComponent4(src : fhir4_types.TFhirElementDefinitionMapping) : fhir3_types.TFhirElementDefinitionMapping;
var
  tgt : fhir3_types.TFhirElementDefinitionMapping;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirElementDefinitionMapping.Create();
  try
  copyElement4(src, tgt);
  if (src.identity <> '') then
    tgt.identity := src.identity;

  if (src.language <> '') then
    tgt.language := src.language;

  if (src.map <> '') then
    tgt.map := src.map;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertHumanName3(src : fhir3_types.TFhirHumanName) : fhir4_types.TFhirHumanName;
var
  tgt : fhir4_types.TFhirHumanName;
  t1 : fhir3_types.TFhirString;
  t2 : fhir3_types.TFhirString;
  t3 : fhir3_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirHumanName.Create();
  try
  copyElement3(src, tgt);
  tgt.use := convertNameUse3(src.use);

  if (src.text <> '') then
    tgt.text := src.text;

  if (src.family <> '') then
    tgt.family := src.family;

  for t1 in src.givenList do
  begin
    tgt.givenList.add(convertString3(t1));
  end;
  for t2 in src.prefixList do
  begin
    tgt.prefixList.add(convertString3(t2));
  end;
  for t3 in src.suffixList do
  begin
    tgt.suffixList.add(convertString3(t3));
  end;
  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertHumanName4(src : fhir4_types.TFhirHumanName) : fhir3_types.TFhirHumanName;
var
  tgt : fhir3_types.TFhirHumanName;
  t : fhir4_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirHumanName.Create();
  try
  copyElement4(src, tgt);
  tgt.use := convertNameUse4(src.use);

  if (src.text <> '') then
    tgt.text := src.text;

  if (src.family <> '') then
    tgt.family := src.family;

  for t in src.givenList do
  begin
    tgt.givenList.add(convertString4(t));
  end;
  for t in src.prefixList do
  begin
    tgt.prefixList.add(convertString4(t));
  end;
  for t in src.suffixList do
  begin
    tgt.suffixList.add(convertString4(t));
  end;
  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMeta3(src : fhir3_types.TFhirMeta) : fhir4_types.TFhirMeta;
var
  tgt : fhir4_types.TFhirMeta;
  t1 : fhir3_types.TFhirUri;
  t2 : fhir3_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirMeta.Create();
  try
  copyElement3(src, tgt);
  if (src.versionId <> '') then
    tgt.versionId := src.versionId;

  tgt.lastUpdated := src.lastUpdated;

  for t1 in src.profileList do
  begin
    tgt.profileList.add(convertUriToCanonical3(t1));
  end;
  for t2 in src.securityList do
  begin
    tgt.securityList.add(convertCoding3(t2));
  end;
  for t2 in src.tagList do
  begin
    tgt.tagList.add(convertCoding3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMeta4(src : fhir4_types.TFhirMeta) : fhir3_types.TFhirMeta;
var
  tgt : fhir3_types.TFhirMeta;
  t1 : fhir4_types.TFhirUri;
  t2 : fhir4_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirMeta.Create();
  try
  copyElement4(src, tgt);
  if (src.versionId <> '') then
    tgt.versionId := src.versionId;

  tgt.lastUpdated := src.lastUpdated;

  for t1 in src.profileList do
  begin
    tgt.profileList.add(convertUri4(t1));
  end;
  for t2 in src.securityList do
  begin
    tgt.securityList.add(convertCoding4(t2));
  end;
  for t2 in src.tagList do
  begin
    tgt.tagList.add(convertCoding4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertParameterDefinition3(src : fhir3_types.TFhirParameterDefinition) : fhir4_types.TFhirParameterDefinition;
var
  tgt : fhir4_types.TFhirParameterDefinition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirParameterDefinition.Create();
  try
  copyElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  tgt.use := convertParameterUse3(src.use);

  tgt.min := src.min;

  tgt.max := src.max;

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  tgt.type_element := convertType3(src.type_Element) as fhir4_types.TFHIREnum;

  if (src.profile <> nil) then
      tgt.profile := convertReference3(src.Profile).reference;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertParameterDefinition4(src : fhir4_types.TFhirParameterDefinition) : fhir3_types.TFhirParameterDefinition;
var
  tgt : fhir3_types.TFhirParameterDefinition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirParameterDefinition.Create();
  try
  copyElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  tgt.use := convertParameterUse4(src.use);

  tgt.min := src.min;

  tgt.max := src.max;

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  tgt.type_element := convertType4(src.type_Element) as fhir3_types.TFHIREnum;

  if (src.profile <> '') then
    tgt.Profile := fhir3_types.TFhirReference.Create(src.Profile);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertRelatedArtifact3(src : fhir3_types.TFhirRelatedArtifact) : fhir4_types.TFhirRelatedArtifact;
var
  tgt : fhir4_types.TFhirRelatedArtifact;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirRelatedArtifact.Create();
  try
  copyElement3(src, tgt);
  tgt.type_ := convertRelatedArtifactType3(src.type_);

  if (src.display <> '') then
    tgt.display := src.display;

  if (src.citation <> '') then
    tgt.citation := src.citation;

  if (src.url <> '') then
    tgt.url := src.url;

  if (src.document <> nil) then
    tgt.document := convertAttachment3(src.document);

  if (src.resource <> nil) then
    tgt.resourceElement := convertReferenceToCanonical3(src.resource);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertRelatedArtifact4(src : fhir4_types.TFhirRelatedArtifact) : fhir3_types.TFhirRelatedArtifact;
var
  tgt : fhir3_types.TFhirRelatedArtifact;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirRelatedArtifact.Create();
  try
  copyElement4(src, tgt);
  tgt.type_ := convertRelatedArtifactType4(src.type_);

  if (src.display <> '') then
    tgt.display := src.display;

  if (src.citation <> '') then
    tgt.citation := src.citation;

  if (src.url <> '') then
    tgt.url := src.url;

  if (src.document <> nil) then
    tgt.document := convertAttachment4(src.document);

  if (src.resource <> '') then
    tgt.resource := convertCanonicalToReference4(src.resourceElement);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertTiming3(src : fhir3_types.TFhirTiming) : fhir4_types.TFhirTiming;
var
  tgt : fhir4_types.TFhirTiming;
  t : fhir3_types.TFhirDateTime;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirTiming.Create();
  try
  copyElement3(src, tgt);
  for t in src.eventList do
  begin
    tgt.eventList.add(convertDateTime3(t));
  end;
  if (src.repeat_ <> nil) then
    tgt.repeat_ := convertTimingRepeatComponent3(src.repeat_);

  if (src.code <> nil) then
    tgt.code := convertCodeableConcept3(src.code);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertTiming4(src : fhir4_types.TFhirTiming) : fhir3_types.TFhirTiming;
var
  tgt : fhir3_types.TFhirTiming;
  t : fhir4_types.TFhirDateTime;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirTiming.Create();
  try
  copyElement4(src, tgt);
  for t in src.eventList do
  begin
    tgt.eventList.add(convertDateTime4(t));
  end;
  if (src.repeat_ <> nil) then
    tgt.repeat_ := convertTimingRepeatComponent4(src.repeat_);

  if (src.code <> nil) then
    tgt.code := convertCodeableConcept4(src.code);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertTimingRepeatComponent3(src : fhir3_types.TFhirTimingRepeat) : fhir4_types.TFhirTimingRepeat;
var
  tgt : fhir4_types.TFhirTimingRepeat;
  t : fhir3_types.TFhirDaysOfWeekEnum;
  a : fhir4_types.TFhirDaysOfWeekEnumList;
  t1 : fhir3_types.TFhirTime;
  t2 : fhir3_types.TFhirEventTimingEnum;
  a2 : fhir4_types.TFhirEventTimingEnumList;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirTimingRepeat.Create();
  try
  copyElement3(src, tgt);
  if (src.bounds <> nil) then
    tgt.bounds := convertType3(src.bounds);

  tgt.count := src.count;
  tgt.countMax := src.countMax;
  tgt.duration := src.duration;
  tgt.durationMax := src.durationMax;
  tgt.durationUnit := convertUnitsOfTime3(src.durationUnit);
  tgt.frequency := src.frequency;
  tgt.frequencyMax := src.frequencyMax;
  tgt.period := src.period;
  tgt.periodMax := src.periodMax;
  tgt.periodUnit := convertUnitsOfTime3(src.periodUnit);

  a := [];
  for t := low(fhir3_types.TFhirDaysOfWeekEnum) to high(fhir3_types.TFhirDaysOfWeekEnum) do
    if t in src.dayOfWeek then
      a := a + [convertDayOfWeek3(t)];
  tgt.dayOfWeek := a;

  for t1 in src.timeOfDayList do
    tgt.timeOfDayList.add(convertTime3(t1));

  a2 := [];
  for t2 := low(fhir3_types.TFhirEventTimingEnum) to high(fhir3_types.TFhirEventTimingEnum) do
    if t2 in src.when then
      a2 := a2 + [convertEventTiming3(t2)];
  tgt.When := a2;
  tgt.offset := src.offset;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertTimingRepeatComponent4(src : fhir4_types.TFhirTimingRepeat) : fhir3_types.TFhirTimingRepeat;
var
  tgt : fhir3_types.TFhirTimingRepeat;
  t : fhir4_types.TFhirDaysOfWeekEnum;
  a : fhir3_types.TFhirDaysOfWeekEnumList;
  t1 : fhir4_types.TFhirTime;
  t2 : fhir4_types.TFhirEventTimingEnum;
  a2 : fhir3_types.TFhirEventTimingEnumList;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirTimingRepeat.Create();
  try
  copyElement4(src, tgt);
  if (src.bounds <> nil) then
    tgt.bounds := convertType4(src.bounds);

  tgt.count := src.count;
  tgt.countMax := src.countMax;
  tgt.duration := src.duration;
  tgt.durationMax := src.durationMax;
  tgt.durationUnit := convertUnitsOfTime4(src.durationUnit);
  tgt.frequency := src.frequency;
  tgt.frequencyMax := src.frequencyMax;
  tgt.period := src.period;
  tgt.periodMax := src.periodMax;
  tgt.periodUnit := convertUnitsOfTime4(src.periodUnit);

  a := [];
  for t := low(fhir4_types.TFhirDaysOfWeekEnum) to high(fhir4_types.TFhirDaysOfWeekEnum) do
    if t in src.dayOfWeek then
      a := a + [convertDayOfWeek4(t)];
  tgt.dayOfWeek := a;

  for t1 in src.timeOfDayList do
    tgt.timeOfDayList.add(convertTime4(t1));

  a2 := [];
  for t2 := low(fhir4_types.TFhirEventTimingEnum) to high(fhir4_types.TFhirEventTimingEnum) do
    if t2 in src.when then
      a2 := a2 + [convertEventTiming4(t2)];
  tgt.When := a2;
  tgt.offset := src.offset;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUsageContext3(src : fhir3_types.TFhirUsageContext) : fhir4_types.TFhirUsageContext;
var
  tgt : fhir4_types.TFhirUsageContext;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirUsageContext.Create();
  try
  copyElement3(src, tgt);
  if (src.code <> nil) then
    tgt.code := convertCoding3(src.code);

  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUsageContext4(src : fhir4_types.TFhirUsageContext) : fhir3_types.TFhirUsageContext;
var
  tgt : fhir3_types.TFhirUsageContext;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirUsageContext.Create();
  try
  copyElement4(src, tgt);
  if (src.code <> nil) then
    tgt.code := convertCoding4(src.code);

  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSimpleQuantity3(src : fhir3_types.TFhirQuantity) : fhir4_types.TFhirQuantity;
var
  tgt : fhir4_types.TFhirQuantity;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirQuantity.Create();
  try
  copyElement3(src, tgt);
  tgt.value := src.value;
  tgt.comparator := convertQuantityComparator3(src.comparator);
  tgt.unit_ := src.unit_;
  tgt.system := src.system;
  tgt.code := src.code;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSimpleQuantity4(src : fhir4_types.TFhirQuantity) : fhir3_types.TFhirQuantity;
var
  tgt : fhir3_types.TFhirQuantity;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirQuantity.Create();
  try
  copyElement4(src, tgt);
  tgt.value := src.value;
  tgt.comparator := convertQuantityComparator4(src.comparator);
  tgt.unit_ := src.unit_;
  tgt.system := src.system;
  tgt.code := src.code;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertTriggerDefinition3(src : fhir3_types.TFhirTriggerDefinition) : fhir4_types.TFhirTriggerDefinition;
var
  tgt : fhir4_types.TFhirTriggerDefinition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirTriggerDefinition.Create();
  try
  copyElement3(src, tgt);
  tgt.type_ := convertTriggerType3(src.type_);

  if (src.eventName <> '') then
    tgt.name := src.eventName;

  if (src.eventTiming <> nil) then
    tgt.timing := convertType3(src.eventTiming);

  if (src.eventData <> nil) then
    tgt.dataList.Add(convertDataRequirement3(src.eventData));

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertTriggerDefinition4(src : fhir4_types.TFhirTriggerDefinition) : fhir3_types.TFhirTriggerDefinition;
var
  tgt : fhir3_types.TFhirTriggerDefinition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirTriggerDefinition.Create();
  try
  copyElement4(src, tgt);
  tgt.type_ := convertTriggerType4(src.type_);

  if (src.name <> '') then
    tgt.eventName := src.name;

  if (src.timing <> nil) then
    tgt.eventTiming := convertType4(src.timing);

  if (src.dataList.Count > 0) then
    tgt.eventData := convertDataRequirement4(src.dataList[0]);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDataRequirement3(src : fhir3_types.TFhirDataRequirement) : fhir4_types.TFhirDataRequirement;
var
  tgt : fhir4_types.TFhirDataRequirement;
  t1 : fhir3_types.TFhirUri;
  t2 : fhir3_types.TFhirString;
  t3 : fhir3_types.TFhirDataRequirementCodeFilter;
  t4 : fhir3_types.TFhirDataRequirementDateFilter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirDataRequirement.Create();
  try
  copyElement3(src, tgt);
  tgt.type_element := convertType3(src.type_Element) as fhir4_types.TFHIREnum;

  for t1 in src.profileList do
  begin
    tgt.profileList.add(convertUri3(t1));
  end;
  for t2 in src.mustSupportList do
  begin
    tgt.mustSupportList.add(convertString3(t2));
  end;
  for t3 in src.codeFilterList do
  begin
    tgt.codeFilterList.add(convertDataRequirementCodeFilterComponent3(t3));
  end;
  for t4 in src.dateFilterList do
  begin
    tgt.dateFilterList.add(convertDataRequirementDateFilterComponent3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDataRequirement4(src : fhir4_types.TFhirDataRequirement) : fhir3_types.TFhirDataRequirement;
var
  tgt : fhir3_types.TFhirDataRequirement;
  t1 : fhir4_types.TFhirUri;
  t2 : fhir4_types.TFhirString;
  t3 : fhir4_types.TFhirDataRequirementCodeFilter;
  t4 : fhir4_types.TFhirDataRequirementDateFilter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirDataRequirement.Create();
  try
  copyElement4(src, tgt);
  tgt.type_element := convertType4(src.type_Element) as fhir3_types.TFHIREnum;

  for t1 in src.profileList do
  begin
    tgt.profileList.add(convertUri4(t1));
  end;
  for t2 in src.mustSupportList do
  begin
    tgt.mustSupportList.add(convertString4(t2));
  end;
  for t3 in src.codeFilterList do
  begin
    tgt.codeFilterList.add(convertDataRequirementCodeFilterComponent4(t3));
  end;
  for t4 in src.dateFilterList do
  begin
    tgt.dateFilterList.add(convertDataRequirementDateFilterComponent4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDataRequirementCodeFilterComponent3(src : fhir3_types.TFhirDataRequirementCodeFilter) : fhir4_types.TFhirDataRequirementCodeFilter;
var
  tgt : fhir4_types.TFhirDataRequirementCodeFilter;
  vs : fhir4_types.TFhirType;
  t2 : fhir3_types.TFhirCode;
  t3 : fhir3_types.TFhirCoding;
  t4 : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirDataRequirementCodeFilter.Create();
  try
  copyElement3(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  if (src.valueSet <> nil) then
  begin
    vs := convertType3(src.ValueSet);
    try
      if (vs is fhir4_types.TFhirReference) then
        tgt.ValueSet := fhir4_types.TFhirReference(vs).Reference
      else
        tgt.ValueSet := vs.primitiveValue;
      tgt.ValueSet := refToVS(tgt.valueSet);
    finally
      vs.free;
    end;
  end;

  for t2 in src.valueCodeList do
  begin
    tgt.codeList.add(convertCoding3(t2));
  end;
  for t3 in src.valueCodingList do
  begin
    tgt.codeList.add(convertCoding3(t3));
  end;
  for t4 in src.valueCodeableConceptList do
  begin
    tgt.codeList.add(convertCodeableConceptToCoding3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDataRequirementCodeFilterComponent4(src : fhir4_types.TFhirDataRequirementCodeFilter) : fhir3_types.TFhirDataRequirementCodeFilter;
var
  tgt : fhir3_types.TFhirDataRequirementCodeFilter;
  t : fhir4_types.TFhirCoding;
  s : String;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirDataRequirementCodeFilter.Create();
  try
  copyElement4(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  if (src.valueSet <> '') then
  begin
    s := vsToRef(src.valueSet);
    if s <> '' then
      tgt.ValueSet := fhir3_types.TFHIRUri.Create(s)
    else
      tgt.ValueSet := fhir3_types.TFHIRReference.Create(src.ValueSet);
  end;

  for t in src.codeList do
  begin
      tgt.valueCodingList.add(convertCoding4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDataRequirementDateFilterComponent3(src : fhir3_types.TFhirDataRequirementDateFilter) : fhir4_types.TFhirDataRequirementDateFilter;
var
  tgt : fhir4_types.TFhirDataRequirementDateFilter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirDataRequirementDateFilter.Create();
  try
  copyElement3(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDataRequirementDateFilterComponent4(src : fhir4_types.TFhirDataRequirementDateFilter) : fhir3_types.TFhirDataRequirementDateFilter;
var
  tgt : fhir3_types.TFhirDataRequirementDateFilter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_types.TFhirDataRequirementDateFilter.Create();
  try
  copyElement4(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertType3(src : fhir3_types.TFhirType) : fhir4_types.TFhirType;
begin
  if (src = nil) then
    exit(nil);
  if (src is fhir3_types.TFhirBase64Binary) then
    exit(convertBase64Binary3(src as fhir3_types.TFhirBase64Binary));
  if (src is fhir3_types.TFhirBoolean) then
    exit(convertBoolean3(src as fhir3_types.TFhirBoolean));
  if (src is fhir3_types.TFhirCode) then
    exit(convertCode3(src as fhir3_types.TFhirCode));
  if (src is fhir3_types.TFhirEnum) then
    exit(convertCode3(src as fhir3_types.TFhirEnum));
  if (src is fhir3_types.TFhirDate) then
    exit(convertDate3(src as fhir3_types.TFhirDate));
  if (src is fhir3_types.TFhirDateTime) then
    exit(convertDateTime3(src as fhir3_types.TFhirDateTime));
  if (src is fhir3_types.TFhirDecimal) then
    exit(convertDecimal3(src as fhir3_types.TFhirDecimal));
  if (src is fhir3_types.TFhirId) then
    exit(convertId3(src as fhir3_types.TFhirId));
  if (src is fhir3_types.TFhirInstant) then
    exit(convertInstant3(src as fhir3_types.TFhirInstant));
  if (src is fhir3_types.TFhirInteger) then
    exit(convertInteger3(src as fhir3_types.TFhirInteger));
  if (src is fhir3_types.TFhirMarkdown) then
    exit(convertMarkdown3(src as fhir3_types.TFhirMarkdown));
  if (src is fhir3_types.TFhirOid) then
    exit(convertOid3(src as fhir3_types.TFhirOid));
  if (src is fhir3_types.TFhirPositiveInt) then
    exit(convertPositiveInt3(src as fhir3_types.TFhirPositiveInt));
  if (src is fhir3_types.TFHIRString) then
    exit(convertString3(src as fhir3_types.TFHIRString));
  if (src is fhir3_types.TFhirTime) then
    exit(convertTime3(src as fhir3_types.TFhirTime));
  if (src is fhir3_types.TFhirUnsignedInt) then
    exit(convertUnsignedInt3(src as fhir3_types.TFhirUnsignedInt));
  if (src is fhir3_types.TFhirUri) then
    exit(convertUri3(src as fhir3_types.TFhirUri));
  if (src is fhir3_types.TFhirUuid) then
    exit(convertUuid3(src as fhir3_types.TFhirUuid));

  if (src is fhir3_types.TFhirExtension) then
    exit(convertExtension3(src as fhir3_types.TFhirExtension));
  if (src is fhir3_types.TFhirNarrative) then
    exit(convertNarrative3(src as fhir3_types.TFhirNarrative));
  if (src is fhir3_types.TFhirAge) then
    exit(convertAge3(src as fhir3_types.TFhirAge));
  if (src is fhir3_types.TFhirAnnotation) then
    exit(convertAnnotation3(src as fhir3_types.TFhirAnnotation));
  if (src is fhir3_types.TFhirAttachment) then
    exit(convertAttachment3(src as fhir3_types.TFhirAttachment));
  if (src is fhir3_types.TFhirCodeableConcept) then
    exit(convertCodeableConcept3(src as fhir3_types.TFhirCodeableConcept));
  if (src is fhir3_types.TFhirCoding) then
    exit(convertCoding3(src as fhir3_types.TFhirCoding));
  if (src is fhir3_types.TFhirCount) then
    exit(convertCount3(src as fhir3_types.TFhirCount));
  if (src is fhir3_types.TFhirDistance) then
    exit(convertDistance3(src as fhir3_types.TFhirDistance));
  if (src is fhir3_types.TFhirDuration) then
    exit(convertDuration3(src as fhir3_types.TFhirDuration));
  if (src is fhir3_types.TFhirIdentifier) then
    exit(convertIdentifier3(src as fhir3_types.TFhirIdentifier));
  if (src is fhir3_types.TFhirMoney) then
    exit(convertMoney3(src as fhir3_types.TFhirMoney));
  if (src is fhir3_types.TFhirPeriod) then
    exit(convertPeriod3(src as fhir3_types.TFhirPeriod));
  if (src is fhir3_types.TFhirQuantity) then
    exit(convertQuantity3(src as fhir3_types.TFhirQuantity));
  if (src is fhir3_types.TFhirRange) then
    exit(convertRange3(src as fhir3_types.TFhirRange));
  if (src is fhir3_types.TFhirRatio) then
    exit(convertRatio3(src as fhir3_types.TFhirRatio));
  if (src is fhir3_types.TFhirReference) then
    exit(convertReference3(src as fhir3_types.TFhirReference));
  if (src is fhir3_types.TFhirSampledData) then
    exit(convertSampledData3(src as fhir3_types.TFhirSampledData));
  if (src is fhir3_types.TFhirSignature) then
    exit(convertSignature3(src as fhir3_types.TFhirSignature));
  if (src is fhir3_types.TFhirAddress) then
    exit(convertAddress3(src as fhir3_types.TFhirAddress));
  if (src is fhir3_types.TFhirContactDetail) then
    exit(convertContactDetail3(src as fhir3_types.TFhirContactDetail));
  if (src is fhir3_types.TFhirContactPoint) then
    exit(convertContactPoint3(src as fhir3_types.TFhirContactPoint));
  if (src is fhir3_types.TFhirContributor) then
    exit(convertContributor3(src as fhir3_types.TFhirContributor));
  if (src is fhir3_types.TFhirDosage) then
    exit(convertDosage3(src as fhir3_types.TFhirDosage));
  if (src is fhir3_types.TFhirHumanName) then
    exit(convertHumanName3(src as fhir3_types.TFhirHumanName));
  if (src is fhir3_types.TFhirMeta) then
    exit(convertMeta3(src as fhir3_types.TFhirMeta));
  if (src is fhir3_types.TFhirParameterDefinition) then
    exit(convertParameterDefinition3(src as fhir3_types.TFhirParameterDefinition));
  if (src is fhir3_types.TFhirRelatedArtifact) then
    exit(convertRelatedArtifact3(src as fhir3_types.TFhirRelatedArtifact));
  if (src is fhir3_types.TFhirTiming) then
    exit(convertTiming3(src as fhir3_types.TFhirTiming));
  if (src is fhir3_types.TFhirUsageContext) then
    exit(convertUsageContext3(src as fhir3_types.TFhirUsageContext));
  if (src is fhir3_types.TFhirElementDefinition) then
    exit(convertElementDefinition3(src as fhir3_types.TFhirElementDefinition));
  if (src is fhir3_types.TFhirDataRequirement) then
    exit(convertDataRequirement3(src as fhir3_types.TFhirDataRequirement));
  raise EFHIRException.Create('Unknown type ' + src.fhirType());
end;

class function TVersionConvertor_30_40.convertType4(src : fhir4_types.TFhirType) : fhir3_types.TFhirType;
begin
  if (src = nil) then
    exit(nil);
  if (src is fhir4_types.TFhirBase64Binary) then
    exit(convertBase64Binary4(src as fhir4_types.TFhirBase64Binary));
  if (src is fhir4_types.TFhirBoolean) then
    exit(convertBoolean4(src as fhir4_types.TFhirBoolean));
  if (src is fhir4_types.TFhirCode) then
    exit(convertCode4(src as fhir4_types.TFhirCode));
  if (src is fhir4_types.TFhirEnum) then
    exit(convertCode4(src as fhir4_types.TFhirEnum));
  if (src is fhir4_types.TFhirDate) then
    exit(convertDate4(src as fhir4_types.TFhirDate));
  if (src is fhir4_types.TFhirDateTime) then
    exit(convertDateTime4(src as fhir4_types.TFhirDateTime));
  if (src is fhir4_types.TFhirDecimal) then
    exit(convertDecimal4(src as fhir4_types.TFhirDecimal));
  if (src is fhir4_types.TFhirId) then
    exit(convertId4(src as fhir4_types.TFhirId));
  if (src is fhir4_types.TFhirInstant) then
    exit(convertInstant4(src as fhir4_types.TFhirInstant));
  if (src is fhir4_types.TFhirInteger) then
    exit(convertInteger4(src as fhir4_types.TFhirInteger));
  if (src is fhir4_types.TFhirMarkdown) then
    exit(convertMarkdown4(src as fhir4_types.TFhirMarkdown));
  if (src is fhir4_types.TFhirOid) then
    exit(convertOid4(src as fhir4_types.TFhirOid));
  if (src is fhir4_types.TFhirPositiveInt) then
    exit(convertPositiveInt4(src as fhir4_types.TFhirPositiveInt));
  if (src is fhir4_types.TFhirString) then
    exit(convertString4(src as fhir4_types.TFhirString));
  if (src is fhir4_types.TFhirTime) then
    exit(convertTime4(src as fhir4_types.TFhirTime));
  if (src is fhir4_types.TFhirUnsignedInt) then
    exit(convertUnsignedInt4(src as fhir4_types.TFhirUnsignedInt));
  if (src is fhir4_types.TFhirUri) then
    exit(convertUri4(src as fhir4_types.TFhirUri));
  if (src is fhir4_types.TFhirUuid) then
    exit(convertUuid4(src as fhir4_types.TFhirUuid));

  if (src is fhir4_types.TFhirExtension) then
    exit(convertExtension4(src as fhir4_types.TFhirExtension));
  if (src is fhir4_types.TFhirNarrative) then
    exit(convertNarrative4(src as fhir4_types.TFhirNarrative));
  if (src is fhir4_types.TFhirAge) then
    exit(convertAge4(src as fhir4_types.TFhirAge));
  if (src is fhir4_types.TFhirAnnotation) then
    exit(convertAnnotation4(src as fhir4_types.TFhirAnnotation));
  if (src is fhir4_types.TFhirAttachment) then
    exit(convertAttachment4(src as fhir4_types.TFhirAttachment));
  if (src is fhir4_types.TFhirCodeableConcept) then
    exit(convertCodeableConcept4(src as fhir4_types.TFhirCodeableConcept));
  if (src is fhir4_types.TFhirCoding) then
    exit(convertCoding4(src as fhir4_types.TFhirCoding));
  if (src is fhir4_types.TFhirCount) then
    exit(convertCount4(src as fhir4_types.TFhirCount));
  if (src is fhir4_types.TFhirDistance) then
    exit(convertDistance4(src as fhir4_types.TFhirDistance));
  if (src is fhir4_types.TFhirDuration) then
    exit(convertDuration4(src as fhir4_types.TFhirDuration));
  if (src is fhir4_types.TFhirIdentifier) then
    exit(convertIdentifier4(src as fhir4_types.TFhirIdentifier));
  if (src is fhir4_types.TFhirMoney) then
    exit(convertMoney4(src as fhir4_types.TFhirMoney));
  if (src is fhir4_types.TFhirPeriod) then
    exit(convertPeriod4(src as fhir4_types.TFhirPeriod));
  if (src is fhir4_types.TFhirQuantity) then
    exit(convertQuantity4(src as fhir4_types.TFhirQuantity));
  if (src is fhir4_types.TFhirRange) then
    exit(convertRange4(src as fhir4_types.TFhirRange));
  if (src is fhir4_types.TFhirRatio) then
    exit(convertRatio4(src as fhir4_types.TFhirRatio));
  if (src is fhir4_types.TFhirReference) then
    exit(convertReference4(src as fhir4_types.TFhirReference));
  if (src is fhir4_types.TFhirSampledData) then
    exit(convertSampledData4(src as fhir4_types.TFhirSampledData));
  if (src is fhir4_types.TFhirSignature) then
    exit(convertSignature4(src as fhir4_types.TFhirSignature));
  if (src is fhir4_types.TFhirAddress) then
    exit(convertAddress4(src as fhir4_types.TFhirAddress));
  if (src is fhir4_types.TFhirContactDetail) then
    exit(convertContactDetail4(src as fhir4_types.TFhirContactDetail));
  if (src is fhir4_types.TFhirContactPoint) then
    exit(convertContactPoint4(src as fhir4_types.TFhirContactPoint));
  if (src is fhir4_types.TFhirContributor) then
    exit(convertContributor4(src as fhir4_types.TFhirContributor));
  if (src is fhir4_types.TFhirDosage) then
    exit(convertDosage4(src as fhir4_types.TFhirDosage));
  if (src is fhir4_types.TFhirHumanName) then
    exit(convertHumanName4(src as fhir4_types.TFhirHumanName));
  if (src is fhir4_types.TFhirMeta) then
    exit(convertMeta4(src as fhir4_types.TFhirMeta));
  if (src is fhir4_types.TFhirParameterDefinition) then
    exit(convertParameterDefinition4(src as fhir4_types.TFhirParameterDefinition));
  if (src is fhir4_types.TFhirRelatedArtifact) then
    exit(convertRelatedArtifact4(src as fhir4_types.TFhirRelatedArtifact));
  if (src is fhir4_types.TFhirTiming) then
    exit(convertTiming4(src as fhir4_types.TFhirTiming));
  if (src is fhir4_types.TFhirUsageContext) then
    exit(convertUsageContext4(src as fhir4_types.TFhirUsageContext));
  if (src is fhir4_types.TFhirElementDefinition) then
    exit(convertElementDefinition4(src as fhir4_types.TFhirElementDefinition));
  if (src is fhir4_types.TFhirDataRequirement) then
    exit(convertDataRequirement4(src as fhir4_types.TFhirDataRequirement));
  raise EFHIRException.Create('Unknown type_ ' + src.fhirType()+' for '+src.className);
end;

class function TVersionConvertor_30_40.convertParameters3(src : fhir3_resources.TFhirParameters) : fhir4_resources.TFhirParameters;
var
  tgt : fhir4_resources.TFhirParameters;
  t : fhir3_resources.TFhirParametersParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirParameters.Create();
  try
  copyResource3(src, tgt);
  for t in src.parameterList do
  begin
    tgt.parameterList.add(convertParametersParameterComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertParameters4(src : fhir4_resources.TFhirParameters) : fhir3_resources.TFhirParameters;
var
  tgt : fhir3_resources.TFhirParameters;
  t : fhir4_resources.TFhirParametersParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirParameters.Create();
  try
  copyResource4(src, tgt);
  for t in src.parameterList do
  begin
    tgt.parameterList.add(convertParametersParameterComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertParametersParameterComponent3(src : fhir3_resources.TFhirParametersParameter) : fhir4_resources.TFhirParametersParameter;
var
  tgt : fhir4_resources.TFhirParametersParameter;
  t : fhir3_resources.TFhirParametersParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirParametersParameter.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  if (src.resource <> nil) then
    tgt.resource := convertResource3(src.resource);

  for t in src.partList do
  begin
    tgt.partList.add(convertParametersParameterComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertParametersParameterComponent4(src : fhir4_resources.TFhirParametersParameter) : fhir3_resources.TFhirParametersParameter;
var
  tgt : fhir3_resources.TFhirParametersParameter;
  t : fhir4_resources.TFhirParametersParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirParametersParameter.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  if (src.resource <> nil) then
    tgt.resource := convertResource4(src.resource);

  for t in src.partList do
  begin
    tgt.partList.add(convertParametersParameterComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertActivityDefinition3(src : fhir3_resources.TFhirActivityDefinition) : fhir4_resources.TFhirActivityDefinition;
var
  tgt : fhir4_resources.TFhirActivityDefinition;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirCodeableConcept;
  t5 : fhir3_types.TFhirContributor;
  t6 : fhir3_types.TFhirContactDetail;
  t7 : fhir3_types.TFhirRelatedArtifact;
  t8 : fhir3_types.TFhirReference;
  t9 : fhir3_resources.TFhirActivityDefinitionParticipant;
  ta : fhir3_types.TFhirDosage;
  tb : fhir3_types.TFhirCodeableConcept;
  tc : fhir3_resources.TFhirActivityDefinitionDynamicValue;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirActivityDefinition.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus3(src.status);

  tgt.experimental := src.experimental;
  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.usage <> '') then
    tgt.usage := src.usage;
  tgt.approvalDate := src.approvalDate;
  tgt.lastReviewDate := src.lastReviewDate;

  if (src.effectivePeriod <> nil) then
    tgt.effectivePeriod := convertPeriod3(src.effectivePeriod);

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.topicList do
  begin
    tgt.topicList.add(convertCodeableConcept3(t4));
  end;
  for t5 in src.contributorList do
  begin
    case t5.type_ of
      fhir3_types.ContributorTypeAuthor : for t6 in t5.contactList do tgt.authorList.Add(convertContactDetail3(t6));
      fhir3_types.ContributorTypeEditor: for t6 in t5.contactList do tgt.editorList.Add(convertContactDetail3(t6));
      fhir3_types.ContributorTypeReviewer: for t6 in t5.contactList do tgt.reviewerList.Add(convertContactDetail3(t6));
      fhir3_types.ContributorTypeEndorser: for t6 in t5.contactList do tgt.endorserList.Add(convertContactDetail3(t6));
    end;
  end;
  for t6 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t6));
  end;
  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t7 in src.relatedArtifactList do
  begin
    tgt.relatedArtifactList.add(convertRelatedArtifact3(t7));
  end;
  for t8 in src.library_List do
  begin
    tgt.Library_List.add(convertReferenceToCanonical3(t8));
  end;
//  tgt.kind := convertActivityDefinitionKind3(src.kind);

  if (src.code <> nil) then
    tgt.code := convertCodeableConcept3(src.code);

  if (src.timing <> nil) then
    tgt.timing := convertType3(src.timing);

  if (src.location <> nil) then
    tgt.location := convertReference3(src.location);

  for t9 in src.participantList do
  begin
    tgt.participantList.add(convertActivityDefinitionParticipantComponent3(t9));
  end;
  if (src.product <> nil) then
    tgt.product := convertType3(src.product);

  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity3(src.quantity);

  for ta in src.dosageList do
  begin
    tgt.dosageList.add(convertDosage3(ta));
  end;
  for tb in src.bodySiteList do
  begin
    tgt.bodySiteList.add(convertCodeableConcept3(tb));
  end;
  if (src.transform <> nil) then
    tgt.transformElement := convertReferenceToCanonical3(src.transform);

  for tc in src.dynamicValueList do
  begin
    tgt.dynamicValueList.add(convertActivityDefinitionDynamicValueComponent3(tc));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertActivityDefinition4(src : fhir4_resources.TFhirActivityDefinition) : fhir3_resources.TFhirActivityDefinition;
var
  tgt : fhir3_resources.TFhirActivityDefinition;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirCodeableConcept;
  t5 : fhir4_types.TFhirContactDetail;
  t6 : fhir4_types.TFhirContactDetail;
  t7 : fhir4_types.TFhirRelatedArtifact;
  t8 : fhir4_types.TFhirCanonical;
  t9 : fhir4_resources.TFhirActivityDefinitionParticipant;
  ta : fhir4_types.TFhirDosage;
  tb : fhir4_types.TFhirCodeableConcept;
  tc : fhir4_resources.TFhirActivityDefinitionDynamicValue;
  tz : fhir3_types.TFhirContributor;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirActivityDefinition.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;
  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.usage <> '') then
    tgt.usage := src.usage;
  tgt.approvalDate := src.approvalDate;
  tgt.lastReviewDate := src.lastReviewDate;

  if (src.effectivePeriod <> nil) then
    tgt.effectivePeriod := convertPeriod4(src.effectivePeriod);

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.topicList do
  begin
    tgt.topicList.add(convertCodeableConcept4(t4));
  end;
  for t5 in src.authorList do
  begin
    tz := tgt.contributorList.Append;
    tz.type_ := fhir3_types.ContributorTypeAuthor;
    tz.contactList.Add(convertContactDetail4(t5));
  end;
  for t5 in src.editorList do
  begin
    tz := tgt.contributorList.Append;
    tz.type_ := fhir3_types.ContributorTypeEditor;
    tz.contactList.Add(convertContactDetail4(t5));
  end;
  for t5 in src.reviewerList do
  begin
    tz := tgt.contributorList.Append;
    tz.type_ := fhir3_types.ContributorTypeReviewer;
    tz.contactList.Add(convertContactDetail4(t5));
  end;
  for t5 in src.endorserList do
  begin
    tz := tgt.contributorList.Append;
    tz.type_ := fhir3_types.ContributorTypeEndorser;
    tz.contactList.Add(convertContactDetail4(t5));
  end;
  for t6 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t6));
  end;
  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t7 in src.relatedArtifactList do
  begin
    tgt.relatedArtifactList.add(convertRelatedArtifact4(t7));
  end;
  for t8 in src.library_List do
  begin
    tgt.library_List.add(convertCanonicalToReference4(t8));
  end;
//  tgt.kind := convertActivityDefinitionKind4(src.kind);

  if (src.code <> nil) then
    tgt.code := convertCodeableConcept4(src.code);

  if (src.timing <> nil) then
    tgt.timing := convertType4(src.timing);

  if (src.location <> nil) then
    tgt.location := convertReference4(src.location);

  for t9 in src.participantList do
  begin
    tgt.participantList.add(convertActivityDefinitionParticipantComponent4(t9));
  end;
  if (src.product <> nil) then
    tgt.product := convertType4(src.product);

  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity4(src.quantity);

  for ta in src.dosageList do
  begin
    tgt.dosageList.add(convertDosage4(ta));
  end;
  for tb in src.bodySiteList do
  begin
    tgt.bodySiteList.add(convertCodeableConcept4(tb));
  end;
  if (src.transform <> '') then
    tgt.transform := convertCanonicalToReference4(src.transformElement);

  for tc in src.dynamicValueList do
  begin
    tgt.dynamicValueList.add(convertActivityDefinitionDynamicValueComponent4(tc));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertActivityDefinitionParticipantComponent3(src : fhir3_resources.TFhirActivityDefinitionParticipant) : fhir4_resources.TFhirActivityDefinitionParticipant;
var
  tgt : fhir4_resources.TFhirActivityDefinitionParticipant;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirActivityDefinitionParticipant.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_ := convertActivityParticipantType3(src.type_);

  if (src.role <> nil) then
    tgt.role := convertCodeableConcept3(src.role);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertActivityDefinitionParticipantComponent4(src : fhir4_resources.TFhirActivityDefinitionParticipant) : fhir3_resources.TFhirActivityDefinitionParticipant;
var
  tgt : fhir3_resources.TFhirActivityDefinitionParticipant;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirActivityDefinitionParticipant.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := convertActivityParticipantType4(src.type_);

  if (src.role <> nil) then
    tgt.role := convertCodeableConcept4(src.role);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertActivityDefinitionDynamicValueComponent3(src : fhir3_resources.TFhirActivityDefinitionDynamicValue) : fhir4_resources.TFhirActivityDefinitionDynamicValue;
var
  tgt : fhir4_resources.TFhirActivityDefinitionDynamicValue;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirActivityDefinitionDynamicValue.Create();
  try
  copyBackboneElement3(src, tgt);

  if (src.path <> '') then
    tgt.path := src.path;

  if (src.description <> '') or (src.language <> '') or (src.expression <> '') then
  begin
    tgt.expression := fhir4_types.TFhirExpression.Create;
    if (src.description <> '') then
      tgt.expression.description := src.description;

    if (src.language <> '') then
      tgt.expression.language := src.language;

    if (src.expression <> '') then
      tgt.expression.expression := src.expression;
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertActivityDefinitionDynamicValueComponent4(src : fhir4_resources.TFhirActivityDefinitionDynamicValue) : fhir3_resources.TFhirActivityDefinitionDynamicValue;
var
  tgt : fhir3_resources.TFhirActivityDefinitionDynamicValue;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirActivityDefinitionDynamicValue.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  if (src.expression <> nil) then
  begin
  if (src.expression.description <> '') then
    tgt.description := src.expression.description;

  if (src.expression.language <> '') then
    tgt.language := src.expression.language;

  if (src.expression.expression <> '') then
    tgt.expression := src.expression.expression;
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntolerance3(src : fhir3_resources.TFhirAllergyIntolerance) : fhir4_resources.TFhirAllergyIntolerance;
var
  tgt : fhir4_resources.TFhirAllergyIntolerance;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirAllergyIntoleranceCategoryEnum;
  a : fhir4_types.TFhirAllergyIntoleranceCategoryEnumList;
  t3 : fhir3_types.TFhirAnnotation;
  t4 : fhir3_resources.TFhirAllergyIntoleranceReaction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAllergyIntolerance.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
   tgt.clinicalStatus := convertAllergyIntoleranceClinicalStatus3(src.clinicalStatus);

  tgt.verificationStatus := convertAllergyIntoleranceVerificationStatus3(src.verificationStatus);

  tgt.type_ := convertAllergyIntoleranceType3(src.type_);

  a := [];
  for t2 := low(fhir3_types.TFhirAllergyIntoleranceCategoryEnum) to high(fhir3_types.TFhirAllergyIntoleranceCategoryEnum) do
    if t2 in src.category then
      a := a + [convertAllergyIntoleranceCategory3(t2)];
  tgt.category := a;

  tgt.criticality := convertAllergyIntoleranceCriticality3(src.criticality);

  if (src.code <> nil) then
    tgt.code := convertCodeableConcept3(src.code);

  if (src.patient <> nil) then
    tgt.patient := convertReference3(src.patient);

  if (src.onset <> nil) then
    tgt.onset := convertType3(src.onset);

  tgt.recordedDate := src.assertedDate;

  if (src.recorder <> nil) then
    tgt.recorder := convertReference3(src.recorder);

  if (src.asserter <> nil) then
    tgt.asserter := convertReference3(src.asserter);

  tgt.lastOccurrence := src.lastOccurrence;

  for t3 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t3));
  end;
  for t4 in src.reactionList do
  begin
    tgt.reactionList.add(convertAllergyIntoleranceReactionComponent3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntolerance4(src : fhir4_resources.TFhirAllergyIntolerance) : fhir3_resources.TFhirAllergyIntolerance;
var
  tgt : fhir3_resources.TFhirAllergyIntolerance;
  t : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirAllergyIntoleranceCategoryEnum;
  a : fhir3_types.TFhirAllergyIntoleranceCategoryEnumList;
  t3 : fhir4_types.TFhirAnnotation;
  t4 : fhir4_resources.TFhirAllergyIntoleranceReaction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAllergyIntolerance.Create();
  try
  copyDomainResource4(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t));
  end;
  tgt.clinicalStatus := convertAllergyIntoleranceClinicalStatus4(src.clinicalStatus);

  tgt.verificationStatus := convertAllergyIntoleranceVerificationStatus4(src.verificationStatus);

  tgt.type_ := convertAllergyIntoleranceType4(src.type_);

  a := [];
  for t2 := low(fhir4_types.TFhirAllergyIntoleranceCategoryEnum) to high(fhir4_types.TFhirAllergyIntoleranceCategoryEnum) do
    if t2 in src.category then
      a := a + [convertAllergyIntoleranceCategory4(t2)];
  tgt.category := a;
  tgt.criticality := convertAllergyIntoleranceCriticality4(src.criticality);

  if (src.code <> nil) then
    tgt.code := convertCodeableConcept4(src.code);

  if (src.patient <> nil) then
    tgt.patient := convertReference4(src.patient);

  if (src.onset <> nil) then
    tgt.onset := convertType4(src.onset);

  tgt.assertedDate := src.recordedDate;

  if (src.recorder <> nil) then
    tgt.recorder := convertReference4(src.recorder);

  if (src.asserter <> nil) then
    tgt.asserter := convertReference4(src.asserter);

  tgt.lastOccurrence := src.lastOccurrence;

  for t3 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t3));
  end;
  for t4 in src.reactionList do
  begin
    tgt.reactionList.add(convertAllergyIntoleranceReactionComponent4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceReactionComponent3(src : fhir3_resources.TFhirAllergyIntoleranceReaction) : fhir4_resources.TFhirAllergyIntoleranceReaction;
var
  tgt : fhir4_resources.TFhirAllergyIntoleranceReaction;
  t : fhir3_types.TFhirCodeableConcept;
  t1 : fhir3_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAllergyIntoleranceReaction.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.substance <> nil) then
    tgt.substance := convertCodeableConcept3(src.substance);

  for t in src.manifestationList do
  begin
    tgt.manifestationList.add(convertCodeableConcept3(t));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  tgt.onset := src.onset;

  tgt.severity := convertAllergyIntoleranceSeverity3(src.severity);

  if (src.exposureRoute <> nil) then
    tgt.exposureRoute := convertCodeableConcept3(src.exposureRoute);

  for t1 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t1));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAllergyIntoleranceReactionComponent4(src : fhir4_resources.TFhirAllergyIntoleranceReaction) : fhir3_resources.TFhirAllergyIntoleranceReaction;
var
  tgt : fhir3_resources.TFhirAllergyIntoleranceReaction;
  t : fhir4_types.TFhirCodeableConcept;
  t1 : fhir4_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAllergyIntoleranceReaction.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.substance <> nil) then
    tgt.substance := convertCodeableConcept4(src.substance);

  for t in src.manifestationList do
  begin
    tgt.manifestationList.add(convertCodeableConcept4(t));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  tgt.onset := src.onset;

  tgt.severity := convertAllergyIntoleranceSeverity4(src.severity);

  if (src.exposureRoute <> nil) then
    tgt.exposureRoute := convertCodeableConcept4(src.exposureRoute);

  for t1 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t1));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAppointment3(src : fhir3_resources.TFhirAppointment) : fhir4_resources.TFhirAppointment;
var
  tgt : fhir4_resources.TFhirAppointment;
  t : fhir3_types.TFhirIdentifier;
  t1 : fhir3_types.TFhirCodeableConcept;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirReference;
  t5 : fhir3_types.TFhirReference;
  t6 : fhir3_types.TFhirReference;
  t7 : fhir3_types.TFhirReference;
  t8 : fhir3_resources.TFhirAppointmentParticipant;
  t9 : fhir3_types.TFhirPeriod;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAppointment.Create();
  try
  copyDomainResource3(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t));
  end;
  tgt.status := convertAppointmentStatus3(src.status);

  if (src.serviceCategory <> nil) then
    tgt.serviceCategoryList.add(convertCodeableConcept3(src.ServiceCategory));

  for t1 in src.serviceTypeList do
  begin
    tgt.serviceTypeList.add(convertCodeableConcept3(t1));
  end;
  for t2 in src.specialtyList do
  begin
    tgt.specialtyList.add(convertCodeableConcept3(t2));
  end;
  if (src.appointmentType <> nil) then
    tgt.appointmentType := convertCodeableConcept3(src.appointmentType);

  for t3 in src.reasonList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.indicationList do
  begin
    tgt.reasonReferenceList.add(convertReference3(t4));
  end;
  tgt.priority := src.priority;

  if (src.description <> '') then
    tgt.description := src.description;

  for t5 in src.supportingInformationList do
  begin
    tgt.supportingInformationList.add(convertReference3(t5));
  end;
  tgt.start := src.start;

  tgt.end_ := src.end_;

  tgt.minutesDuration := src.minutesDuration;

  for t6 in src.slotList do
  begin
    tgt.slotList.add(convertReference3(t6));
  end;
  tgt.created := src.created;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  for t7 in src.incomingReferralList do
  begin
    tgt.basedOnList.add(convertReference3(t7));
  end;
  for t8 in src.participantList do
  begin
    tgt.participantList.add(convertAppointmentParticipantComponent3(t8));
  end;
  for t9 in src.requestedPeriodList do
  begin
    tgt.requestedPeriodList.add(convertPeriod3(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAppointment4(src : fhir4_resources.TFhirAppointment) : fhir3_resources.TFhirAppointment;
var
  tgt : fhir3_resources.TFhirAppointment;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirCodeableConcept;
  t5 : fhir4_types.TFhirReference;
  t6 : fhir4_types.TFhirReference;
  t7 : fhir4_types.TFhirReference;
  t8 : fhir4_types.TFhirReference;
  t9 : fhir4_resources.TFhirAppointmentParticipant;
  ta : fhir4_types.TFhirPeriod;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAppointment.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertAppointmentStatus4(src.status);

  if (src.serviceCategoryList.count > 0) then
    tgt.serviceCategory := convertCodeableConcept4(src.serviceCategoryList[0]);

  for t2 in src.serviceTypeList do
  begin
    tgt.serviceTypeList.add(convertCodeableConcept4(t2));
  end;
  for t3 in src.specialtyList do
  begin
    tgt.specialtyList.add(convertCodeableConcept4(t3));
  end;
  if (src.appointmentType <> nil) then
    tgt.appointmentType := convertCodeableConcept4(src.appointmentType);

  for t4 in src.reasonCodeList do
  begin
    tgt.reasonList.add(convertCodeableConcept4(t4));
  end;
  for t5 in src.reasonReferenceList do
  begin
    tgt.indicationList.add(convertReference4(t5));
  end;
  tgt.priority := src.priority;

  if (src.description <> '') then
    tgt.description := src.description;

  for t6 in src.supportingInformationList do
  begin
    tgt.supportingInformationList.add(convertReference4(t6));
  end;
  tgt.start := src.start;

  tgt.end_ := src.end_;

  tgt.minutesDuration := src.minutesDuration;

  for t7 in src.slotList do
  begin
    tgt.slotList.add(convertReference4(t7));
  end;
  tgt.created := src.created;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  for t8 in src.basedOnList do
  begin
    tgt.incomingReferralList.add(convertReference4(t8));
  end;
  for t9 in src.participantList do
  begin
    tgt.participantList.add(convertAppointmentParticipantComponent4(t9));
  end;
  for ta in src.requestedPeriodList do
  begin
    tgt.requestedPeriodList.add(convertPeriod4(ta));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAppointmentParticipantComponent3(src : fhir3_resources.TFhirAppointmentParticipant) : fhir4_resources.TFhirAppointmentParticipant;
var
  tgt : fhir4_resources.TFhirAppointmentParticipant;
  t : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAppointmentParticipant.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept3(t));
  end;
  if (src.actor <> nil) then
    tgt.actor := convertReference3(src.actor);

  tgt.required := convertParticipantRequired3(src.required);

  tgt.status := convertParticipationStatus3(src.status);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAppointmentParticipantComponent4(src : fhir4_resources.TFhirAppointmentParticipant) : fhir3_resources.TFhirAppointmentParticipant;
var
  tgt : fhir3_resources.TFhirAppointmentParticipant;
  t : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAppointmentParticipant.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept4(t));
  end;
  if (src.actor <> nil) then
    tgt.actor := convertReference4(src.actor);

  tgt.required := convertParticipantRequired4(src.required);

  tgt.status := convertParticipationStatus4(src.status);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAppointmentResponse3(src : fhir3_resources.TFhirAppointmentResponse) : fhir4_resources.TFhirAppointmentResponse;
var
  tgt : fhir4_resources.TFhirAppointmentResponse;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAppointmentResponse.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  if (src.appointment <> nil) then
    tgt.appointment := convertReference3(src.appointment);

  tgt.start := src.start;

  tgt.end_ := src.end_;

  for t2 in src.participantTypeList do
  begin
    tgt.participantTypeList.add(convertCodeableConcept3(t2));
  end;
  if (src.actor <> nil) then
    tgt.actor := convertReference3(src.actor);

  tgt.participantStatus := convertParticipantStatus3(src.participantStatus);

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAppointmentResponse4(src : fhir4_resources.TFhirAppointmentResponse) : fhir3_resources.TFhirAppointmentResponse;
var
  tgt : fhir3_resources.TFhirAppointmentResponse;
  t : fhir4_types.TFhirIdentifier;
  t1 : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAppointmentResponse.Create();
  try
  copyDomainResource4(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t));
  end;
  if (src.appointment <> nil) then
    tgt.appointment := convertReference4(src.appointment);

  tgt.start := src.start;

  tgt.end_ := src.end_;

  for t1 in src.participantTypeList do
  begin
    tgt.participantTypeList.add(convertCodeableConcept4(t1));
  end;
  if (src.actor <> nil) then
    tgt.actor := convertReference4(src.actor);

  tgt.participantStatus := convertParticipantStatus4(src.participantStatus);

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEvent3(src : fhir3_resources.TFhirAuditEvent) : fhir4_resources.TFhirAuditEvent;
var
  tgt : fhir4_resources.TFhirAuditEvent;
  t1 : fhir3_types.TFhirCoding;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_resources.TFhirAuditEventAgent;
  t4 : fhir3_resources.TFhirAuditEventEntity;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAuditEvent.Create();
  try
  copyDomainResource3(src, tgt);
  tgt.type_ := convertCoding3(src.type_);

  for t1 in src.subtypeList do
  begin
    tgt.subtypeList.add(convertCoding3(t1));
  end;
  tgt.action := convertAuditEventAction3(src.action);

  tgt.recorded := src.recorded;

  tgt.outcome := convertAuditEventOutcome3(src.outcome);

  if (src.outcomeDesc <> '') then
    tgt.outcomeDesc := src.outcomeDesc;

  for t2 in src.purposeOfEventList do
  begin
    tgt.purposeOfEventList.add(convertCodeableConcept3(t2));
  end;
  for t3 in src.agentList do
  begin
    tgt.agentList.add(convertAuditEventAgentComponent3(t3));
  end;
  if (src.source <> nil) then
    tgt.source := convertAuditEventSourceComponent3(src.source);

  for t4 in src.entityList do
  begin
    tgt.entityList.add(convertAuditEventEntityComponent3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEvent4(src : fhir4_resources.TFhirAuditEvent) : fhir3_resources.TFhirAuditEvent;
var
  tgt : fhir3_resources.TFhirAuditEvent;
  t1 : fhir4_types.TFhirCoding;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_resources.TFhirAuditEventAgent;
  t4 : fhir4_resources.TFhirAuditEventEntity;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAuditEvent.Create();
  try
  copyDomainResource4(src, tgt);
  tgt.type_ := convertCoding4(src.type_);

  for t1 in src.subtypeList do
  begin
    tgt.subtypeList.add(convertCoding4(t1));
  end;
  tgt.action := convertAuditEventAction4(src.action);

  tgt.recorded := src.recorded;

  tgt.outcome := convertAuditEventOutcome4(src.outcome);

  if (src.outcomeDesc <> '') then
    tgt.outcomeDesc := src.outcomeDesc;

  for t2 in src.purposeOfEventList do
  begin
    tgt.purposeOfEventList.add(convertCodeableConcept4(t2));
  end;
  for t3 in src.agentList do
  begin
    tgt.agentList.add(convertAuditEventAgentComponent4(t3));
  end;
  if (src.source <> nil) then
    tgt.source := convertAuditEventSourceComponent4(src.source);

  for t4 in src.entityList do
  begin
    tgt.entityList.add(convertAuditEventEntityComponent4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventAgentComponent3(src : fhir3_resources.TFhirAuditEventAgent) : fhir4_resources.TFhirAuditEventAgent;
var
  tgt : fhir4_resources.TFhirAuditEventAgent;
  t1 : fhir3_types.TFhirCodeableConcept;
  t2 : fhir3_types.TFhirUri;
  t3 : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAuditEventAgent.Create();
  try
  copyBackboneElement3(src, tgt);
  for t1 in src.roleList do
  begin
    tgt.roleList.add(convertCodeableConcept3(t1));
  end;
  if (src.reference <> nil) then
    tgt.who := convertReference3(src.reference);

  if (src.userId <> nil) then
  begin
    if tgt.who = nil then
      tgt.who := fhir4_types.TFhirReference.Create;
    tgt.who.identifier := convertIdentifier3(src.userId);
  end;

  if (src.altId <> '') then
    tgt.altId := src.altId;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.requestor := src.requestor;

  if (src.location <> nil) then
    tgt.location := convertReference3(src.location);

  for t2 in src.policyList do
  begin
    tgt.policyList.add(convertUri3(t2));
  end;
  if (src.media <> nil) then
    tgt.media := convertCoding3(src.media);

  if (src.network <> nil) then
    tgt.network := convertAuditEventAgentNetworkComponent3(src.network);

  for t3 in src.purposeOfUseList do
  begin
    tgt.purposeOfUseList.add(convertCodeableConcept3(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventAgentComponent4(src : fhir4_resources.TFhirAuditEventAgent) : fhir3_resources.TFhirAuditEventAgent;
var
  tgt : fhir3_resources.TFhirAuditEventAgent;
  t1 : fhir4_types.TFhirCodeableConcept;
  t2 : fhir4_types.TFhirUri;
  t3 : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAuditEventAgent.Create();
  try
  copyBackboneElement4(src, tgt);
  for t1 in src.roleList do
  begin
    tgt.roleList.add(convertCodeableConcept4(t1));
  end;
  if (src.who <> nil) and ((src.who.reference <> '') or (src.who.hasExtensionList) or (src.who.display <> '')) then
    tgt.reference := convertReference4(src.who);

  if (src.who <> nil) and (src.who.identifier <> nil) then
    tgt.userId := convertIdentifier4(src.who.identifier);

  if (src.altId <> '') then
    tgt.altId := src.altId;

  if (src.name <> '') then
    tgt.name := src.name;

   tgt.requestor := src.requestor;

  if (src.location <> nil) then
    tgt.location := convertReference4(src.location);

  for t2 in src.policyList do
  begin
    tgt.policyList.add(convertUri4(t2));
  end;
  if (src.media <> nil) then
    tgt.media := convertCoding4(src.media);

  if (src.network <> nil) then
    tgt.network := convertAuditEventAgentNetworkComponent4(src.network);

  for t3 in src.purposeOfUseList do
  begin
    tgt.purposeOfUseList.add(convertCodeableConcept4(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventAgentNetworkComponent3(src : fhir3_resources.TFhirAuditEventAgentNetwork) : fhir4_resources.TFhirAuditEventAgentNetwork;
var
  tgt : fhir4_resources.TFhirAuditEventAgentNetwork;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAuditEventAgentNetwork.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.address <> '') then
    tgt.address := src.address;

  tgt.type_ := convertAuditEventAgentNetworkType3(src.type_);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventAgentNetworkComponent4(src : fhir4_resources.TFhirAuditEventAgentNetwork) : fhir3_resources.TFhirAuditEventAgentNetwork;
var
  tgt : fhir3_resources.TFhirAuditEventAgentNetwork;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAuditEventAgentNetwork.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.address <> '') then
    tgt.address := src.address;

  tgt.type_ := convertAuditEventAgentNetworkType4(src.type_);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventSourceComponent3(src : fhir3_resources.TFhirAuditEventSource) : fhir4_resources.TFhirAuditEventSource;
var
  tgt : fhir4_resources.TFhirAuditEventSource;
  t : fhir3_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAuditEventSource.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.site <> '') then
    tgt.site := src.site;

  if (src.identifier <> nil) then
  begin
    tgt.observer := fhir4_types.TFhirReference.Create;
    tgt.observer.identifier := convertIdentifier3(src.identifier);
  end;

  for t in src.type_List do
  begin
    tgt.type_List.add(convertCoding3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventSourceComponent4(src : fhir4_resources.TFhirAuditEventSource) : fhir3_resources.TFhirAuditEventSource;
var
  tgt : fhir3_resources.TFhirAuditEventSource;
  t : fhir4_types.TFhirCoding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAuditEventSource.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.site <> '') then
    tgt.site := src.site;

  if (src.observer <> nil) and (src.observer.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.observer.identifier);

  for t in src.type_List do
  begin
    tgt.type_List.add(convertCoding4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventEntityComponent3(src : fhir3_resources.TFhirAuditEventEntity) : fhir4_resources.TFhirAuditEventEntity;
var
  tgt : fhir4_resources.TFhirAuditEventEntity;
  t1 : fhir3_types.TFhirCoding;
  t2 : fhir3_resources.TFhirAuditEventEntityDetail;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAuditEventEntity.Create();
  try
  copyBackboneElement3(src, tgt);

  if (src.reference <> nil) then
    tgt.what := convertReference3(src.reference);

  if (src.identifier <> nil) then
  begin
    if tgt.what = nil then
    begin
      tgt.what := fhir4_types.TFhirReference.Create;
      tgt.what.identifier := convertIdentifier3(src.identifier);
    end;
  end;

  tgt.type_ := convertCoding3(src.type_);

  if (src.role <> nil) then
    tgt.role := convertCoding3(src.role);

  if (src.lifecycle <> nil) then
    tgt.lifecycle := convertCoding3(src.lifecycle);

  for t1 in src.securityLabelList do
  begin
    tgt.securityLabelList.add(convertCoding3(t1));
  end;
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.description <> '') then
    tgt.description := src.description;

  tgt.query := src.query;

  for t2 in src.detailList do
  begin
    tgt.detailList.add(convertAuditEventEntityDetailComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventEntityComponent4(src : fhir4_resources.TFhirAuditEventEntity) : fhir3_resources.TFhirAuditEventEntity;
var
  tgt : fhir3_resources.TFhirAuditEventEntity;
  t1 : fhir4_types.TFhirCoding;
  t2 : fhir4_resources.TFhirAuditEventEntityDetail;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAuditEventEntity.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.what <> nil) and (src.what.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.what.identifier);

  if (src.what <> nil) and ((src.what.reference <> '') or (src.what.hasExtensionList) or (src.what.display <> '')) then
    tgt.reference := convertReference4(src.what);

  tgt.type_ := convertCoding4(src.type_);

  if (src.role <> nil) then
    tgt.role := convertCoding4(src.role);

  if (src.lifecycle <> nil) then
    tgt.lifecycle := convertCoding4(src.lifecycle);

  for t1 in src.securityLabelList do
  begin
    tgt.securityLabelList.add(convertCoding4(t1));
  end;
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.description <> '') then
    tgt.description := src.description;
  tgt.query := src.query;

  for t2 in src.detailList do
  begin
    tgt.detailList.add(convertAuditEventEntityDetailComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventEntityDetailComponent3(src : fhir3_resources.TFhirAuditEventEntityDetail) : fhir4_resources.TFhirAuditEventEntityDetail;
var
  tgt : fhir4_resources.TFhirAuditEventEntityDetail;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirAuditEventEntityDetail.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.type_ <> '') then
    tgt.type_ := src.type_;

  if (src.value <> nil) then
    tgt.Value := fhir4_types.TFHirBase64Binary.Create(src.Value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAuditEventEntityDetailComponent4(src : fhir4_resources.TFhirAuditEventEntityDetail) : fhir3_resources.TFhirAuditEventEntityDetail;
var
  tgt : fhir3_resources.TFhirAuditEventEntityDetail;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirAuditEventEntityDetail.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.type_ <> '') then
    tgt.type_ := src.type_;

  if (src.value is TFHIRString) then
    tgt.value := TEncoding.UTF8.GetBytes((src.Value as TFHIRString).value)
  else if (src.value is TFHIRBase64Binary) then
    tgt.value := (src.value as fhir4_types.TFhirBase64Binary).value;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBasic3(src : fhir3_resources.TFhirBasic) : fhir4_resources.TFhirBasic;
var
  tgt : fhir4_resources.TFhirBasic;
  t : fhir3_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirBasic.Create();
  try
  copyDomainResource3(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t));
  end;
  if (src.code <> nil) then
    tgt.code := convertCodeableConcept3(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  tgt.created := src.created;

  if (src.author <> nil) then
    tgt.author := convertReference3(src.author);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBasic4(src : fhir4_resources.TFhirBasic) : fhir3_resources.TFhirBasic;
var
  tgt : fhir3_resources.TFhirBasic;
  t : fhir4_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirBasic.Create();
  try
  copyDomainResource4(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t));
  end;
  if (src.code <> nil) then
    tgt.code := convertCodeableConcept4(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  tgt.created := src.created;

  if (src.author <> nil) then
    tgt.author := convertReference4(src.author);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBinary3(src : fhir3_resources.TFhirBinary) : fhir4_resources.TFhirBinary;
var
  tgt : fhir4_resources.TFhirBinary;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirBinary.Create();
  try
  copyResource3(src, tgt);
  if (src.contentType <> '') then
    tgt.contentType := src.contentType;

  if (src.securityContext <> nil) then
    tgt.securityContext := convertReference3(src.securityContext);

  tgt.data := src.content;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBinary4(src : fhir4_resources.TFhirBinary) : fhir3_resources.TFhirBinary;
var
  tgt : fhir3_resources.TFhirBinary;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirBinary.Create();
  try
  copyResource4(src, tgt);
  if (src.contentType <> '') then
    tgt.contentType := src.contentType;

  if (src.securityContext <> nil) then
    tgt.securityContext := convertReference4(src.securityContext);

  tgt.content := src.data;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBodySite3(src : fhir3_resources.TFhirBodySite) : fhir4_resources.TFhirBodyStructure;
var
  tgt : fhir4_resources.TFhirBodyStructure;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirAttachment;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirBodyStructure.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.active := src.active;

  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.imageList do
  begin
    tgt.imageList.add(convertAttachment3(t2));
  end;
  if (src.patient <> nil) then
    tgt.patient := convertReference3(src.patient);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBodySite4(src : fhir4_resources.TFhirBodyStructure) : fhir3_resources.TFhirBodySite;
var
  tgt : fhir3_resources.TFhirBodySite;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirAttachment;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirBodySite.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.active := src.active;

  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.imageList do
  begin
    tgt.imageList.add(convertAttachment4(t2));
  end;
  if (src.patient <> nil) then
    tgt.patient := convertReference4(src.patient);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundle3(src : fhir3_resources.TFhirBundle) : fhir4_resources.TFhirBundle;
var
  tgt : fhir4_resources.TFhirBundle;
  t1 : fhir3_resources.TFhirBundleLink;
  t2 : fhir3_resources.TFhirBundleEntry;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirBundle.Create();
  try
  copyResource3(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier3(src.identifier);

  tgt.type_ := convertBundleType3(src.type_);

  tgt.total := src.total;

  for t1 in src.link_List do
  begin
    tgt.link_List.add(convertBundleLinkComponent3(t1));
  end;
  for t2 in src.entryList do
  begin
    tgt.entryList.add(convertBundleEntryComponent3(t2));
  end;
  if (src.signature <> nil) then
    tgt.signature := convertSignature3(src.signature);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundle4(src : fhir4_resources.TFhirBundle) : fhir3_resources.TFhirBundle;
var
  tgt : fhir3_resources.TFhirBundle;
  t1 : fhir4_resources.TFhirBundleLink;
  t2 : fhir4_resources.TFhirBundleEntry;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirBundle.Create();
  try
  copyResource4(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.identifier);

  tgt.type_ := convertBundleType4(src.type_);

  tgt.total := src.total;

  for t1 in src.link_List do
  begin
    tgt.link_List.add(convertBundleLinkComponent4(t1));
  end;
  for t2 in src.entryList do
  begin
    tgt.entryList.add(convertBundleEntryComponent4(t2));
  end;
  if (src.signature <> nil) then
    tgt.signature := convertSignature4(src.signature);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundleLinkComponent3(src : fhir3_resources.TFhirBundleLink) : fhir4_resources.TFhirBundleLink;
var
  tgt : fhir4_resources.TFhirBundleLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirBundleLink.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.relation <> '') then
    tgt.relation := src.relation;

  if (src.url <> '') then
    tgt.url := src.url;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundleLinkComponent4(src : fhir4_resources.TFhirBundleLink) : fhir3_resources.TFhirBundleLink;
var
  tgt : fhir3_resources.TFhirBundleLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirBundleLink.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.relation <> '') then
    tgt.relation := src.relation;

  if (src.url <> '') then
    tgt.url := src.url;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundleEntryComponent3(src : fhir3_resources.TFhirBundleEntry) : fhir4_resources.TFhirBundleEntry;
var
  tgt : fhir4_resources.TFhirBundleEntry;
  t : fhir3_resources.TFhirBundleLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirBundleEntry.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.link_List do
  begin
    tgt.link_List.add(convertBundleLinkComponent3(t));
  end;
  if (src.fullUrl <> '') then
    tgt.fullUrl := src.fullUrl;

  if (src.resource <> nil) then
    tgt.resource := convertResource3(src.resource);

  if (src.search <> nil) then
    tgt.search := convertBundleEntrySearchComponent3(src.search);

  if (src.request <> nil) then
    tgt.request := convertBundleEntryRequestComponent3(src.request);

  if (src.response <> nil) then
    tgt.response := convertBundleEntryResponseComponent3(src.response);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundleEntryComponent4(src : fhir4_resources.TFhirBundleEntry) : fhir3_resources.TFhirBundleEntry;
var
  tgt : fhir3_resources.TFhirBundleEntry;
  t : fhir4_resources.TFhirBundleLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirBundleEntry.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.link_List do
  begin
    tgt.link_List.add(convertBundleLinkComponent4(t));
  end;
  if (src.fullUrl <> '') then
    tgt.fullUrl := src.fullUrl;

  if (src.resource <> nil) then
    tgt.resource := convertResource4(src.resource);

  if (src.search <> nil) then
    tgt.search := convertBundleEntrySearchComponent4(src.search);

  if (src.request <> nil) then
    tgt.request := convertBundleEntryRequestComponent4(src.request);

  if (src.response <> nil) then
    tgt.response := convertBundleEntryResponseComponent4(src.response);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundleEntrySearchComponent3(src : fhir3_resources.TFhirBundleEntrySearch) : fhir4_resources.TFhirBundleEntrySearch;
var
  tgt : fhir4_resources.TFhirBundleEntrySearch;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirBundleEntrySearch.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.mode := convertSearchEntryMode3(src.mode);

  tgt.score := src.score;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundleEntrySearchComponent4(src : fhir4_resources.TFhirBundleEntrySearch) : fhir3_resources.TFhirBundleEntrySearch;
var
  tgt : fhir3_resources.TFhirBundleEntrySearch;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirBundleEntrySearch.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.mode := convertSearchEntryMode4(src.mode);

  tgt.score := src.score;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundleEntryRequestComponent3(src : fhir3_resources.TFhirBundleEntryRequest) : fhir4_resources.TFhirBundleEntryRequest;
var
  tgt : fhir4_resources.TFhirBundleEntryRequest;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirBundleEntryRequest.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.method := convertHTTPVerb3(src.method);

  if (src.url <> '') then
    tgt.url := src.url;

  if (src.ifNoneMatch <> '') then
    tgt.ifNoneMatch := src.ifNoneMatch;

  tgt.ifModifiedSince := src.ifModifiedSince.link;

  if (src.ifMatch <> '') then
    tgt.ifMatch := src.ifMatch;

  if (src.ifNoneExist <> '') then
    tgt.ifNoneExist := src.ifNoneExist;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundleEntryRequestComponent4(src : fhir4_resources.TFhirBundleEntryRequest) : fhir3_resources.TFhirBundleEntryRequest;
var
  tgt : fhir3_resources.TFhirBundleEntryRequest;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirBundleEntryRequest.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.method := convertHTTPVerb4(src.method);

  if (src.url <> '') then
    tgt.url := src.url;

  if (src.ifNoneMatch <> '') then
    tgt.ifNoneMatch := src.ifNoneMatch;

  tgt.ifModifiedSince := src.ifModifiedSince.link;

  if (src.ifMatch <> '') then
    tgt.ifMatch := src.ifMatch;

  if (src.ifNoneExist <> '') then
    tgt.ifNoneExist := src.ifNoneExist;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundleEntryResponseComponent3(src : fhir3_resources.TFhirBundleEntryResponse) : fhir4_resources.TFhirBundleEntryResponse;
var
  tgt : fhir4_resources.TFhirBundleEntryResponse;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirBundleEntryResponse.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.status <> '') then
    tgt.status := src.status;

  if (src.location <> '') then
    tgt.location := src.location;

  if (src.etag <> '') then
    tgt.etag := src.etag;

  tgt.lastModified := src.lastModified;

  tgt.outcome := convertResource3(src.outcome);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertBundleEntryResponseComponent4(src : fhir4_resources.TFhirBundleEntryResponse) : fhir3_resources.TFhirBundleEntryResponse;
var
  tgt : fhir3_resources.TFhirBundleEntryResponse;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirBundleEntryResponse.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.status <> '') then
    tgt.status := src.status;

  if (src.location <> '') then
    tgt.location := src.location;

  if (src.etag <> '') then
    tgt.etag := src.etag;

  tgt.lastModified := src.lastModified;

  tgt.outcome := convertResource4(src.outcome);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatement3(src : fhir3_resources.TFhirCapabilityStatement) : fhir4_resources.TFhirCapabilityStatement;
var
  tgt : fhir4_resources.TFhirCapabilityStatement;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirUri;
  t5 : fhir3_types.TFhirCode;
  t6 : fhir3_types.TFhirUri;
  t7 : fhir3_resources.TFhirCapabilityStatementRest;
  t8 : fhir3_resources.TFhirCapabilityStatementMessaging;
  t9 : fhir3_resources.TFhirCapabilityStatementDocument;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatement.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;
  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  tgt.kind := convertCapabilityStatementKind3(src.kind);

  for t4 in src.instantiatesList do
  begin
    tgt.instantiatesList.add(convertUriToCanonical3(t4));
  end;
  if (src.software <> nil) then
    tgt.software := convertCapabilityStatementSoftwareComponent3(src.software);

  if (src.implementation_ <> nil) then
    tgt.implementation_ := convertCapabilityStatementImplementationComponent3(src.implementation_);

  if (src.fhirVersion <> '') then
    tgt.fhirVersion := fhir4_types.TFhirFHIRVersionEnum(StringArrayIndexOfSensitive(fhir4_types.CODES_TFhirFHIRVersionEnum, src.fhirVersion));

  for t5 in src.formatList do
  begin
    tgt.formatList.add(convertCode3(t5));
  end;
  for t5 in src.patchFormatList do
  begin
    tgt.patchFormatList.add(convertCode3(t5));
  end;
  for t6 in src.implementationGuideList do
  begin
    tgt.implementationGuideList.add(convertUriToCanonical3(t6));
  end;
  for t7 in src.restList do
  begin
    tgt.restList.add(convertCapabilityStatementRestComponent3(t7));
  end;
  for t8 in src.messagingList do
  begin
    tgt.messagingList.add(convertCapabilityStatementMessagingComponent3(t8));
  end;
  for t9 in src.documentList do
  begin
    tgt.documentList.add(convertCapabilityStatementDocumentComponent3(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatement4(src : fhir4_resources.TFhirCapabilityStatement) : fhir3_resources.TFhirCapabilityStatement;
var
  tgt : fhir3_resources.TFhirCapabilityStatement;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirUri;
  t5 : fhir4_types.TFhirCode;
  t6 : fhir4_types.TFhirCode;
  t7 : fhir4_types.TFhirUri;
  r : fhir4_resources.TFhirCapabilityStatementRest;
  rr : fhir4_resources.TFhirCapabilityStatementRestResource;
  t8 : fhir4_types.TFhirCanonical;
  t9 : fhir4_resources.TFhirCapabilityStatementRest;
  ta : fhir4_resources.TFhirCapabilityStatementMessaging;
  tb : fhir4_resources.TFhirCapabilityStatementDocument;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatement.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;
  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  tgt.kind := convertCapabilityStatementKind4(src.kind);

  for t4 in src.instantiatesList do
  begin
    tgt.instantiatesList.add(convertUri4(t4));
  end;
  if (src.software <> nil) then
    tgt.software := convertCapabilityStatementSoftwareComponent4(src.software);

  if (src.implementation_ <> nil) then
    tgt.implementation_ := convertCapabilityStatementImplementationComponent4(src.implementation_);

  if (src.fhirVersion <> FHIRVersionNull) then
    tgt.fhirVersion := fhir4_types.CODES_TFhirFHIRVersionEnum[src.fhirVersion];

  for t5 in src.formatList do
  begin
    tgt.formatList.add(convertCode4(t5));
  end;
  for t6 in src.patchFormatList do
  begin
    tgt.patchFormatList.add(convertCode4(t6));
  end;
  for t7 in src.implementationGuideList do
  begin
    tgt.implementationGuideList.add(convertUri4(t7));
  end;
  for r in src.restList do
  begin
    for rr in r.resourceList do
    begin
      for t8 in rr.supportedProfileList do
      begin
        tgt.profileList.add(convertCanonicalToReference4(t8));
      end;
    end;
  end;
  for t9 in src.restList do
  begin
    tgt.restList.add(convertCapabilityStatementRestComponent4(t9));
  end;
  for ta in src.messagingList do
  begin
    tgt.messagingList.add(convertCapabilityStatementMessagingComponent4(ta));
  end;
  for tb in src.documentList do
  begin
    tgt.documentList.add(convertCapabilityStatementDocumentComponent4(tb));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementSoftwareComponent3(src : fhir3_resources.TFhirCapabilityStatementSoftware) : fhir4_resources.TFhirCapabilityStatementSoftware;
var
  tgt : fhir4_resources.TFhirCapabilityStatementSoftware;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementSoftware.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.version <> '') then
    tgt.version := src.version;

  tgt.releaseDate := src.releaseDate;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementSoftwareComponent4(src : fhir4_resources.TFhirCapabilityStatementSoftware) : fhir3_resources.TFhirCapabilityStatementSoftware;
var
  tgt : fhir3_resources.TFhirCapabilityStatementSoftware;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementSoftware.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.version <> '') then
    tgt.version := src.version;

  tgt.releaseDate := src.releaseDate;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementImplementationComponent3(src : fhir3_resources.TFhirCapabilityStatementImplementation) : fhir4_resources.TFhirCapabilityStatementImplementation;
var
  tgt : fhir4_resources.TFhirCapabilityStatementImplementation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementImplementation.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.description <> '') then
    tgt.description := src.description;

  if (src.url <> '') then
    tgt.url := src.url;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementImplementationComponent4(src : fhir4_resources.TFhirCapabilityStatementImplementation) : fhir3_resources.TFhirCapabilityStatementImplementation;
var
  tgt : fhir3_resources.TFhirCapabilityStatementImplementation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementImplementation.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.description <> '') then
    tgt.description := src.description;

  if (src.url <> '') then
    tgt.url := src.url;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementRestComponent3(src : fhir3_resources.TFhirCapabilityStatementRest) : fhir4_resources.TFhirCapabilityStatementRest;
var
  tgt : fhir4_resources.TFhirCapabilityStatementRest;
  t1 : fhir3_resources.TFhirCapabilityStatementRestResource;
  t2 : fhir3_resources.TFhirCapabilityStatementRestInteraction;
  t3 : fhir3_resources.TFhirCapabilityStatementRestResourceSearchParam;
  t4 : fhir3_resources.TFhirCapabilityStatementRestOperation;
  t5 : fhir3_types.TFhirUri;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementRest.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.mode := convertRestfulCapabilityMode3(src.mode);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  if (src.security <> nil) then
    tgt.security := convertCapabilityStatementRestSecurityComponent3(src.security);

  for t1 in src.resourceList do
  begin
    tgt.resourceList.add(convertCapabilityStatementRestResourceComponent3(t1));
  end;
  for t2 in src.interactionList do
  begin
    tgt.interactionList.add(convertSystemInteractionComponent3(t2));
  end;
  for t3 in src.searchParamList do
  begin
    tgt.searchParamList.add(convertCapabilityStatementRestResourceSearchParamComponent3(t3));
  end;
  for t4 in src.operationList do
  begin
    tgt.operationList.add(convertCapabilityStatementRestOperationComponent3(t4));
  end;
  for t5 in src.compartmentList do
  begin
    tgt.compartmentList.add(convertUriToCanonical3(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementRestComponent4(src : fhir4_resources.TFhirCapabilityStatementRest) : fhir3_resources.TFhirCapabilityStatementRest;
var
  tgt : fhir3_resources.TFhirCapabilityStatementRest;
  t1 : fhir4_resources.TFhirCapabilityStatementRestResource;
  t2 : fhir4_resources.TFhirCapabilityStatementRestInteraction;
  t3 : fhir4_resources.TFhirCapabilityStatementRestResourceSearchParam;
  t4 : fhir4_resources.TFhirCapabilityStatementRestResourceOperation;
  t5 : fhir4_types.TFhirUri;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementRest.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.mode := convertRestfulCapabilityMode4(src.mode);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  if (src.security <> nil) then
    tgt.security := convertCapabilityStatementRestSecurityComponent4(src.security);

  for t1 in src.resourceList do
  begin
    tgt.resourceList.add(convertCapabilityStatementRestResourceComponent4(t1));
  end;
  for t2 in src.interactionList do
  begin
    tgt.interactionList.add(convertSystemInteractionComponent4(t2));
  end;
  for t3 in src.searchParamList do
  begin
    tgt.searchParamList.add(convertCapabilityStatementRestResourceSearchParamComponent4(t3));
  end;
  for t4 in src.operationList do
  begin
    tgt.operationList.add(convertCapabilityStatementRestOperationComponent4(t4));
  end;
  for t5 in src.compartmentList do
  begin
    tgt.compartmentList.add(convertUri4(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementRestSecurityComponent3(src : fhir3_resources.TFhirCapabilityStatementRestSecurity) : fhir4_resources.TFhirCapabilityStatementRestSecurity;
var
  tgt : fhir4_resources.TFhirCapabilityStatementRestSecurity;
  t : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementRestSecurity.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.cors := src.cors;

  for t in src.serviceList do
  begin
    tgt.serviceList.add(convertCodeableConcept3(t));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementRestSecurityComponent4(src : fhir4_resources.TFhirCapabilityStatementRestSecurity) : fhir3_resources.TFhirCapabilityStatementRestSecurity;
var
  tgt : fhir3_resources.TFhirCapabilityStatementRestSecurity;
  t : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementRestSecurity.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.cors := src.cors;

  for t in src.serviceList do
  begin
    tgt.serviceList.add(convertCodeableConcept4(t));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementRestResourceComponent3(src : fhir3_resources.TFhirCapabilityStatementRestResource) : fhir4_resources.TFhirCapabilityStatementRestResource;
var
  tgt : fhir4_resources.TFhirCapabilityStatementRestResource;
  t1 : fhir3_resources.TFhirCapabilityStatementRestResourceInteraction;
  t2 : fhir3_types.TFhirReferenceHandlingPolicyEnum;
  a : fhir4_types.TFhirReferenceHandlingPolicyEnumList;
  t3 : fhir3_types.TFhirString;
  t4: fhir3_types.TFhirString;
  t5 : fhir3_resources.TFhirCapabilityStatementRestResourceSearchParam;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementRestResource.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_element := convertType3(src.type_Element) as fhir4_types.TFHIREnum;

  if (src.profile <> nil) then
    tgt.profileElement := convertReferenceToCanonical3(src.profile);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  for t1 in src.interactionList do
  begin
    tgt.interactionList.add(convertResourceInteractionComponent3(t1));
  end;
  tgt.versioning := convertResourceVersionPolicy3(src.versioning);
  tgt.readHistory := src.readHistory;
  tgt.updateCreate := src.updateCreate;
  tgt.conditionalCreate := src.conditionalCreate;
  tgt.conditionalRead := convertConditionalReadStatus3(src.conditionalRead);
  tgt.conditionalUpdate := src.conditionalUpdate;
  tgt.conditionalDelete := convertConditionalDeleteStatus3(src.conditionalDelete);

  a := [];
  for t2 := low(fhir3_types.TFhirReferenceHandlingPolicyEnum) to high(fhir3_types.TFhirReferenceHandlingPolicyEnum) do
    if t2 in src.referencePolicy then
      a := a + [convertReferenceHandlingPolicy3(t2)];
  tgt.referencePolicy := a;

  for t3 in src.searchIncludeList do
  begin
    tgt.searchIncludeList.add(convertString3(t3));
  end;
  for t4 in src.searchRevIncludeList do
  begin
    tgt.searchRevIncludeList.add(convertString3(t4));
  end;
  for t5 in src.searchParamList do
  begin
    tgt.searchParamList.add(convertCapabilityStatementRestResourceSearchParamComponent3(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementRestResourceComponent4(src : fhir4_resources.TFhirCapabilityStatementRestResource) : fhir3_resources.TFhirCapabilityStatementRestResource;
var
  tgt : fhir3_resources.TFhirCapabilityStatementRestResource;
  t1 : fhir4_resources.TFhirCapabilityStatementRestResourceInteraction;
  t2 : fhir4_types.TFhirReferenceHandlingPolicyEnum;
  a : fhir3_types.TFhirReferenceHandlingPolicyEnumList;
  t3 : fhir4_types.TFhirString;
  t4 : fhir4_types.TFhirString;
  t5 : fhir4_resources.TFhirCapabilityStatementRestResourceSearchParam;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementRestResource.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_element := convertType4(src.type_Element) as fhir3_types.TFHIREnum;

  if (src.profile <> '') then
    tgt.profile := convertCanonicalToReference4(src.profileElement);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  for t1 in src.interactionList do
  begin
    tgt.interactionList.add(convertResourceInteractionComponent4(t1));
  end;
  tgt.versioning := convertResourceVersionPolicy4(src.versioning);
  tgt.readHistory := src.readHistory;
  tgt.updateCreate := src.updateCreate;
  tgt.conditionalCreate := src.conditionalCreate;
  tgt.conditionalRead := convertConditionalReadStatus4(src.conditionalRead);
  tgt.conditionalUpdate := src.conditionalUpdate;
  tgt.conditionalDelete := convertConditionalDeleteStatus4(src.conditionalDelete);

  a := [];
  for t2 := low(fhir4_types.TFhirReferenceHandlingPolicyEnum) to high(fhir4_types.TFhirReferenceHandlingPolicyEnum) do
    if t2 in src.referencePolicy then
      a := a + [convertReferenceHandlingPolicy4(t2)];
  tgt.referencePolicy := a;

  for t3 in src.searchIncludeList do
  begin
    tgt.searchIncludeList.add(convertString4(t3));
  end;
  for t4 in src.searchRevIncludeList do
  begin
    tgt.searchRevIncludeList.add(convertString4(t4));
  end;
  for t5 in src.searchParamList do
  begin
    tgt.searchParamList.add(convertCapabilityStatementRestResourceSearchParamComponent4(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertResourceInteractionComponent3(src : fhir3_resources.TFhirCapabilityStatementRestResourceInteraction) : fhir4_resources.TFhirCapabilityStatementRestResourceInteraction;
var
  tgt : fhir4_resources.TFhirCapabilityStatementRestResourceInteraction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementRestResourceInteraction.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertTypeRestfulInteraction3(src.code);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertResourceInteractionComponent4(src : fhir4_resources.TFhirCapabilityStatementRestResourceInteraction) : fhir3_resources.TFhirCapabilityStatementRestResourceInteraction;
var
  tgt : fhir3_resources.TFhirCapabilityStatementRestResourceInteraction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementRestResourceInteraction.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertTypeRestfulInteraction4(src.code);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementRestResourceSearchParamComponent3(src : fhir3_resources.TFhirCapabilityStatementRestResourceSearchParam) : fhir4_resources.TFhirCapabilityStatementRestResourceSearchParam;
var
  tgt : fhir4_resources.TFhirCapabilityStatementRestResourceSearchParam;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementRestResourceSearchParam.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.definition <> '') then
    tgt.definition := src.definition;

  tgt.type_ := convertSearchParamType3(src.type_);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementRestResourceSearchParamComponent4(src : fhir4_resources.TFhirCapabilityStatementRestResourceSearchParam) : fhir3_resources.TFhirCapabilityStatementRestResourceSearchParam;
var
  tgt : fhir3_resources.TFhirCapabilityStatementRestResourceSearchParam;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementRestResourceSearchParam.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.definition <> '') then
    tgt.definition := src.definition;

  tgt.type_ := convertSearchParamType4(src.type_);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSystemInteractionComponent3(src : fhir3_resources.TFhirCapabilityStatementRestInteraction) : fhir4_resources.TFhirCapabilityStatementRestInteraction;
var
  tgt : fhir4_resources.TFhirCapabilityStatementRestInteraction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementRestInteraction.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertSystemRestfulInteraction3(src.code);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSystemInteractionComponent4(src : fhir4_resources.TFhirCapabilityStatementRestInteraction) : fhir3_resources.TFhirCapabilityStatementRestInteraction;
var
  tgt : fhir3_resources.TFhirCapabilityStatementRestInteraction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementRestInteraction.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertSystemRestfulInteraction4(src.code);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementRestOperationComponent3(src : fhir3_resources.TFhirCapabilityStatementRestOperation) : fhir4_resources.TFhirCapabilityStatementRestResourceOperation;
var
  tgt : fhir4_resources.TFhirCapabilityStatementRestResourceOperation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementRestResourceOperation.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.definition <> nil) then
    tgt.definitionElement := convertReferenceToCanonical3(src.definition);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementRestOperationComponent4(src : fhir4_resources.TFhirCapabilityStatementRestResourceOperation) : fhir3_resources.TFhirCapabilityStatementRestOperation;
var
  tgt : fhir3_resources.TFhirCapabilityStatementRestOperation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementRestOperation.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.definition <> '') then
    tgt.definition := convertCanonicalToReference4(src.definitionElement);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementMessagingComponent3(src : fhir3_resources.TFhirCapabilityStatementMessaging) : fhir4_resources.TFhirCapabilityStatementMessaging;
var
  tgt : fhir4_resources.TFhirCapabilityStatementMessaging;
  t : fhir3_resources.TFhirCapabilityStatementMessagingEndpoint;
  t1 : fhir3_resources.TFhirCapabilityStatementMessagingSupportedMessage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementMessaging.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.endpointList do
  begin
    tgt.endpointList.add(convertCapabilityStatementMessagingEndpointComponent3(t));
  end;
  tgt.reliableCache := src.reliableCache;

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  for t1 in src.supportedMessageList do
  begin
    tgt.supportedMessageList.add(convertCapabilityStatementMessagingSupportedMessageComponent3(t1));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementMessagingComponent4(src : fhir4_resources.TFhirCapabilityStatementMessaging) : fhir3_resources.TFhirCapabilityStatementMessaging;
var
  tgt : fhir3_resources.TFhirCapabilityStatementMessaging;
  t : fhir4_resources.TFhirCapabilityStatementMessagingEndpoint;
  t2 : fhir4_resources.TFhirCapabilityStatementMessagingSupportedMessage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementMessaging.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.endpointList do
  begin
    tgt.endpointList.add(convertCapabilityStatementMessagingEndpointComponent4(t));
  end;
  tgt.reliableCache := src.reliableCache;

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  for t2 in src.supportedMessageList do
  begin
    tgt.supportedMessageList.add(convertCapabilityStatementMessagingSupportedMessageComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementMessagingEndpointComponent3(src : fhir3_resources.TFhirCapabilityStatementMessagingEndpoint) : fhir4_resources.TFhirCapabilityStatementMessagingEndpoint;
var
  tgt : fhir4_resources.TFhirCapabilityStatementMessagingEndpoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementMessagingEndpoint.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.protocol <> nil) then
    tgt.protocol := convertCoding3(src.protocol);

  if (src.address <> '') then
    tgt.address := src.address;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementMessagingEndpointComponent4(src : fhir4_resources.TFhirCapabilityStatementMessagingEndpoint) : fhir3_resources.TFhirCapabilityStatementMessagingEndpoint;
var
  tgt : fhir3_resources.TFhirCapabilityStatementMessagingEndpoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementMessagingEndpoint.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.protocol <> nil) then
    tgt.protocol := convertCoding4(src.protocol);

  if (src.address <> '') then
    tgt.address := src.address;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementMessagingSupportedMessageComponent3(src : fhir3_resources.TFhirCapabilityStatementMessagingSupportedMessage) : fhir4_resources.TFhirCapabilityStatementMessagingSupportedMessage;
var
  tgt : fhir4_resources.TFhirCapabilityStatementMessagingSupportedMessage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementMessagingSupportedMessage.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.mode := convertEventCapabilityMode3(src.mode);

  if (src.definition <> nil) then
    tgt.definitionElement := convertReferenceToCanonical3(src.definition);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementMessagingSupportedMessageComponent4(src : fhir4_resources.TFhirCapabilityStatementMessagingSupportedMessage) : fhir3_resources.TFhirCapabilityStatementMessagingSupportedMessage;
var
  tgt : fhir3_resources.TFhirCapabilityStatementMessagingSupportedMessage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementMessagingSupportedMessage.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.mode := convertEventCapabilityMode4(src.mode);

  if (src.definition <> '') then
    tgt.definition := convertCanonicalToReference4(src.definitionElement);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementDocumentComponent3(src : fhir3_resources.TFhirCapabilityStatementDocument) : fhir4_resources.TFhirCapabilityStatementDocument;
var
  tgt : fhir4_resources.TFhirCapabilityStatementDocument;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCapabilityStatementDocument.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.mode := convertDocumentMode3(src.mode);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  if (src.profile <> nil) then
    tgt.profileElement := convertReferenceToCanonical3(src.profile);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCapabilityStatementDocumentComponent4(src : fhir4_resources.TFhirCapabilityStatementDocument) : fhir3_resources.TFhirCapabilityStatementDocument;
var
  tgt : fhir3_resources.TFhirCapabilityStatementDocument;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCapabilityStatementDocument.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.mode := convertDocumentMode4(src.mode);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  if (src.profile <> '') then
    tgt.profile := convertCanonicalToReference4(src.profileElement);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCareTeam3(src : fhir3_resources.TFhirCareTeam) : fhir4_resources.TFhirCareTeam;
var
  tgt : fhir4_resources.TFhirCareTeam;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_resources.TFhirCareTeamParticipant;
  t4 : fhir3_types.TFhirCodeableConcept;
  t5 : fhir3_types.TFhirReference;
  t6 : fhir3_types.TFhirReference;
  t7 : fhir3_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCareTeam.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertCareTeamStatus3(src.status);

  for t2 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept3(t2));
  end;
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.context <> nil) then
    tgt.encounter := convertReference3(src.context);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  for t3 in src.participantList do
  begin
    tgt.participantList.add(convertCareTeamParticipantComponent3(t3));
  end;
  for t4 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept3(t4));
  end;
  for t5 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference3(t5));
  end;
  for t6 in src.managingOrganizationList do
  begin
    tgt.managingOrganizationList.add(convertReference3(t6));
  end;
  for t7 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCareTeam4(src : fhir4_resources.TFhirCareTeam) : fhir3_resources.TFhirCareTeam;
var
  tgt : fhir3_resources.TFhirCareTeam;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_resources.TFhirCareTeamParticipant;
  t4 : fhir4_types.TFhirCodeableConcept;
  t5 : fhir4_types.TFhirReference;
  t6 : fhir4_types.TFhirReference;
  t7 : fhir4_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCareTeam.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertCareTeamStatus4(src.status);

  for t2 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept4(t2));
  end;
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.encounter <> nil) then
    tgt.context := convertReference4(src.encounter);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  for t3 in src.participantList do
  begin
    tgt.participantList.add(convertCareTeamParticipantComponent4(t3));
  end;
  for t4 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept4(t4));
  end;
  for t5 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference4(t5));
  end;
  for t6 in src.managingOrganizationList do
  begin
    tgt.managingOrganizationList.add(convertReference4(t6));
  end;
  for t7 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCareTeamParticipantComponent3(src : fhir3_resources.TFhirCareTeamParticipant) : fhir4_resources.TFhirCareTeamParticipant;
var
  tgt : fhir4_resources.TFhirCareTeamParticipant;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCareTeamParticipant.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.role <> nil) then
    tgt.roleList.Add(convertCodeableConcept3(src.role));

  if (src.member <> nil) then
    tgt.member := convertReference3(src.member);

  if (src.onBehalfOf <> nil) then
    tgt.onBehalfOf := convertReference3(src.onBehalfOf);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCareTeamParticipantComponent4(src : fhir4_resources.TFhirCareTeamParticipant) : fhir3_resources.TFhirCareTeamParticipant;
var
  tgt : fhir3_resources.TFhirCareTeamParticipant;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCareTeamParticipant.Create();
  try
  copyBackboneElement4(src, tgt);
  if (not src.roleList.IsEmpty) then
    tgt.role := convertCodeableConcept4(src.roleList[0]);

  if (src.member <> nil) then
    tgt.member := convertReference4(src.member);

  if (src.onBehalfOf <> nil) then
    tgt.onBehalfOf := convertReference4(src.onBehalfOf);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertClinicalImpression3(src : fhir3_resources.TFhirClinicalImpression) : fhir4_resources.TFhirClinicalImpression;
var
  tgt : fhir4_resources.TFhirClinicalImpression;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_resources.TFhirClinicalImpressionInvestigation;
  t4 : fhir3_types.TFhirUri;
  t5 : fhir3_resources.TFhirClinicalImpressionFinding;
  t6 : fhir3_types.TFhirCodeableConcept;
  t7 : fhir3_types.TFhirReference;
  t8 : fhir3_types.TFhirReference;
  t9 : fhir3_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirClinicalImpression.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertClinicalImpressionStatus3(src.status);

  tgt.code := convertCodeableConcept3(src.code);

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.context <> nil) then
    tgt.encounter := convertReference3(src.context);

  if (src.effective <> nil) then
    tgt.effective := convertType3(src.effective);

  tgt.date := src.date;

  if (src.assessor <> nil) then
    tgt.assessor := convertReference3(src.assessor);

  if (src.previous <> nil) then
    tgt.previous := convertReference3(src.previous);

  for t2 in src.problemList do
  begin
    tgt.problemList.add(convertReference3(t2));
  end;
  for t3 in src.investigationList do
  begin
    tgt.investigationList.add(convertClinicalImpressionInvestigationComponent3(t3));
  end;
  for t4 in src.protocolList do
  begin
    tgt.protocolList.add(convertUri3(t4));
  end;
  if (src.summary <> '') then
    tgt.summary := src.summary;

  for t5 in src.findingList do
  begin
    tgt.findingList.add(convertClinicalImpressionFindingComponent3(t5));
  end;
  for t6 in src.prognosisCodeableConceptList do
  begin
    tgt.prognosisCodeableConceptList.add(convertCodeableConcept3(t6));
  end;
  for t7 in src.prognosisReferenceList do
  begin
    tgt.prognosisReferenceList.add(convertReference3(t7));
  end;
  for t8 in src.actionList do
  begin
    tgt.supportingInfoList.add(convertReference3(t8));
  end;
  for t9 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertClinicalImpression4(src : fhir4_resources.TFhirClinicalImpression) : fhir3_resources.TFhirClinicalImpression;
var
  tgt : fhir3_resources.TFhirClinicalImpression;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirReference;
  t3 : fhir4_resources.TFhirClinicalImpressionInvestigation;
  t4 : fhir4_types.TFhirUri;
  t5 : fhir4_resources.TFhirClinicalImpressionFinding;
  t6 : fhir4_types.TFhirCodeableConcept;
  t7 : fhir4_types.TFhirReference;
  t8 : fhir4_types.TFhirReference;
  t9 : fhir4_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirClinicalImpression.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertClinicalImpressionStatus4(src.status);

  tgt.code := convertCodeableConcept4(src.code);

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.encounter <> nil) then
    tgt.context := convertReference4(src.encounter);

  if (src.effective <> nil) then
    tgt.effective := convertType4(src.effective);

  tgt.date := src.date;

  if (src.assessor <> nil) then
    tgt.assessor := convertReference4(src.assessor);

  if (src.previous <> nil) then
    tgt.previous := convertReference4(src.previous);

  for t2 in src.problemList do
  begin
    tgt.problemList.add(convertReference4(t2));
  end;
  for t3 in src.investigationList do
  begin
    tgt.investigationList.add(convertClinicalImpressionInvestigationComponent4(t3));
  end;
  for t4 in src.protocolList do
  begin
    tgt.protocolList.add(convertUri4(t4));
  end;
  if (src.summary <> '') then
    tgt.summary := src.summary;

  for t5 in src.findingList do
  begin
    tgt.findingList.add(convertClinicalImpressionFindingComponent4(t5));
  end;
  for t6 in src.prognosisCodeableConceptList do
  begin
    tgt.prognosisCodeableConceptList.add(convertCodeableConcept4(t6));
  end;
  for t7 in src.prognosisReferenceList do
  begin
    tgt.prognosisReferenceList.add(convertReference4(t7));
  end;
  for t8 in src.supportingInfoList do
  begin
    tgt.actionList.add(convertReference4(t8));
  end;
  for t9 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertClinicalImpressionInvestigationComponent3(src : fhir3_resources.TFhirClinicalImpressionInvestigation) : fhir4_resources.TFhirClinicalImpressionInvestigation;
var
  tgt : fhir4_resources.TFhirClinicalImpressionInvestigation;
  t : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirClinicalImpressionInvestigation.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertCodeableConcept3(src.code);

  for t in src.itemList do
  begin
    tgt.itemList.add(convertReference3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertClinicalImpressionInvestigationComponent4(src : fhir4_resources.TFhirClinicalImpressionInvestigation) : fhir3_resources.TFhirClinicalImpressionInvestigation;
var
  tgt : fhir3_resources.TFhirClinicalImpressionInvestigation;
  t : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirClinicalImpressionInvestigation.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertCodeableConcept4(src.code);

  for t in src.itemList do
  begin
    tgt.itemList.add(convertReference4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertClinicalImpressionFindingComponent3(src : fhir3_resources.TFhirClinicalImpressionFinding) : fhir4_resources.TFhirClinicalImpressionFinding;
var
  tgt : fhir4_resources.TFhirClinicalImpressionFinding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirClinicalImpressionFinding.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.item is fhir3_types.TFHIRCodeableConcept) then
    tgt.itemCodeableConcept := convertCodeableConcept3(src.item as fhir3_types.TFHIRCodeableConcept);

  if (src.item is fhir3_types.TFHIRReference) then
    tgt.itemReference := convertReference3(src.item as fhir3_types.TFHIRReference);

  if (src.basis <> '') then
    tgt.basis := src.basis;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertClinicalImpressionFindingComponent4(src : fhir4_resources.TFhirClinicalImpressionFinding) : fhir3_resources.TFhirClinicalImpressionFinding;
var
  tgt : fhir3_resources.TFhirClinicalImpressionFinding;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirClinicalImpressionFinding.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.itemCodeableConcept <> nil) then
    tgt.item := convertType4(src.itemCodeableConcept)
  else
    if (src.itemReference <> nil) then
      tgt.item := convertType4(src.itemReference);

  if (src.basis <> '') then
    tgt.basis := src.basis;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCodeSystem3(src : fhir3_resources.TFhirCodeSystem) : fhir4_resources.TFhirCodeSystem;
var
  tgt : fhir4_resources.TFhirCodeSystem;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_resources.TFhirCodeSystemFilter;
  t5 : fhir3_resources.TFhirCodeSystemProperty;
  t6 : fhir3_resources.TFhirCodeSystemConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCodeSystem.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.identifier <> nil) then
    tgt.identifierList.add(convertIdentifier3(src.identifier));

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  tgt.caseSensitive := src.caseSensitive;

  if (src.valueSet <> '') then
    tgt.valueSet := src.valueSet;

  tgt.hierarchyMeaning := convertCodeSystemHierarchyMeaning3(src.hierarchyMeaning);

  tgt.compositional := src.compositional;

  tgt.versionNeeded := src.versionNeeded;

  tgt.content := convertCodeSystemContentMode3(src.content);

  tgt.count := src.count;

  for t4 in src.filterList do
  begin
    tgt.filterList.add(convertCodeSystemFilterComponent3(t4));
  end;
  for t5 in src.property_List do
  begin
    tgt.property_List.add(convertPropertyComponent3(t5));
  end;
  for t6 in src.conceptList do
  begin
    tgt.conceptList.add(convertConceptDefinitionComponent3(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCodeSystem4(src : fhir4_resources.TFhirCodeSystem) : fhir3_resources.TFhirCodeSystem;
var
  tgt : fhir3_resources.TFhirCodeSystem;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_resources.TFhirCodeSystemFilter;
  t5 : fhir4_resources.TFhirCodeSystemProperty;
  t6 : fhir4_resources.TFhirCodeSystemConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCodeSystem.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (not src.identifierList.IsEmpty) then
    tgt.identifier := convertIdentifier4(src.identifierList[0]);

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  tgt.caseSensitive := src.caseSensitive;

  if (src.valueSet <> '') then
    tgt.valueSet := src.valueSet;

  tgt.hierarchyMeaning := convertCodeSystemHierarchyMeaning4(src.hierarchyMeaning);

  tgt.compositional := src.compositional;

  tgt.versionNeeded := src.versionNeeded;

  tgt.content := convertCodeSystemContentMode4(src.content);

  tgt.count := src.count;

  for t4 in src.filterList do
  begin
    tgt.filterList.add(convertCodeSystemFilterComponent4(t4));
  end;
  for t5 in src.property_List do
  begin
    tgt.property_List.add(convertPropertyComponent4(t5));
  end;
  for t6 in src.conceptList do
  begin
    tgt.conceptList.add(convertConceptDefinitionComponent4(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCodeSystemFilterComponent3(src : fhir3_resources.TFhirCodeSystemFilter) : fhir4_resources.TFhirCodeSystemFilter;
var
  tgt : fhir4_resources.TFhirCodeSystemFilter;
  t : fhir3_types.TFhirFilterOperatorEnum;
  a : fhir4_types.TFhirFilterOperatorEnumList;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCodeSystemFilter.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.description <> '') then
    tgt.description := src.description;

  a := [];
  for t := low(fhir3_types.TFhirFilterOperatorEnum) to high(fhir3_types.TFhirFilterOperatorEnum) do
    if t in src.operator then
      a := a + [convertFilterOperator3(t)];
  tgt.operator := a;

  if (src.value <> '') then
    tgt.value := src.value;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCodeSystemFilterComponent4(src : fhir4_resources.TFhirCodeSystemFilter) : fhir3_resources.TFhirCodeSystemFilter;
var
  tgt : fhir3_resources.TFhirCodeSystemFilter;
  t : fhir4_types.TFhirFilterOperatorEnum;
  a : fhir3_types.TFhirFilterOperatorEnumList;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCodeSystemFilter.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.description <> '') then
    tgt.description := src.description;

  a := [];
  for t := low(fhir4_types.TFhirFilterOperatorEnum) to high(fhir4_types.TFhirFilterOperatorEnum) do
    if t in src.operator then
      a := a + [convertFilterOperator4(t)];
  tgt.operator := a;
  if (src.value <> '') then
    tgt.value := src.value;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPropertyComponent3(src : fhir3_resources.TFhirCodeSystemProperty) : fhir4_resources.TFhirCodeSystemProperty;
var
  tgt : fhir4_resources.TFhirCodeSystemProperty;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCodeSystemProperty.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.uri <> '') then
    tgt.uri := src.uri;

  if (src.description <> '') then
    tgt.description := src.description;

  tgt.type_ := convertPropertyType3(src.type_);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPropertyComponent4(src : fhir4_resources.TFhirCodeSystemProperty) : fhir3_resources.TFhirCodeSystemProperty;
var
  tgt : fhir3_resources.TFhirCodeSystemProperty;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCodeSystemProperty.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.uri <> '') then
    tgt.uri := src.uri;

  if (src.description <> '') then
    tgt.description := src.description;

  tgt.type_ := convertPropertyType4(src.type_);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptDefinitionComponent3(src : fhir3_resources.TFhirCodeSystemConcept) : fhir4_resources.TFhirCodeSystemConcept;
var
  tgt : fhir4_resources.TFhirCodeSystemConcept;
  t1 : fhir3_resources.TFhirCodeSystemConceptDesignation;
  t2 : fhir3_resources.TFhirCodeSystemConceptProperty;
  t3 : fhir3_resources.TFhirCodeSystemConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCodeSystemConcept.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  if (src.definition <> '') then
    tgt.definition := src.definition;

  for t1 in src.designationList do
  begin
    tgt.designationList.add(convertConceptDefinitionDesignationComponent3(t1));
  end;
  for t2 in src.property_List do
  begin
    tgt.property_List.add(convertConceptPropertyComponent3(t2));
  end;
  for t3 in src.conceptList do
  begin
    tgt.conceptList.add(convertConceptDefinitionComponent3(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptDefinitionComponent4(src : fhir4_resources.TFhirCodeSystemConcept) : fhir3_resources.TFhirCodeSystemConcept;
var
  tgt : fhir3_resources.TFhirCodeSystemConcept;
  t1 : fhir4_resources.TFhirCodeSystemConceptDesignation;
  t2 : fhir4_resources.TFhirCodeSystemConceptProperty;
  t3 : fhir4_resources.TFhirCodeSystemConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCodeSystemConcept.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  if (src.definition <> '') then
    tgt.definition := src.definition;

  for t1 in src.designationList do
  begin
    tgt.designationList.add(convertConceptDefinitionDesignationComponent4(t1));
  end;
  for t2 in src.property_List do
  begin
    tgt.property_List.add(convertConceptPropertyComponent4(t2));
  end;
  for t3 in src.conceptList do
  begin
    tgt.conceptList.add(convertConceptDefinitionComponent4(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptDefinitionDesignationComponent3(src : fhir3_resources.TFhirCodeSystemConceptDesignation) : fhir4_resources.TFhirCodeSystemConceptDesignation;
var
  tgt : fhir4_resources.TFhirCodeSystemConceptDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCodeSystemConceptDesignation.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.language <> '') then
    tgt.language := src.language;

  if (src.use <> nil) then
    tgt.use := convertCoding3(src.use);

  if (src.value <> '') then
    tgt.value := src.value;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptDefinitionDesignationComponent4(src : fhir4_resources.TFhirCodeSystemConceptDesignation) : fhir3_resources.TFhirCodeSystemConceptDesignation;
var
  tgt : fhir3_resources.TFhirCodeSystemConceptDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCodeSystemConceptDesignation.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.language <> '') then
    tgt.language := src.language;

  if (src.use <> nil) then
    tgt.use := convertCoding4(src.use);

  if (src.value <> '') then
    tgt.value := src.value;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptPropertyComponent3(src : fhir3_resources.TFhirCodeSystemConceptProperty) : fhir4_resources.TFhirCodeSystemConceptProperty;
var
  tgt : fhir4_resources.TFhirCodeSystemConceptProperty;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCodeSystemConceptProperty.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptPropertyComponent4(src : fhir4_resources.TFhirCodeSystemConceptProperty) : fhir3_resources.TFhirCodeSystemConceptProperty;
var
  tgt : fhir3_resources.TFhirCodeSystemConceptProperty;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCodeSystemConceptProperty.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCommunication3(src : fhir3_resources.TFhirCommunication) : fhir4_resources.TFhirCommunication;
var
  tgt : fhir4_resources.TFhirCommunication;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_types.TFhirReference;
  t4 : fhir3_types.TFhirReference;
  t5 : fhir3_types.TFhirCodeableConcept;
  t6 : fhir3_types.TFhirCodeableConcept;
  t7 : fhir3_types.TFhirReference;
  t8 : fhir3_types.TFhirCodeableConcept;
  t9 : fhir3_types.TFhirReference;
  ta : fhir3_resources.TFhirCommunicationPayload;
  tb : fhir3_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCommunication.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  for t2 in src.definitionList do
  begin
    tgt.instantiatesCanonicalList.add(fhir4_types.TFHIRCanonical.Create(t2.reference));
  end;
  for t3 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference3(t3));
  end;
  for t4 in src.partOfList do
  begin
    tgt.partOfList.add(convertReference3(t4));
  end;
  if (src.notDone) then
    tgt.Status := fhir4_types.TFhirEventStatusEnum.EventStatusNull
  else
    tgt.status := convertCommunicationStatus3(src.status);

  if (src.notDoneReason <> nil) then
    tgt.statusReason := convertCodeableConcept3(src.notDoneReason);

  for t5 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept3(t5));
  end;
  for t6 in src.mediumList do
  begin
    tgt.mediumList.add(convertCodeableConcept3(t6));
  end;
  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  for t7 in src.recipientList do
  begin
    tgt.recipientList.add(convertReference3(t7));
  end;
  if (src.context <> nil) then
    tgt.encounter := convertReference3(src.context);

  tgt.sent := src.sent;
  tgt.received := src.received;

  if (src.sender <> nil) then
    tgt.sender := convertReference3(src.sender);

  for t8 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept3(t8));
  end;
  for t9 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference3(t9));
  end;
  for ta in src.payloadList do
  begin
    tgt.payloadList.add(convertCommunicationPayloadComponent3(ta));
  end;
  for tb in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(tb));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCommunication4(src : fhir4_resources.TFhirCommunication) : fhir3_resources.TFhirCommunication;
var
  tgt : fhir3_resources.TFhirCommunication;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirUri;
  t3 : fhir4_types.TFhirReference;
  t4 : fhir4_types.TFhirReference;
  t5 : fhir4_types.TFhirCodeableConcept;
  t6 : fhir4_types.TFhirCodeableConcept;
  t7 : fhir4_types.TFhirReference;
  t8 : fhir4_types.TFhirCodeableConcept;
  t9 : fhir4_types.TFhirReference;
  ta : fhir4_resources.TFhirCommunicationPayload;
  tb : fhir4_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCommunication.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  for t2 in src.instantiatesCanonicalList do
  begin
    tgt.definitionList.add(fhir3_types.TFhirReference.Create(t2.Value));
  end;
  for t3 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference4(t3));
  end;
  for t4 in src.partOfList do
  begin
    tgt.partOfList.add(convertReference4(t4));
  end;
  if (src.Status = fhir4_types.TFhirEventStatusEnum.EventStatusNull) then
      tgt.notDone := true
  else
      tgt.status := convertCommunicationStatus4(src.status);

  if (src.statusReason <> nil) then
    tgt.notDoneReason := convertCodeableConcept4(src.statusReason);

  for t5 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept4(t5));
  end;
  for t6 in src.mediumList do
  begin
    tgt.mediumList.add(convertCodeableConcept4(t6));
  end;
  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  for t7 in src.recipientList do
  begin
    tgt.recipientList.add(convertReference4(t7));
  end;
  if (src.encounter <> nil) then
    tgt.context := convertReference4(src.encounter);

  tgt.sent := src.sent;
  tgt.received := src.received;

  if (src.sender <> nil) then
    tgt.sender := convertReference4(src.sender);

  for t8 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept4(t8));
  end;
  for t9 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference4(t9));
  end;
  for ta in src.payloadList do
  begin
    tgt.payloadList.add(convertCommunicationPayloadComponent4(ta));
  end;
  for tb in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(tb));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCommunicationPayloadComponent3(src : fhir3_resources.TFhirCommunicationPayload) : fhir4_resources.TFhirCommunicationPayload;
var
  tgt : fhir4_resources.TFhirCommunicationPayload;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCommunicationPayload.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.content <> nil) then
    tgt.content := convertType3(src.content);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCommunicationPayloadComponent4(src : fhir4_resources.TFhirCommunicationPayload) : fhir3_resources.TFhirCommunicationPayload;
var
  tgt : fhir3_resources.TFhirCommunicationPayload;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCommunicationPayload.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.content <> nil) then
    tgt.content := convertType4(src.content);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCompartmentDefinition3(src : fhir3_resources.TFhirCompartmentDefinition) : fhir4_resources.TFhirCompartmentDefinition;
var
  tgt : fhir4_resources.TFhirCompartmentDefinition;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_resources.TFhirCompartmentDefinitionResource;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCompartmentDefinition.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  tgt.code := convertCompartmentType3(src.code);

  tgt.search := src.search;

  for t4 in src.resourceList do
  begin
    tgt.resourceList.add(convertCompartmentDefinitionResourceComponent3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCompartmentDefinition4(src : fhir4_resources.TFhirCompartmentDefinition) : fhir3_resources.TFhirCompartmentDefinition;
var
  tgt : fhir3_resources.TFhirCompartmentDefinition;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_resources.TFhirCompartmentDefinitionResource;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCompartmentDefinition.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  tgt.code := convertCompartmentType4(src.code);

  tgt.search := src.search;

  for t4 in src.resourceList do
  begin
    tgt.resourceList.add(convertCompartmentDefinitionResourceComponent4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCompartmentDefinitionResourceComponent3(src : fhir3_resources.TFhirCompartmentDefinitionResource) : fhir4_resources.TFhirCompartmentDefinitionResource;
var
  tgt : fhir4_resources.TFhirCompartmentDefinitionResource;
  t : fhir3_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCompartmentDefinitionResource.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertActivityDefinitionKind3(src.code);

  for t in src.paramList do
  begin
    tgt.paramList.add(convertString3(t));
  end;
  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCompartmentDefinitionResourceComponent4(src : fhir4_resources.TFhirCompartmentDefinitionResource) : fhir3_resources.TFhirCompartmentDefinitionResource;
var
  tgt : fhir3_resources.TFhirCompartmentDefinitionResource;
  t : fhir4_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCompartmentDefinitionResource.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertActivityDefinitionKind4(src.code);

  for t in src.paramList do
  begin
    tgt.paramList.add(convertString4(t));
  end;
  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertComposition3(src : fhir3_resources.TFhirComposition) : fhir4_resources.TFhirComposition;
var
  tgt : fhir4_resources.TFhirComposition;
  t1 : fhir3_types.TFhirReference;
  t2 : fhir3_resources.TFhirCompositionAttester;
  t3 : fhir3_resources.TFhirCompositionRelatesTo;
  t4 : fhir3_resources.TFhirCompositionEvent;
  t5 : fhir3_resources.TFhirCompositionSection;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirComposition.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier3(src.identifier);

  tgt.status := convertCompositionStatus3(src.status);

  tgt.type_ := convertCodeableConcept3(src.type_);

  if (src.class_ <> nil) then
    tgt.categoryList.Add(convertCodeableConcept3(src.class_));

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.encounter <> nil) then
    tgt.encounter := convertReference3(src.encounter);

  tgt.date := src.date;

  for t1 in src.authorList do
  begin
    tgt.authorList.add(convertReference3(t1));
  end;
  if (src.title <> '') then
    tgt.title := src.title;

  tgt.confidentiality := convertDocumentConfidentiality3(src.confidentiality);

  for t2 in src.attesterList do
  begin
    tgt.attesterList.add(convertCompositionAttesterComponent3(t2));
  end;
  if (src.custodian <> nil) then
    tgt.custodian := convertReference3(src.custodian);

  for t3 in src.relatesToList do
  begin
    tgt.relatesToList.add(convertCompositionRelatesToComponent3(t3));
  end;
  for t4 in src.eventList do
  begin
    tgt.eventList.add(convertCompositionEventComponent3(t4));
  end;
  for t5 in src.sectionList do
  begin
    tgt.sectionList.add(convertSectionComponent3(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertComposition4(src : fhir4_resources.TFhirComposition) : fhir3_resources.TFhirComposition;
var
  tgt : fhir3_resources.TFhirComposition;
  t1 : fhir4_types.TFhirReference;
  t2 : fhir4_resources.TFhirCompositionAttester;
  t3 : fhir4_resources.TFhirCompositionRelatesTo;
  t4 : fhir4_resources.TFhirCompositionEvent;
  t5 : fhir4_resources.TFhirCompositionSection;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirComposition.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.identifier);

  tgt.status := convertCompositionStatus4(src.status);

  tgt.type_ := convertCodeableConcept4(src.type_);

  if (src.categoryList.Count > 0) then
    tgt.class_ := convertCodeableConcept4(src.categoryList[0]);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.encounter <> nil) then
    tgt.encounter := convertReference4(src.encounter);

  tgt.date := src.date;

  for t1 in src.authorList do
  begin
    tgt.authorList.add(convertReference4(t1));
  end;
  if (src.title <> '') then
    tgt.title := src.title;

  tgt.confidentiality := convertDocumentConfidentiality4(src.confidentiality);

  for t2 in src.attesterList do
  begin
    tgt.attesterList.add(convertCompositionAttesterComponent4(t2));
  end;
  if (src.custodian <> nil) then
    tgt.custodian := convertReference4(src.custodian);

  for t3 in src.relatesToList do
  begin
    tgt.relatesToList.add(convertCompositionRelatesToComponent4(t3));
  end;
  for t4 in src.eventList do
  begin
    tgt.eventList.add(convertCompositionEventComponent4(t4));
  end;
  for t5 in src.sectionList do
  begin
    tgt.sectionList.add(convertSectionComponent4(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCompositionAttesterComponent3(src : fhir3_resources.TFhirCompositionAttester) : fhir4_resources.TFhirCompositionAttester;
var
  tgt : fhir4_resources.TFhirCompositionAttester;
  t : fhir3_types.TFhirCompositionAttestationModeEnum;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCompositionAttester.Create();
  try
  copyBackboneElement3(src, tgt);
  for t := low(fhir3_types.TFhirCompositionAttestationModeEnum) to high(fhir3_types.TFhirCompositionAttestationModeEnum) do
    if t in src.mode then
      tgt.mode := convertCompositionAttestationMode3(t);

  tgt.time := src.time.link;

  if (src.party <> nil) then
    tgt.party := convertReference3(src.party);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCompositionAttesterComponent4(src : fhir4_resources.TFhirCompositionAttester) : fhir3_resources.TFhirCompositionAttester;
var
  tgt : fhir3_resources.TFhirCompositionAttester;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCompositionAttester.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.mode := [convertCompositionAttestationMode4(src.Mode)];

  tgt.time := src.time.link;

  if (src.party <> nil) then
    tgt.party := convertReference4(src.party);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCompositionRelatesToComponent3(src : fhir3_resources.TFhirCompositionRelatesTo) : fhir4_resources.TFhirCompositionRelatesTo;
var
  tgt : fhir4_resources.TFhirCompositionRelatesTo;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCompositionRelatesTo.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertDocumentRelationshipType3(src.code);

  if (src.target <> nil) then
    tgt.target := convertType3(src.target);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCompositionRelatesToComponent4(src : fhir4_resources.TFhirCompositionRelatesTo) : fhir3_resources.TFhirCompositionRelatesTo;
var
  tgt : fhir3_resources.TFhirCompositionRelatesTo;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCompositionRelatesTo.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertDocumentRelationshipType4(src.code);

  if (src.target <> nil) then
    tgt.target := convertType4(src.target);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCompositionEventComponent3(src : fhir3_resources.TFhirCompositionEvent) : fhir4_resources.TFhirCompositionEvent;
var
  tgt : fhir4_resources.TFhirCompositionEvent;
  t1 : fhir3_types.TFhirCodeableConcept;
  t2 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCompositionEvent.Create();
  try
  copyBackboneElement3(src, tgt);
  for t1 in src.codeList do
  begin
    tgt.codeList.add(convertCodeableConcept3(t1));
  end;
  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  for t2 in src.detailList do
  begin
    tgt.detailList.add(convertReference3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCompositionEventComponent4(src : fhir4_resources.TFhirCompositionEvent) : fhir3_resources.TFhirCompositionEvent;
var
  tgt : fhir3_resources.TFhirCompositionEvent;
  t1 : fhir4_types.TFhirCodeableConcept;
  t2 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCompositionEvent.Create();
  try
  copyBackboneElement4(src, tgt);
  for t1 in src.codeList do
  begin
    tgt.codeList.add(convertCodeableConcept4(t1));
  end;
  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  for t2 in src.detailList do
  begin
    tgt.detailList.add(convertReference4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSectionComponent3(src : fhir3_resources.TFhirCompositionSection) : fhir4_resources.TFhirCompositionSection;
var
  tgt : fhir4_resources.TFhirCompositionSection;
  t1 : fhir3_types.TFhirReference;
  t2 : fhir3_resources.TFhirCompositionSection;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCompositionSection.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.title <> '') then
    tgt.title := src.title;

  tgt.code := convertCodeableConcept3(src.code);

  if (src.text <> nil) then
    tgt.text := convertNarrative3(src.text);

  tgt.mode := convertSectionMode3(src.mode);

  if (src.orderedBy <> nil) then
    tgt.orderedBy := convertCodeableConcept3(src.orderedBy);

  for t1 in src.entryList do
  begin
    tgt.entryList.add(convertReference3(t1));
  end;
  if (src.emptyReason <> nil) then
    tgt.emptyReason := convertCodeableConcept3(src.emptyReason);

  for t2 in src.sectionList do
  begin
    tgt.sectionList.add(convertSectionComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSectionComponent4(src : fhir4_resources.TFhirCompositionSection) : fhir3_resources.TFhirCompositionSection;
var
  tgt : fhir3_resources.TFhirCompositionSection;
  t1 : fhir4_types.TFhirReference;
  t2 : fhir4_resources.TFhirCompositionSection;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCompositionSection.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.title <> '') then
    tgt.title := src.title;

  tgt.code := convertCodeableConcept4(src.code);

  if (src.text <> nil) then
    tgt.text := convertNarrative4(src.text);

  tgt.mode := convertSectionMode4(src.mode);

  if (src.orderedBy <> nil) then
    tgt.orderedBy := convertCodeableConcept4(src.orderedBy);

  for t1 in src.entryList do
  begin
    tgt.entryList.add(convertReference4(t1));
  end;
  if (src.emptyReason <> nil) then
    tgt.emptyReason := convertCodeableConcept4(src.emptyReason);

  for t2 in src.sectionList do
  begin
    tgt.sectionList.add(convertSectionComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptMap3(src : fhir3_resources.TFhirConceptMap) : fhir4_resources.TFhirConceptMap;
var
  tgt : fhir4_resources.TFhirConceptMap;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirType;
  t5 : fhir4_types.TFhirType;
  t6 : fhir3_resources.TFhirConceptMapGroup;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirConceptMap.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier3(src.identifier);

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  if (src.source <> nil) then
  begin
    t4 := convertType3(src.Source);
    if (t4 is fhir4_types.TFhirReference) then
    begin
      tgt.Source := fhir4_types.TFhirCanonical.Create((t4 as fhir4_types.TFhirReference).Reference);
      t4.free;
    end
    else
      tgt.Source := t4;
  end;

  if (src.target <> nil) then
  begin
    t5 := convertType3(src.Target);
    if (t5 is fhir4_types.TFhirReference) then
    begin
      tgt.Source := fhir4_types.TFhirCanonical.Create((t5 as fhir4_types.TFhirReference).Reference);
      t5.free;
    end
    else
      tgt.Source := t5;
  end;

  for t6 in src.groupList do
  begin
    tgt.groupList.add(convertConceptMapGroupComponent3(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptMap4(src : fhir4_resources.TFhirConceptMap) : fhir3_resources.TFhirConceptMap;
var
  tgt : fhir3_resources.TFhirConceptMap;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_resources.TFhirConceptMapGroup;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirConceptMap.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.identifier);

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  if (src.source <> nil) then
    tgt.source := convertType4(src.source);

  if (src.target <> nil) then
    tgt.target := convertType4(src.target);

  for t4 in src.groupList do
  begin
    tgt.groupList.add(convertConceptMapGroupComponent4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptMapGroupComponent3(src : fhir3_resources.TFhirConceptMapGroup) : fhir4_resources.TFhirConceptMapGroup;
var
  tgt : fhir4_resources.TFhirConceptMapGroup;
  t : fhir3_resources.TFhirConceptMapGroupElement;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirConceptMapGroup.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.source <> '') then
    tgt.source := src.source;

  if (src.sourceVersion <> '') then
    tgt.sourceVersion := src.sourceVersion;

  if (src.target <> '') then
    tgt.target := src.target;

  if (src.targetVersion <> '') then
    tgt.targetVersion := src.targetVersion;

  for t in src.elementList do
  begin
    tgt.elementList.add(convertSourceElementComponent3(t));
  end;
  if (src.unmapped <> nil) then
    tgt.unmapped := convertConceptMapGroupUnmappedComponent3(src.unmapped);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptMapGroupComponent4(src : fhir4_resources.TFhirConceptMapGroup) : fhir3_resources.TFhirConceptMapGroup;
var
  tgt : fhir3_resources.TFhirConceptMapGroup;
  t : fhir4_resources.TFhirConceptMapGroupElement;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirConceptMapGroup.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.source <> '') then
    tgt.source := src.source;

  if (src.sourceVersion <> '') then
    tgt.sourceVersion := src.sourceVersion;

  if (src.target <> '') then
    tgt.target := src.target;

  if (src.targetVersion <> '') then
    tgt.targetVersion := src.targetVersion;

  for t in src.elementList do
  begin
    tgt.elementList.add(convertSourceElementComponent4(t));
  end;
  if (src.unmapped <> nil) then
    tgt.unmapped := convertConceptMapGroupUnmappedComponent4(src.unmapped);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSourceElementComponent3(src : fhir3_resources.TFhirConceptMapGroupElement) : fhir4_resources.TFhirConceptMapGroupElement;
var
  tgt : fhir4_resources.TFhirConceptMapGroupElement;
  t : fhir3_resources.TFhirConceptMapGroupElementTarget;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirConceptMapGroupElement.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  for t in src.targetList do
  begin
    tgt.targetList.add(convertTargetElementComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSourceElementComponent4(src : fhir4_resources.TFhirConceptMapGroupElement) : fhir3_resources.TFhirConceptMapGroupElement;
var
  tgt : fhir3_resources.TFhirConceptMapGroupElement;
  t : fhir4_resources.TFhirConceptMapGroupElementTarget;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirConceptMapGroupElement.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  for t in src.targetList do
  begin
    tgt.targetList.add(convertTargetElementComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertTargetElementComponent3(src : fhir3_resources.TFhirConceptMapGroupElementTarget) : fhir4_resources.TFhirConceptMapGroupElementTarget;
var
  tgt : fhir4_resources.TFhirConceptMapGroupElementTarget;
  t1 : fhir3_resources.TFhirConceptMapGroupElementTargetDependsOn;
  t2 : fhir3_resources.TFhirConceptMapGroupElementTargetDependsOn;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirConceptMapGroupElementTarget.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  tgt.equivalence := convertConceptMapEquivalence3(src.equivalence);

  if (src.comment <> '') then
    tgt.comment := src.comment;

  for t1 in src.dependsOnList do
  begin
    tgt.dependsOnList.add(convertOtherElementComponent3(t1));
  end;
  for t2 in src.productList do
  begin
    tgt.productList.add(convertOtherElementComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertTargetElementComponent4(src : fhir4_resources.TFhirConceptMapGroupElementTarget) : fhir3_resources.TFhirConceptMapGroupElementTarget;
var
  tgt : fhir3_resources.TFhirConceptMapGroupElementTarget;
  t1 : fhir4_resources.TFhirConceptMapGroupElementTargetDependsOn;
  t2 : fhir4_resources.TFhirConceptMapGroupElementTargetDependsOn;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirConceptMapGroupElementTarget.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  tgt.equivalence := convertConceptMapEquivalence4(src.equivalence);

  if (src.comment <> '') then
    tgt.comment := src.comment;

  for t1 in src.dependsOnList do
  begin
    tgt.dependsOnList.add(convertOtherElementComponent4(t1));
  end;
  for t2 in src.productList do
  begin
    tgt.productList.add(convertOtherElementComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOtherElementComponent3(src : fhir3_resources.TFhirConceptMapGroupElementTargetDependsOn) : fhir4_resources.TFhirConceptMapGroupElementTargetDependsOn;
var
  tgt : fhir4_resources.TFhirConceptMapGroupElementTargetDependsOn;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirConceptMapGroupElementTargetDependsOn.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.property_ := src.property_;

  if (src.system <> '') then
    tgt.system := src.system;

  if (src.code <> '') then
    tgt.value := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOtherElementComponent4(src : fhir4_resources.TFhirConceptMapGroupElementTargetDependsOn) : fhir3_resources.TFhirConceptMapGroupElementTargetDependsOn;
var
  tgt : fhir3_resources.TFhirConceptMapGroupElementTargetDependsOn;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirConceptMapGroupElementTargetDependsOn.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.property_ := src.property_;

  if (src.system <> '') then
    tgt.system := src.system;

  if (src.value <> '') then
    tgt.code := src.value;

  if (src.display <> '') then
    tgt.display := src.display;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptMapGroupUnmappedComponent3(src : fhir3_resources.TFhirConceptMapGroupUnmapped) : fhir4_resources.TFhirConceptMapGroupUnmapped;
var
  tgt : fhir4_resources.TFhirConceptMapGroupUnmapped;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirConceptMapGroupUnmapped.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.mode := convertConceptMapGroupUnmappedMode3(src.mode);

  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  if (src.url <> '') then
    tgt.url := src.url;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptMapGroupUnmappedComponent4(src : fhir4_resources.TFhirConceptMapGroupUnmapped) : fhir3_resources.TFhirConceptMapGroupUnmapped;
var
  tgt : fhir3_resources.TFhirConceptMapGroupUnmapped;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirConceptMapGroupUnmapped.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.mode := convertConceptMapGroupUnmappedMode4(src.mode);

  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  if (src.url <> '') then
    tgt.url := src.url;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCondition3(src : fhir3_resources.TFhirCondition) : fhir4_resources.TFhirCondition;
var
  tgt : fhir4_resources.TFhirCondition;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_resources.TFhirConditionEvidence;
  t5 : fhir3_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirCondition.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.clinicalStatus := convertConditionClinicalStatus3(src.clinicalStatus);
  tgt.verificationStatus := convertConditionVerificationStatus3(src.verificationStatus);

  for t2 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept3(t2));
  end;
  if (src.severity <> nil) then
    tgt.severity := convertCodeableConcept3(src.severity);

  tgt.code := convertCodeableConcept3(src.code);

  for t3 in src.bodySiteList do
  begin
    tgt.bodySiteList.add(convertCodeableConcept3(t3));
  end;
  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.context <> nil) then
    tgt.encounter := convertReference3(src.context);

  if (src.onset <> nil) then
    tgt.onset := convertType3(src.onset);

  if (src.abatement <> nil) then
    tgt.abatement := convertType3(src.abatement);

  tgt.recordedDate := src.assertedDate;

  if (src.asserter <> nil) then
    tgt.asserter := convertReference3(src.asserter);

  if (src.stage <> nil) then
    tgt.stageList.add(convertConditionStageComponent3(src.Stage));

  for t4 in src.evidenceList do
  begin
    tgt.evidenceList.add(convertConditionEvidenceComponent3(t4));
  end;
  for t5 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCondition4(src : fhir4_resources.TFhirCondition) : fhir3_resources.TFhirCondition;
var
  tgt : fhir3_resources.TFhirCondition;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_resources.TFhirConditionEvidence;
  t5 : fhir4_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirCondition.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.clinicalStatus := convertConditionClinicalStatus4(src.clinicalStatus);
  tgt.verificationStatus := convertConditionVerificationStatus4(src.verificationStatus);

  for t2 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept4(t2));
  end;
  if (src.severity <> nil) then
    tgt.severity := convertCodeableConcept4(src.severity);

  tgt.code := convertCodeableConcept4(src.code);

  for t3 in src.bodySiteList do
  begin
    tgt.bodySiteList.add(convertCodeableConcept4(t3));
  end;
  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.encounter <> nil) then
    tgt.context := convertReference4(src.encounter);

  if (src.onset <> nil) then
    tgt.onset := convertType4(src.onset);

  if (src.abatement <> nil) then
    tgt.abatement := convertType4(src.abatement);

  tgt.assertedDate := src.recordedDate;

  if (src.asserter <> nil) then
    tgt.asserter := convertReference4(src.asserter);

  if (src.stageList.count > 0) then
    tgt.stage := convertConditionStageComponent4(src.stageList[0]);

  for t4 in src.evidenceList do
  begin
    tgt.evidenceList.add(convertConditionEvidenceComponent4(t4));
  end;
  for t5 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConditionStageComponent3(src : fhir3_resources.TFhirConditionStage) : fhir4_resources.TFhirConditionStage;
var
  tgt : fhir4_resources.TFhirConditionStage;
  t : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirConditionStage.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.summary <> nil) then
    tgt.summary := convertCodeableConcept3(src.summary);

  for t in src.assessmentList do
  begin
    tgt.assessmentList.add(convertReference3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConditionStageComponent4(src : fhir4_resources.TFhirConditionStage) : fhir3_resources.TFhirConditionStage;
var
  tgt : fhir3_resources.TFhirConditionStage;
  t : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirConditionStage.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.summary <> nil) then
    tgt.summary := convertCodeableConcept4(src.summary);

  for t in src.assessmentList do
  begin
    tgt.assessmentList.add(convertReference4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConditionEvidenceComponent3(src : fhir3_resources.TFhirConditionEvidence) : fhir4_resources.TFhirConditionEvidence;
var
  tgt : fhir4_resources.TFhirConditionEvidence;
  t1 : fhir3_types.TFhirCodeableConcept;
  t2 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirConditionEvidence.Create();
  try
  copyBackboneElement3(src, tgt);
  for t1 in src.codeList do
  begin
    tgt.codeList.add(convertCodeableConcept3(t1));
  end;
  for t2 in src.detailList do
  begin
    tgt.detailList.add(convertReference3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConditionEvidenceComponent4(src : fhir4_resources.TFhirConditionEvidence) : fhir3_resources.TFhirConditionEvidence;
var
  tgt : fhir3_resources.TFhirConditionEvidence;
  t1 : fhir4_types.TFhirCodeableConcept;
  t2 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirConditionEvidence.Create();
  try
  copyBackboneElement4(src, tgt);
  for t1 in src.codeList do
  begin
    tgt.codeList.add(convertCodeableConcept4(t1));
  end;
  for t2 in src.detailList do
  begin
    tgt.detailList.add(convertReference4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConsent3(src : fhir3_resources.TFhirConsent) : fhir4_resources.TFhirConsent;
var
  tgt : fhir4_resources.TFhirConsent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirConsent.Create();
  try
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConsent4(src : fhir4_resources.TFhirConsent) : fhir3_resources.TFhirConsent;
var
  tgt : fhir3_resources.TFhirConsent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirConsent.Create();
  try
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConsentPolicyComponent3(src : fhir3_resources.TFhirConsentPolicy) : fhir4_resources.TFhirConsentPolicy;
var
  tgt : fhir4_resources.TFhirConsentPolicy;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirConsentPolicy.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.authority <> '') then
    tgt.authority := src.authority;

  if (src.uri <> '') then
    tgt.uri := src.uri;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConsentPolicyComponent4(src : fhir4_resources.TFhirConsentPolicy) : fhir3_resources.TFhirConsentPolicy;
var
  tgt : fhir3_resources.TFhirConsentPolicy;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirConsentPolicy.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.authority <> '') then
    tgt.authority := src.authority;

  if (src.uri <> '') then
    tgt.uri := src.uri;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDataElement3(src : fhir3_resources.TFhirDataElement) : fhir4_resources.TFhirStructureDefinition;
var
  tgt : fhir4_resources.TFhirStructureDefinition;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirContactDetail;
  t3 : fhir3_types.TFhirUsageContext;
  t4 : fhir3_types.TFhirCodeableConcept;
  t5 : fhir3_resources.TFhirDataElementMapping;
  t6 : fhir3_types.TFhirElementDefinition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureDefinition.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.Url := src.Url.replace('/DataElement/', '/StructureDefinition/de-');

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t2));
  end;
  for t3 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t3));
  end;
  for t4 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t4));
  end;
  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t5 in src.mappingList do
  begin
    tgt.mappingList.add(convertDataElementMappingComponent3(t5));
  end;
  for t6 in src.elementList do
  begin
    tgt.Snapshot.elementList.add(convertElementDefinition3(t6));
  end;
  tgt.Kind := fhir4_types.StructureDefinitionKindLogical;
  tgt.abstract := false;
  tgt.type_ := tgt.name;
  tgt.baseDefinition := 'http://hl7.org/fhir/StructureDefinition/Element';
  tgt.Derivation := fhir4_types.TypeDerivationRuleSpecialization;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDataElementMappingComponent3(src : fhir3_resources.TFhirDataElementMapping) : fhir4_resources.TFhirStructureDefinitionMapping;
var
  tgt : fhir4_resources.TFhirStructureDefinitionMapping;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureDefinitionMapping.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.identity <> '') then
    tgt.identity := src.identity;

  if (src.uri <> '') then
    tgt.uri := src.uri;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDetectedIssue3(src : fhir3_resources.TFhirDetectedIssue) : fhir4_resources.TFhirDetectedIssue;
var
  tgt : fhir4_resources.TFhirDetectedIssue;
  t1 : fhir3_types.TFhirReference;
  t2 : fhir3_resources.TFhirDetectedIssueMitigation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDetectedIssue.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifierList.add(convertIdentifier3(src.Identifier));

  tgt.status := convertDetectedIssueStatus3(src.status);

  if (src.category <> nil) then
    tgt.code := convertCodeableConcept3(src.category);

  tgt.severity := convertDetectedIssueSeverity3(src.severity);

  if (src.patient <> nil) then
    tgt.patient := convertReference3(src.patient);

  tgt.identified := convertDateTime3(src.dateElement);

  if (src.author <> nil) then
    tgt.author := convertReference3(src.author);

  for t1 in src.implicatedList do
  begin
    tgt.implicatedList.add(convertReference3(t1));
  end;
  if (src.detail <> '') then
    tgt.detail := src.detail;

  if (src.reference <> '') then
    tgt.reference := src.reference;

  for t2 in src.mitigationList do
  begin
    tgt.mitigationList.add(convertDetectedIssueMitigationComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDetectedIssue4(src : fhir4_resources.TFhirDetectedIssue) : fhir3_resources.TFhirDetectedIssue;
var
  tgt : fhir3_resources.TFhirDetectedIssue;
  t1 : fhir4_types.TFhirReference;
  t2 : fhir4_resources.TFhirDetectedIssueMitigation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDetectedIssue.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.identifierList.count > 0) then
    tgt.identifier := convertIdentifier4(src.identifierList[0]);

  tgt.status := convertDetectedIssueStatus4(src.status);

  if (src.code <> nil) then
    tgt.category := convertCodeableConcept4(src.code);

  tgt.severity := convertDetectedIssueSeverity4(src.severity);

  if (src.patient <> nil) then
    tgt.patient := convertReference4(src.patient);

  if src.identified is fhir4_types.TFhirDateTime then
    tgt.dateElement := convertDateTime4(src.identified as fhir4_types.TFhirDateTime);

  if (src.author <> nil) then
    tgt.author := convertReference4(src.author);

  for t1 in src.implicatedList do
  begin
    tgt.implicatedList.add(convertReference4(t1));
  end;
  if (src.detail <> '') then
    tgt.detail := src.detail;

  if (src.reference <> '') then
    tgt.reference := src.reference;

  for t2 in src.mitigationList do
  begin
    tgt.mitigationList.add(convertDetectedIssueMitigationComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDetectedIssueMitigationComponent3(src : fhir3_resources.TFhirDetectedIssueMitigation) : fhir4_resources.TFhirDetectedIssueMitigation;
var
  tgt : fhir4_resources.TFhirDetectedIssueMitigation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDetectedIssueMitigation.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.action <> nil) then
    tgt.action := convertCodeableConcept3(src.action);

  tgt.date := src.date;

  if (src.author <> nil) then
    tgt.author := convertReference3(src.author);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDetectedIssueMitigationComponent4(src : fhir4_resources.TFhirDetectedIssueMitigation) : fhir3_resources.TFhirDetectedIssueMitigation;
var
  tgt : fhir3_resources.TFhirDetectedIssueMitigation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDetectedIssueMitigation.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.action <> nil) then
    tgt.action := convertCodeableConcept4(src.action);

  tgt.date := src.date;

  if (src.author <> nil) then
    tgt.author := convertReference4(src.author);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDevice3(src : fhir3_resources.TFhirDevice) : fhir4_resources.TFhirDevice;
var
  tgt : fhir4_resources.TFhirDevice;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirContactPoint;
  t3 : fhir3_types.TFhirAnnotation;
  t4 : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDevice.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;

  tgt.status := convertFHIRDeviceStatus3(src.status);

  tgt.type_ := convertCodeableConcept3(src.type_);

  if (src.lotNumber <> '') then
    tgt.lotNumber := src.lotNumber;

  if (src.manufacturer <> '') then
    tgt.manufacturer := src.manufacturer;

  tgt.manufactureDate := src.manufactureDate.link;

  tgt.expirationDate := src.expirationDate.link;

  if (src.patient <> nil) then
    tgt.patient := convertReference3(src.patient);

  if (src.owner <> nil) then
    tgt.owner := convertReference3(src.owner);

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactPoint3(t2));
  end;
  if (src.location <> nil) then
    tgt.location := convertReference3(src.location);

  if (src.url <> '') then
    tgt.url := src.url;

  for t3 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t3));
  end;
  for t4 in src.safetyList do
  begin
    tgt.safetyList.add(convertCodeableConcept3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDevice4(src : fhir4_resources.TFhirDevice) : fhir3_resources.TFhirDevice;
var
  tgt : fhir3_resources.TFhirDevice;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirContactPoint;
  t3 : fhir4_types.TFhirAnnotation;
  t4 : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDevice.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;

  tgt.status := convertFHIRDeviceStatus4(src.status);

  tgt.type_ := convertCodeableConcept4(src.type_);

  if (src.lotNumber <> '') then
    tgt.lotNumber := src.lotNumber;

  if (src.manufacturer <> '') then
    tgt.manufacturer := src.manufacturer;

  tgt.manufactureDate := src.manufactureDate.link;

  tgt.expirationDate := src.expirationDate.link;

  if (src.patient <> nil) then
    tgt.patient := convertReference4(src.patient);

  if (src.owner <> nil) then
    tgt.owner := convertReference4(src.owner);

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactPoint4(t2));
  end;
  if (src.location <> nil) then
    tgt.location := convertReference4(src.location);

  if (src.url <> '') then
    tgt.url := src.url;

  for t3 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t3));
  end;
  for t4 in src.safetyList do
  begin
    tgt.safetyList.add(convertCodeableConcept4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetric3(src : fhir3_resources.TFhirDeviceMetric) : fhir4_resources.TFhirDeviceMetric;
var
  tgt : fhir4_resources.TFhirDeviceMetric;
  t : fhir3_resources.TFhirDeviceMetricCalibration;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDeviceMetric.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifierList.add(convertIdentifier3(src.Identifier));

  tgt.type_ := convertCodeableConcept3(src.type_);

  if (src.unit_ <> nil) then
    tgt.unit_ := convertCodeableConcept3(src.unit_);

  if (src.source <> nil) then
    tgt.source := convertReference3(src.source);

  if (src.parent <> nil) then
    tgt.parent := convertReference3(src.parent);

  tgt.operationalStatus := convertDeviceMetricOperationalStatus3(src.operationalStatus);

  tgt.color := convertDeviceMetricColor3(src.color);

  tgt.category := convertDeviceMetricCategory3(src.category);

  if (src.measurementPeriod <> nil) then
    tgt.measurementPeriod := convertTiming3(src.measurementPeriod);

  for t in src.calibrationList do
  begin
    tgt.calibrationList.add(convertDeviceMetricCalibrationComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetric4(src : fhir4_resources.TFhirDeviceMetric) : fhir3_resources.TFhirDeviceMetric;
var
  tgt : fhir3_resources.TFhirDeviceMetric;
  t : fhir4_resources.TFhirDeviceMetricCalibration;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDeviceMetric.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.identifierList.count > 0) then
    tgt.identifier := convertIdentifier4(src.identifierList[0]);

  tgt.type_ := convertCodeableConcept4(src.type_);

  if (src.unit_ <> nil) then
    tgt.unit_ := convertCodeableConcept4(src.unit_);

  if (src.source <> nil) then
    tgt.source := convertReference4(src.source);

  if (src.parent <> nil) then
    tgt.parent := convertReference4(src.parent);

  tgt.operationalStatus := convertDeviceMetricOperationalStatus4(src.operationalStatus);
  tgt.color := convertDeviceMetricColor4(src.color);
  tgt.category := convertDeviceMetricCategory4(src.category);

  if (src.measurementPeriod <> nil) then
    tgt.measurementPeriod := convertTiming4(src.measurementPeriod);

  for t in src.calibrationList do
  begin
    tgt.calibrationList.add(convertDeviceMetricCalibrationComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricCalibrationComponent3(src : fhir3_resources.TFhirDeviceMetricCalibration) : fhir4_resources.TFhirDeviceMetricCalibration;
var
  tgt : fhir4_resources.TFhirDeviceMetricCalibration;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDeviceMetricCalibration.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_ := convertDeviceMetricCalibrationType3(src.type_);

  tgt.state := convertDeviceMetricCalibrationState3(src.state);

  tgt.time := src.time.link;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDeviceMetricCalibrationComponent4(src : fhir4_resources.TFhirDeviceMetricCalibration) : fhir3_resources.TFhirDeviceMetricCalibration;
var
  tgt : fhir3_resources.TFhirDeviceMetricCalibration;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDeviceMetricCalibration.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := convertDeviceMetricCalibrationType4(src.type_);

  tgt.state := convertDeviceMetricCalibrationState4(src.state);

  tgt.time := src.time.link;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDeviceUseStatement3(src : fhir3_resources.TFhirDeviceUseStatement) : fhir4_resources.TFhirDeviceUseStatement;
var
  tgt : fhir4_resources.TFhirDeviceUseStatement;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDeviceUseStatement.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertDeviceUseStatementStatus3(src.status);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.timing <> nil) then
    tgt.timing := convertType3(src.timing);

  tgt.recordedOn := src.recordedOn.link;

  if (src.source <> nil) then
    tgt.source := convertReference3(src.source);

  if (src.device <> nil) then
    tgt.device := convertReference3(src.device);

  for t2 in src.indicationList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept3(t2));
  end;
  if (src.bodySite <> nil) then
    tgt.bodySite := convertCodeableConcept3(src.bodySite);

  for t3 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDeviceUseStatement4(src : fhir4_resources.TFhirDeviceUseStatement) : fhir3_resources.TFhirDeviceUseStatement;
var
  tgt : fhir3_resources.TFhirDeviceUseStatement;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDeviceUseStatement.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertDeviceUseStatementStatus4(src.status);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.timing <> nil) then
    tgt.timing := convertType4(src.timing);

  tgt.recordedOn := src.recordedOn.link;

  if (src.source <> nil) then
    tgt.source := convertReference4(src.source);

  if (src.device <> nil) then
    tgt.device := convertReference4(src.device);

  for t2 in src.reasonCodeList do
  begin
    tgt.indicationList.add(convertCodeableConcept4(t2));
  end;
  if (src.bodySite <> nil) then
    tgt.bodySite := convertCodeableConcept4(src.bodySite);

  for t3 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDiagnosticReport3(src : fhir3_resources.TFhirDiagnosticReport) : fhir4_resources.TFhirDiagnosticReport;
var
  tgt : fhir4_resources.TFhirDiagnosticReport;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_types.TFhirReference;
  t4 : fhir3_types.TFhirReference;
  t5 : fhir3_types.TFhirReference;
  t6 : fhir3_resources.TFhirDiagnosticReportImage;
  t7 : fhir3_types.TFhirCodeableConcept;
  t8 : fhir3_types.TFhirAttachment;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDiagnosticReport.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  for t2 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference3(t2));
  end;
  tgt.status := convertDiagnosticReportStatus3(src.status);

  if (src.category <> nil) then
    tgt.categoryList.Add(convertCodeableConcept3(src.category));

  tgt.code := convertCodeableConcept3(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.context <> nil) then
    tgt.encounter := convertReference3(src.context);

  if (src.effective <> nil) then
    tgt.effective := convertType3(src.effective);

  tgt.issued := src.issued.link;

  for t3 in src.specimenList do
  begin
    tgt.specimenList.add(convertReference3(t3));
  end;
  for t4 in src.resultList do
  begin
    tgt.resultList.add(convertReference3(t4));
  end;
  for t5 in src.imagingStudyList do
  begin
    tgt.imagingStudyList.add(convertReference3(t5));
  end;
  for t6 in src.imageList do
  begin
    tgt.mediaList.add(convertDiagnosticReportImageComponent3(t6));
  end;
  if (src.conclusion <> '') then
    tgt.conclusion := src.conclusion;

  for t7 in src.codedDiagnosisList do
  begin
    tgt.conclusionCodeList.add(convertCodeableConcept3(t7));
  end;
  for t8 in src.presentedFormList do
  begin
    tgt.presentedFormList.add(convertAttachment3(t8));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDiagnosisComponent3(src : fhir3_resources.TFhirEpisodeOfCareDiagnosis): fhir4_resources.TFhirEpisodeOfCareDiagnosis;
var
  tgt : fhir4_resources.TFhirEpisodeOfCareDiagnosis;
begin
  if (src = nil) then
    exit(nil);

  tgt := fhir4_resources.TFhirEpisodeOfCareDiagnosis.Create;
  try
  copyBackboneElement3(src, tgt);
  tgt.Condition := convertReference3(src.Condition);
  tgt.Role := convertCodeableConcept3(src.Role);
  tgt.Rank := src.Rank;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDiagnosisComponent4(src : fhir4_resources.TFhirEpisodeOfCareDiagnosis): fhir3_resources.TFhirEpisodeOfCareDiagnosis;
var
  tgt : fhir3_resources.TFhirEpisodeOfCareDiagnosis;
begin
  if (src = nil) then
    exit(nil);

  tgt := fhir3_resources.TFhirEpisodeOfCareDiagnosis.Create;
  try
  copyBackboneElement4(src, tgt);
  tgt.Condition := convertReference4(src.Condition);
  tgt.Role := convertCodeableConcept4(src.Role);
  tgt.Rank := src.Rank;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDiagnosisComponent3(src : fhir3_resources.TFhirEncounterDiagnosis): fhir4_resources.TFhirEncounterDiagnosis;
var
  tgt : fhir4_resources.TFhirEncounterDiagnosis;
begin
  if (src = nil) then
    exit(nil);

  tgt := fhir4_resources.TFhirEncounterDiagnosis.Create;
  try
  copyBackboneElement3(src, tgt);
  tgt.Condition := convertReference3(src.Condition);
  tgt.Use := convertCodeableConcept3(src.Role);
  tgt.Rank := src.Rank;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDiagnosisComponent4(src : fhir4_resources.TFhirEncounterDiagnosis): fhir3_resources.TFhirEncounterDiagnosis;
var
  tgt : fhir3_resources.TFhirEncounterDiagnosis;
begin
  if (src = nil) then
    exit(nil);

  tgt := fhir3_resources.TFhirEncounterDiagnosis.Create;
  try
  copyBackboneElement4(src, tgt);
  tgt.Condition := convertReference4(src.Condition);
  tgt.Role := convertCodeableConcept4(src.Use);
  tgt.Rank := src.Rank;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDiagnosticReport4(src : fhir4_resources.TFhirDiagnosticReport) : fhir3_resources.TFhirDiagnosticReport;
var
  tgt : fhir3_resources.TFhirDiagnosticReport;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirReference;
  t3 : fhir4_types.TFhirReference;
  t4 : fhir4_types.TFhirReference;
  t5 : fhir4_types.TFhirReference;
  t6 : fhir4_resources.TFhirDiagnosticReportMedia;
  t7 : fhir4_types.TFhirCodeableConcept;
  t8 : fhir4_types.TFhirAttachment;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDiagnosticReport.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  for t2 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference4(t2));
  end;
  tgt.status := convertDiagnosticReportStatus4(src.status);

  if (src.categoryList.Count > 0) then
    tgt.category := convertCodeableConcept4(src.categoryList[0]);

  tgt.code := convertCodeableConcept4(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.encounter <> nil) then
    tgt.context := convertReference4(src.encounter);

  if (src.effective <> nil) then
    tgt.effective := convertType4(src.effective);

  tgt.issued := src.issued.link;

  for t3 in src.specimenList do
  begin
    tgt.specimenList.add(convertReference4(t3));
  end;
  for t4 in src.resultList do
  begin
    tgt.resultList.add(convertReference4(t4));
  end;
  for t5 in src.imagingStudyList do
  begin
    tgt.imagingStudyList.add(convertReference4(t5));
  end;
  for t6 in src.mediaList do
  begin
    tgt.imageList.add(convertDiagnosticReportImageComponent4(t6));
  end;
  if (src.conclusion <> '') then
    tgt.conclusion := src.conclusion;

  for t7 in src.conclusionCodeList do
  begin
    tgt.codedDiagnosisList.add(convertCodeableConcept4(t7));
  end;
  for t8 in src.presentedFormList do
  begin
    tgt.presentedFormList.add(convertAttachment4(t8));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDiagnosticReportImageComponent3(src : fhir3_resources.TFhirDiagnosticReportImage) : fhir4_resources.TFhirDiagnosticReportMedia;
var
  tgt : fhir4_resources.TFhirDiagnosticReportMedia;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDiagnosticReportMedia.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.comment <> '') then
    tgt.comment := src.comment;

  if (src.link_ <> nil) then
    tgt.link_ := convertReference3(src.link_);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDiagnosticReportImageComponent4(src : fhir4_resources.TFhirDiagnosticReportMedia) : fhir3_resources.TFhirDiagnosticReportImage;
var
  tgt : fhir3_resources.TFhirDiagnosticReportImage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDiagnosticReportImage.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.comment <> '') then
    tgt.comment := src.comment;

  if (src.link_ <> nil) then
    tgt.link_ := convertReference4(src.link_);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentManifestRelatedComponent3(src : fhir3_resources.TFhirDocumentManifestRelated) : fhir4_resources.TFhirDocumentManifestRelated;
var
  tgt : fhir4_resources.TFhirDocumentManifestRelated;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDocumentManifestRelated.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier3(src.identifier);

  if (src.ref <> nil) then
    tgt.ref := convertReference3(src.ref);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentManifestRelatedComponent4(src : fhir4_resources.TFhirDocumentManifestRelated) : fhir3_resources.TFhirDocumentManifestRelated;
var
  tgt : fhir3_resources.TFhirDocumentManifestRelated;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDocumentManifestRelated.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.identifier);

  if (src.ref <> nil) then
    tgt.ref := convertReference4(src.ref);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReference3(src : fhir3_resources.TFhirDocumentReference) : fhir4_resources.TFhirDocumentReference;
var
  tgt : fhir4_resources.TFhirDocumentReference;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_resources.TFhirDocumentReferenceRelatesTo;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_resources.TFhirDocumentReferenceContent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDocumentReference.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.masterIdentifier <> nil) then
    tgt.masterIdentifier := convertIdentifier3(src.masterIdentifier);

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertDocumentReferenceStatus3(src.status);

  tgt.docStatus := convertReferredDocumentStatus3(src.docStatus);

  tgt.type_ := convertCodeableConcept3(src.type_);

  if (src.class_ <> nil) then
    tgt.categoryList.Add(convertCodeableConcept3(src.class_));

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  tgt.date := src.created;

  if (src.authenticator <> nil) then
    tgt.authenticator := convertReference3(src.authenticator);

  if (src.custodian <> nil) then
    tgt.custodian := convertReference3(src.custodian);

  for t2 in src.relatesToList do
  begin
    tgt.relatesToList.add(convertDocumentReferenceRelatesToComponent3(t2));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t3 in src.securityLabelList do
  begin
    tgt.securityLabelList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.contentList do
  begin
    tgt.contentList.add(convertDocumentReferenceContentComponent3(t4));
  end;
  if (src.context <> nil) then
    tgt.context := convertDocumentReferenceContextComponent3(src.context);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReference4(src : fhir4_resources.TFhirDocumentReference) : fhir3_resources.TFhirDocumentReference;
var
  tgt : fhir3_resources.TFhirDocumentReference;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_resources.TFhirDocumentReferenceRelatesTo;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_resources.TFhirDocumentReferenceContent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDocumentReference.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.masterIdentifier <> nil) then
    tgt.masterIdentifier := convertIdentifier4(src.masterIdentifier);

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertDocumentReferenceStatus4(src.status);

  tgt.docStatus := convertReferredDocumentStatus4(src.docStatus);

  tgt.type_ := convertCodeableConcept4(src.type_);

  if (src.categoryList.Count > 0) then
    tgt.class_ := convertCodeableConcept4(src.categoryList[0]);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  tgt.created := src.date;

  if (src.authenticator <> nil) then
    tgt.authenticator := convertReference4(src.authenticator);

  if (src.custodian <> nil) then
    tgt.custodian := convertReference4(src.custodian);

  for t2 in src.relatesToList do
  begin
    tgt.relatesToList.add(convertDocumentReferenceRelatesToComponent4(t2));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t3 in src.securityLabelList do
  begin
    tgt.securityLabelList.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.contentList do
  begin
    tgt.contentList.add(convertDocumentReferenceContentComponent4(t4));
  end;
  if (src.context <> nil) then
    tgt.context := convertDocumentReferenceContextComponent4(src.context);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReferenceRelatesToComponent3(src : fhir3_resources.TFhirDocumentReferenceRelatesTo) : fhir4_resources.TFhirDocumentReferenceRelatesTo;
var
  tgt : fhir4_resources.TFhirDocumentReferenceRelatesTo;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDocumentReferenceRelatesTo.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertDocumentRelationshipType3(src.code);

  if (src.target <> nil) then
    tgt.target := convertReference3(src.target);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReferenceRelatesToComponent4(src : fhir4_resources.TFhirDocumentReferenceRelatesTo) : fhir3_resources.TFhirDocumentReferenceRelatesTo;
var
  tgt : fhir3_resources.TFhirDocumentReferenceRelatesTo;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDocumentReferenceRelatesTo.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertDocumentRelationshipType4(src.code);

  if (src.target <> nil) then
    tgt.target := convertReference4(src.target);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReferenceContentComponent3(src : fhir3_resources.TFhirDocumentReferenceContent) : fhir4_resources.TFhirDocumentReferenceContent;
var
  tgt : fhir4_resources.TFhirDocumentReferenceContent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDocumentReferenceContent.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.attachment <> nil) then
    tgt.attachment := convertAttachment3(src.attachment);

  if (src.format <> nil) then
    tgt.format := convertCoding3(src.format);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReferenceContentComponent4(src : fhir4_resources.TFhirDocumentReferenceContent) : fhir3_resources.TFhirDocumentReferenceContent;
var
  tgt : fhir3_resources.TFhirDocumentReferenceContent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDocumentReferenceContent.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.attachment <> nil) then
    tgt.attachment := convertAttachment4(src.attachment);

  if (src.format <> nil) then
    tgt.format := convertCoding4(src.format);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReferenceContextComponent3(src : fhir3_resources.TFhirDocumentReferenceContext) : fhir4_resources.TFhirDocumentReferenceContext;
var
  tgt : fhir4_resources.TFhirDocumentReferenceContext;
  t1 : fhir3_types.TFhirCodeableConcept;
  t2 : fhir3_resources.TFhirDocumentReferenceContextRelated;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirDocumentReferenceContext.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.encounter <> nil) then
    tgt.encounterList.Add(convertReference3(src.encounter));

  for t1 in src.eventList do
  begin
    tgt.eventList.add(convertCodeableConcept3(t1));
  end;
  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  if (src.facilityType <> nil) then
    tgt.facilityType := convertCodeableConcept3(src.facilityType);

  if (src.practiceSetting <> nil) then
    tgt.practiceSetting := convertCodeableConcept3(src.practiceSetting);

  if (src.sourcePatientInfo <> nil) then
    tgt.sourcePatientInfo := convertReference3(src.sourcePatientInfo);

  for t2 in src.relatedList do
  begin
    tgt.relatedList.add(convertDocumentReferenceContextRelatedComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReferenceContextComponent4(src : fhir4_resources.TFhirDocumentReferenceContext) : fhir3_resources.TFhirDocumentReferenceContext;
var
  tgt : fhir3_resources.TFhirDocumentReferenceContext;
  t1 : fhir4_types.TFhirCodeableConcept;
  t2 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDocumentReferenceContext.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.encounterList.Count > 0) then
    tgt.encounter := convertReference4(src.encounterList[0]);

  for t1 in src.eventList do
  begin
    tgt.eventList.add(convertCodeableConcept4(t1));
  end;
  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  if (src.facilityType <> nil) then
    tgt.facilityType := convertCodeableConcept4(src.facilityType);

  if (src.practiceSetting <> nil) then
    tgt.practiceSetting := convertCodeableConcept4(src.practiceSetting);

  if (src.sourcePatientInfo <> nil) then
    tgt.sourcePatientInfo := convertReference4(src.sourcePatientInfo);

  for t2 in src.relatedList do
  begin
    tgt.relatedList.add(convertDocumentReferenceContextRelatedComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReferenceContextRelatedComponent3(src : fhir3_resources.TFhirDocumentReferenceContextRelated) : fhir4_types.TFhirReference;
var
  tgt : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirReference.Create();
  try
  copyElement3(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier3(src.identifier);

  if (src.ref <> nil) then
    tgt.reference := src.ref.reference;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDocumentReferenceContextRelatedComponent4(src : fhir4_types.TFhirReference) : fhir3_resources.TFhirDocumentReferenceContextRelated;
var
  tgt : fhir3_resources.TFhirDocumentReferenceContextRelated;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirDocumentReferenceContextRelated.Create();
  try
  copyElement4(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.identifier);

  if (src.reference <> '') then
    tgt.ref := convertReference4(src);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEncounter3(src : fhir3_resources.TFhirEncounter) : fhir4_resources.TFhirEncounter;
var
  tgt : fhir4_resources.TFhirEncounter;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_resources.TFhirEncounterStatusHistory;
  t3 : fhir3_resources.TFhirEncounterClassHistory;
  t4 : fhir3_types.TFhirCodeableConcept;
  t5 : fhir3_types.TFhirReference;
  t6 : fhir3_types.TFhirReference;
  t7 : fhir3_resources.TFhirEncounterParticipant;
  t8 : fhir3_types.TFhirCodeableConcept;
  t9 : fhir3_resources.TFhirEncounterDiagnosis;
  ta : fhir3_types.TFhirReference;
  tb : fhir3_resources.TFhirEncounterLocation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirEncounter.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertEncounterStatus3(src.status);

  for t2 in src.statusHistoryList do
  begin
    tgt.statusHistoryList.add(convertStatusHistoryComponent3(t2));
  end;
  if (src.class_ <> nil) then
    tgt.class_ := convertCoding3(src.class_);

  for t3 in src.classHistoryList do
  begin
    tgt.classHistoryList.add(convertClassHistoryComponent3(t3));
  end;
  for t4 in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept3(t4));
  end;
  if (src.priority <> nil) then
    tgt.priority := convertCodeableConcept3(src.priority);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  for t5 in src.episodeOfCareList do
  begin
    tgt.episodeOfCareList.add(convertReference3(t5));
  end;
  for t6 in src.incomingReferralList do
  begin
    tgt.basedOnList.add(convertReference3(t6));
  end;
  for t7 in src.participantList do
  begin
    tgt.participantList.add(convertEncounterParticipantComponent3(t7));
  end;
  if (src.appointment <> nil) then
    tgt.appointmentList.add(convertReference3(src.appointment));

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  if (src.length <> nil) then
    tgt.length := convertDuration3(src.length);

  for t8 in src.reasonList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept3(t8));
  end;
  for t9 in src.diagnosisList do
  begin
    tgt.diagnosisList.add(convertDiagnosisComponent3(t9));
  end;
  for ta in src.accountList do
  begin
    tgt.accountList.add(convertReference3(ta));
  end;
  if (src.hospitalization <> nil) then
    tgt.hospitalization := convertEncounterHospitalizationComponent3(src.hospitalization);

  for tb in src.locationList do
  begin
    tgt.locationList.add(convertEncounterLocationComponent3(tb));
  end;
  if (src.serviceProvider <> nil) then
    tgt.serviceProvider := convertReference3(src.serviceProvider);

  if (src.partOf <> nil) then
    tgt.partOf := convertReference3(src.partOf);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEncounter4(src : fhir4_resources.TFhirEncounter) : fhir3_resources.TFhirEncounter;
var
  tgt : fhir3_resources.TFhirEncounter;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_resources.TFhirEncounterStatusHistory;
  t3 : fhir4_resources.TFhirEncounterClassHistory;
  t4 : fhir4_types.TFhirCodeableConcept;
  t5 : fhir4_types.TFhirReference;
  t6 : fhir4_types.TFhirReference;
  t7 : fhir4_resources.TFhirEncounterParticipant;
  t8 : fhir4_types.TFhirCodeableConcept;
  t9 : fhir4_resources.TFhirEncounterDiagnosis;
  ta : fhir4_types.TFhirReference;
  tb : fhir4_resources.TFhirEncounterLocation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirEncounter.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertEncounterStatus4(src.status);

  for t2 in src.statusHistoryList do
  begin
    tgt.statusHistoryList.add(convertStatusHistoryComponent4(t2));
  end;
  if (src.class_ <> nil) then
    tgt.class_ := convertCoding4(src.class_);

  for t3 in src.classHistoryList do
  begin
    tgt.classHistoryList.add(convertClassHistoryComponent4(t3));
  end;
  for t4 in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept4(t4));
  end;
  if (src.priority <> nil) then
    tgt.priority := convertCodeableConcept4(src.priority);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  for t5 in src.episodeOfCareList do
  begin
    tgt.episodeOfCareList.add(convertReference4(t5));
  end;
  for t6 in src.basedOnList do
  begin
    tgt.incomingReferralList.add(convertReference4(t6));
  end;
  for t7 in src.participantList do
  begin
    tgt.participantList.add(convertEncounterParticipantComponent4(t7));
  end;
  if (src.appointmentList.Count > 0) then
    tgt.appointment := convertReference4(src.appointmentList[0]);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  if (src.length <> nil) then
    tgt.length := convertDuration4(src.length);

  for t8 in src.reasonCodeList do
  begin
    tgt.reasonList.add(convertCodeableConcept4(t8));
  end;
  for t9 in src.diagnosisList do
  begin
    tgt.diagnosisList.add(convertDiagnosisComponent4(t9));
  end;
  for ta in src.accountList do
  begin
    tgt.accountList.add(convertReference4(ta));
  end;
  if (src.hospitalization <> nil) then
    tgt.hospitalization := convertEncounterHospitalizationComponent4(src.hospitalization);

  for tb in src.locationList do
  begin
    tgt.locationList.add(convertEncounterLocationComponent4(tb));
  end;
  if (src.serviceProvider <> nil) then
    tgt.serviceProvider := convertReference4(src.serviceProvider);

  if (src.partOf <> nil) then
    tgt.partOf := convertReference4(src.partOf);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStatusHistoryComponent3(src : fhir3_resources.TFhirEncounterStatusHistory) : fhir4_resources.TFhirEncounterStatusHistory;
var
  tgt : fhir4_resources.TFhirEncounterStatusHistory;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirEncounterStatusHistory.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.status := convertEncounterStatus3(src.status);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStatusHistoryComponent4(src : fhir4_resources.TFhirEncounterStatusHistory) : fhir3_resources.TFhirEncounterStatusHistory;
var
  tgt : fhir3_resources.TFhirEncounterStatusHistory;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirEncounterStatusHistory.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.status := convertEncounterStatus4(src.status);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertClassHistoryComponent3(src : fhir3_resources.TFhirEncounterClassHistory) : fhir4_resources.TFhirEncounterClassHistory;
var
  tgt : fhir4_resources.TFhirEncounterClassHistory;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirEncounterClassHistory.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.class_ <> nil) then
    tgt.class_ := convertCoding3(src.class_);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertClassHistoryComponent4(src : fhir4_resources.TFhirEncounterClassHistory) : fhir3_resources.TFhirEncounterClassHistory;
var
  tgt : fhir3_resources.TFhirEncounterClassHistory;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirEncounterClassHistory.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.class_ <> nil) then
    tgt.class_ := convertCoding4(src.class_);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEncounterParticipantComponent3(src : fhir3_resources.TFhirEncounterParticipant) : fhir4_resources.TFhirEncounterParticipant;
var
  tgt : fhir4_resources.TFhirEncounterParticipant;
  t : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirEncounterParticipant.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept3(t));
  end;
  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  if (src.individual <> nil) then
    tgt.individual := convertReference3(src.individual);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEncounterParticipantComponent4(src : fhir4_resources.TFhirEncounterParticipant) : fhir3_resources.TFhirEncounterParticipant;
var
  tgt : fhir3_resources.TFhirEncounterParticipant;
  t : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirEncounterParticipant.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept4(t));
  end;
  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  if (src.individual <> nil) then
    tgt.individual := convertReference4(src.individual);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEncounterHospitalizationComponent3(src : fhir3_resources.TFhirEncounterHospitalization) : fhir4_resources.TFhirEncounterHospitalization;
var
  tgt : fhir4_resources.TFhirEncounterHospitalization;
  t1 : fhir3_types.TFhirCodeableConcept;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirEncounterHospitalization.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.preAdmissionIdentifier <> nil) then
    tgt.preAdmissionIdentifier := convertIdentifier3(src.preAdmissionIdentifier);

  if (src.origin <> nil) then
    tgt.origin := convertReference3(src.origin);

  if (src.admitSource <> nil) then
    tgt.admitSource := convertCodeableConcept3(src.admitSource);

  if (src.reAdmission <> nil) then
    tgt.reAdmission := convertCodeableConcept3(src.reAdmission);

  for t1 in src.dietPreferenceList do
  begin
    tgt.dietPreferenceList.add(convertCodeableConcept3(t1));
  end;
  for t2 in src.specialCourtesyList do
  begin
    tgt.specialCourtesyList.add(convertCodeableConcept3(t2));
  end;
  for t3 in src.specialArrangementList do
  begin
    tgt.specialArrangementList.add(convertCodeableConcept3(t3));
  end;
  if (src.destination <> nil) then
    tgt.destination := convertReference3(src.destination);

  if (src.dischargeDisposition <> nil) then
    tgt.dischargeDisposition := convertCodeableConcept3(src.dischargeDisposition);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEncounterHospitalizationComponent4(src : fhir4_resources.TFhirEncounterHospitalization) : fhir3_resources.TFhirEncounterHospitalization;
var
  tgt : fhir3_resources.TFhirEncounterHospitalization;
  t1 : fhir4_types.TFhirCodeableConcept;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirEncounterHospitalization.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.preAdmissionIdentifier <> nil) then
    tgt.preAdmissionIdentifier := convertIdentifier4(src.preAdmissionIdentifier);

  if (src.origin <> nil) then
    tgt.origin := convertReference4(src.origin);

  if (src.admitSource <> nil) then
    tgt.admitSource := convertCodeableConcept4(src.admitSource);

  if (src.reAdmission <> nil) then
    tgt.reAdmission := convertCodeableConcept4(src.reAdmission);

  for t1 in src.dietPreferenceList do
  begin
    tgt.dietPreferenceList.add(convertCodeableConcept4(t1));
  end;
  for t2 in src.specialCourtesyList do
  begin
    tgt.specialCourtesyList.add(convertCodeableConcept4(t2));
  end;
  for t3 in src.specialArrangementList do
  begin
    tgt.specialArrangementList.add(convertCodeableConcept4(t3));
  end;
  if (src.destination <> nil) then
    tgt.destination := convertReference4(src.destination);

  if (src.dischargeDisposition <> nil) then
    tgt.dischargeDisposition := convertCodeableConcept4(src.dischargeDisposition);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEncounterLocationComponent3(src : fhir3_resources.TFhirEncounterLocation) : fhir4_resources.TFhirEncounterLocation;
var
  tgt : fhir4_resources.TFhirEncounterLocation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirEncounterLocation.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.location <> nil) then
    tgt.location := convertReference3(src.location);

  tgt.status := convertEncounterLocationStatus3(src.status);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEncounterLocationComponent4(src : fhir4_resources.TFhirEncounterLocation) : fhir3_resources.TFhirEncounterLocation;
var
  tgt : fhir3_resources.TFhirEncounterLocation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirEncounterLocation.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.location <> nil) then
    tgt.location := convertReference4(src.location);

  tgt.status := convertEncounterLocationStatus4(src.status);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEndpoint3(src : fhir3_resources.TFhirEndpoint) : fhir4_resources.TFhirEndpoint;
var
  tgt : fhir4_resources.TFhirEndpoint;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirContactPoint;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirCode;
  t5 : fhir3_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirEndpoint.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertEndpointStatus3(src.status);

  if (src.connectionType <> nil) then
    tgt.connectionType := convertCoding3(src.connectionType);

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.managingOrganization <> nil) then
    tgt.managingOrganization := convertReference3(src.managingOrganization);

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactPoint3(t2));
  end;
  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  for t3 in src.payloadTypeList do
  begin
    tgt.payloadTypeList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.payloadMimeTypeList do
  begin
    tgt.payloadMimeTypeList.add(convertCode3(t4));
  end;
  if (src.address <> '') then
    tgt.address := src.address;

  for t5 in src.headerList do
  begin
    tgt.headerList.add(convertString3(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEndpoint4(src : fhir4_resources.TFhirEndpoint) : fhir3_resources.TFhirEndpoint;
var
  tgt : fhir3_resources.TFhirEndpoint;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirContactPoint;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirCode;
  t5 : fhir4_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirEndpoint.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertEndpointStatus4(src.status);

  if (src.connectionType <> nil) then
    tgt.connectionType := convertCoding4(src.connectionType);

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.managingOrganization <> nil) then
    tgt.managingOrganization := convertReference4(src.managingOrganization);

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactPoint4(t2));
  end;
  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  for t3 in src.payloadTypeList do
  begin
    tgt.payloadTypeList.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.payloadMimeTypeList do
  begin
    tgt.payloadMimeTypeList.add(convertCode4(t4));
  end;
  if (src.address <> '') then
    tgt.address := src.address;

  for t5 in src.headerList do
  begin
    tgt.headerList.add(convertString4(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEpisodeOfCare3(src : fhir3_resources.TFhirEpisodeOfCare) : fhir4_resources.TFhirEpisodeOfCare;
var
  tgt : fhir4_resources.TFhirEpisodeOfCare;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_resources.TFhirEpisodeOfCareStatusHistory;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_resources.TFhirEpisodeOfCareDiagnosis;
  t5 : fhir3_types.TFhirReference;
  t6 : fhir3_types.TFhirReference;
  t7 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirEpisodeOfCare.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertEpisodeOfCareStatus3(src.status);

  for t2 in src.statusHistoryList do
  begin
    tgt.statusHistoryList.add(convertEpisodeOfCareStatusHistoryComponent3(t2));
  end;
  for t3 in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.diagnosisList do
  begin
    tgt.diagnosisList.add(convertDiagnosisComponent3(t4));
  end;
  if (src.patient <> nil) then
    tgt.patient := convertReference3(src.patient);

  if (src.managingOrganization <> nil) then
    tgt.managingOrganization := convertReference3(src.managingOrganization);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  for t5 in src.referralRequestList do
  begin
    tgt.referralRequestList.add(convertReference3(t5));
  end;
  if (src.careManager <> nil) then
    tgt.careManager := convertReference3(src.careManager);

  for t6 in src.teamList do
  begin
    tgt.teamList.add(convertReference3(t6));
  end;
  for t7 in src.accountList do
  begin
    tgt.accountList.add(convertReference3(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEpisodeOfCare4(src : fhir4_resources.TFhirEpisodeOfCare) : fhir3_resources.TFhirEpisodeOfCare;
var
  tgt : fhir3_resources.TFhirEpisodeOfCare;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_resources.TFhirEpisodeOfCareStatusHistory;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_resources.TFhirEpisodeOfCareDiagnosis;
  t5 : fhir4_types.TFhirReference;
  t6 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirEpisodeOfCare.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertEpisodeOfCareStatus4(src.status);

  for t2 in src.statusHistoryList do
  begin
    tgt.statusHistoryList.add(convertEpisodeOfCareStatusHistoryComponent4(t2));
  end;
  for t3 in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.diagnosisList do
  begin
    tgt.diagnosisList.add(convertDiagnosisComponent4(t4));
  end;
  if (src.patient <> nil) then
    tgt.patient := convertReference4(src.patient);

  if (src.managingOrganization <> nil) then
    tgt.managingOrganization := convertReference4(src.managingOrganization);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  for t5 in src.referralRequestList do
  begin
    tgt.referralRequestList.add(convertReference4(t5));
  end;
  if (src.careManager <> nil) then
    tgt.careManager := convertReference4(src.careManager);

  for t5 in src.teamList do
  begin
    tgt.teamList.add(convertReference4(t5));
  end;
  for t6 in src.accountList do
  begin
    tgt.accountList.add(convertReference4(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEpisodeOfCareStatusHistoryComponent3(src : fhir3_resources.TFhirEpisodeOfCareStatusHistory) : fhir4_resources.TFhirEpisodeOfCareStatusHistory;
var
  tgt : fhir4_resources.TFhirEpisodeOfCareStatusHistory;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirEpisodeOfCareStatusHistory.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.status := convertEpisodeOfCareStatus3(src.status);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertEpisodeOfCareStatusHistoryComponent4(src : fhir4_resources.TFhirEpisodeOfCareStatusHistory) : fhir3_resources.TFhirEpisodeOfCareStatusHistory;
var
  tgt : fhir3_resources.TFhirEpisodeOfCareStatusHistory;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirEpisodeOfCareStatusHistory.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.status := convertEpisodeOfCareStatus4(src.status);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;
(*
class function TVersionConvertor_30_40.convertExpansionProfile3(src : fhir3_resources.TFhirExpansionProfile) : fhir4_resources.TFHIRParameters;
var
  tgt : fhir4_resources.TFhirExpansionProfile;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_resources.TFhirExpansionProfileFixedVersion;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirExpansionProfile.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier3(src.identifier);

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.fixedVersionList do
  begin
    tgt.fixedVersionList.add(convertExpansionProfileFixedVersionComponent3(t4));
  end;
  if (src.excludedSystem <> nil) then
    tgt.excludedSystem := convertExpansionProfileExcludedSystemComponent3(src.excludedSystem);

  tgt.includeDesignations := src.includeDesignations;

  if (src.designation <> nil) then
    tgt.designation := convertExpansionProfileDesignationComponent3(src.designation);

  tgt.includeDefinition := src.includeDefinition;
  tgt.activeOnly := src.activeOnly;
  tgt.excludeNested := src.excludeNested;
  tgt.excludeNotForUI := src.excludeNotForUI;
  tgt.excludePostCoordinated := src.excludePostCoordinated;

  if (src.displayLanguage <> '') then
    tgt.displayLanguage := src.displayLanguage;

  tgt.limitedExpansion := src.limitedExpansion;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertExpansionProfile4(src : fhir4_resources.TFhirExpansionProfile) : fhir3_resources.TFhirExpansionProfile;
var
  tgt : fhir3_resources.TFhirExpansionProfile;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_resources.TFhirExpansionProfileFixedVersion;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirExpansionProfile.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.identifier);

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.fixedVersionList do
  begin
    tgt.fixedVersionList.add(convertExpansionProfileFixedVersionComponent4(t4));
  end;
  if (src.excludedSystem <> nil) then
    tgt.excludedSystem := convertExpansionProfileExcludedSystemComponent4(src.excludedSystem);

  tgt.includeDesignations := src.includeDesignations;

  if (src.designation <> nil) then
    tgt.designation := convertExpansionProfileDesignationComponent4(src.designation);

  tgt.includeDefinition := src.includeDefinition;
  tgt.activeOnly := src.activeOnly;
  tgt.excludeNested := src.excludeNested;
  tgt.excludeNotForUI := src.excludeNotForUI;
  tgt.excludePostCoordinated := src.excludePostCoordinated;

  if (src.displayLanguage <> '') then
    tgt.displayLanguage := src.displayLanguage;

  tgt.limitedExpansion := src.limitedExpansion;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertExpansionProfileFixedVersionComponent3(src : fhir3_resources.TFhirExpansionProfileFixedVersion) : fhir4_resources.TFhirExpansionProfileFixedVersion;
var
  tgt : fhir4_resources.TFhirExpansionProfileFixedVersion;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirExpansionProfileFixedVersion.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.system <> '') then
    tgt.system := src.system;

  if (src.version <> '') then
    tgt.version := src.version;

  tgt.mode := convertSystemVersionProcessingMode3(src.mode);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertExpansionProfileFixedVersionComponent4(src : fhir4_resources.TFhirExpansionProfileFixedVersion) : fhir3_resources.TFhirExpansionProfileFixedVersion;
var
  tgt : fhir3_resources.TFhirExpansionProfileFixedVersion;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirExpansionProfileFixedVersion.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.system <> '') then
    tgt.system := src.system;

  if (src.version <> '') then
    tgt.version := src.version;

  tgt.mode := convertSystemVersionProcessingMode4(src.mode);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertExpansionProfileExcludedSystemComponent3(src : fhir3_resources.TFhirExpansionProfileExcludedSystem) : fhir4_resources.TFhirExpansionProfileExcludedSystem;
var
  tgt : fhir4_resources.TFhirExpansionProfileExcludedSystem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirExpansionProfileExcludedSystem.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.system <> '') then
    tgt.system := src.system;

  if (src.version <> '') then
    tgt.version := src.version;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertExpansionProfileExcludedSystemComponent4(src : fhir4_resources.TFhirExpansionProfileExcludedSystem) : fhir3_resources.TFhirExpansionProfileExcludedSystem;
var
  tgt : fhir3_resources.TFhirExpansionProfileExcludedSystem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirExpansionProfileExcludedSystem.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.system <> '') then
    tgt.system := src.system;

  if (src.version <> '') then
    tgt.version := src.version;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertExpansionProfileDesignationComponent3(src : fhir3_resources.TFhirExpansionProfileDesignation) : fhir4_resources.TFhirExpansionProfileDesignation;
var
  tgt : fhir4_resources.TFhirExpansionProfileDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirExpansionProfileDesignation.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.include <> nil) then
    tgt.include := convertDesignationIncludeComponent3(src.include);

  if (src.exclude <> nil) then
    tgt.exclude := convertDesignationExcludeComponent3(src.exclude);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertExpansionProfileDesignationComponent4(src : fhir4_resources.TFhirExpansionProfileDesignation) : fhir3_resources.TFhirExpansionProfileDesignation;
var
  tgt : fhir3_resources.TFhirExpansionProfileDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirExpansionProfileDesignation.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.include <> nil) then
    tgt.include := convertDesignationIncludeComponent4(src.include);

  if (src.exclude <> nil) then
    tgt.exclude := convertDesignationExcludeComponent4(src.exclude);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDesignationIncludeComponent3(src : fhir3_resources.TFhirExpansionProfileDesignationInclude) : fhir4_resources.TFhirExpansionProfileDesignationInclude;
var
  tgt : fhir4_resources.TFhirExpansionProfileDesignationInclude;
  t : fhir3_resources.TFhirExpansionProfileDesignationIncludeDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirExpansionProfileDesignationInclude.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.designationList do
  begin
    tgt.designationList.add(convertDesignationIncludeDesignationComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDesignationIncludeComponent4(src : fhir4_resources.TFhirExpansionProfileDesignationInclude) : fhir3_resources.TFhirExpansionProfileDesignationInclude;
var
  tgt : fhir3_resources.TFhirExpansionProfileDesignationInclude;
  t : fhir4_resources.TFhirExpansionProfileDesignationIncludeDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirExpansionProfileDesignationInclude.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.designationList do
  begin
    tgt.designationList.add(convertDesignationIncludeDesignationComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDesignationIncludeDesignationComponent3(src : fhir3_resources.TFhirExpansionProfileDesignationIncludeDesignation) : fhir4_resources.TFhirExpansionProfileDesignationIncludeDesignation;
var
  tgt : fhir4_resources.TFhirExpansionProfileDesignationIncludeDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirExpansionProfileDesignationIncludeDesignation.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.language <> '') then
    tgt.language := src.language;

  if (src.use <> nil) then
    tgt.use := convertCoding3(src.use);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDesignationIncludeDesignationComponent4(src : fhir4_resources.TFhirExpansionProfileDesignationIncludeDesignation) : fhir3_resources.TFhirExpansionProfileDesignationIncludeDesignation;
var
  tgt : fhir3_resources.TFhirExpansionProfileDesignationIncludeDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirExpansionProfileDesignationIncludeDesignation.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.language <> '') then
    tgt.language := src.language;

  if (src.use <> nil) then
    tgt.use := convertCoding4(src.use);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDesignationExcludeComponent3(src : fhir3_resources.TFhirExpansionProfileDesignationExclude) : fhir4_resources.TFhirExpansionProfileDesignationExclude;
var
  tgt : fhir4_resources.TFhirExpansionProfileDesignationExclude;
  t : fhir3_resources.TFhirExpansionProfileDesignationExcludeDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirExpansionProfileDesignationExclude.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.designationList do
  begin
    tgt.designationList.add(convertDesignationExcludeDesignationComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDesignationExcludeComponent4(src : fhir4_resources.TFhirExpansionProfileDesignationExclude) : fhir3_resources.TFhirExpansionProfileDesignationExclude;
var
  tgt : fhir3_resources.TFhirExpansionProfileDesignationExclude;
  t : fhir4_resources.TFhirExpansionProfileDesignationExcludeDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirExpansionProfileDesignationExclude.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.designationList do
  begin
    tgt.designationList.add(convertDesignationExcludeDesignationComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDesignationExcludeDesignationComponent3(src : fhir3_resources.TFhirExpansionProfileDesignationExcludeDesignation) : fhir4_resources.TFhirExpansionProfileDesignationExcludeDesignation;
var
  tgt : fhir4_resources.TFhirExpansionProfileDesignationExcludeDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirExpansionProfileDesignationExcludeDesignation.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.language <> '') then
    tgt.language := src.language;

  if (src.use <> nil) then
    tgt.use := convertCoding3(src.use);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertDesignationExcludeDesignationComponent4(src : fhir4_resources.TFhirExpansionProfileDesignationExcludeDesignation) : fhir3_resources.TFhirExpansionProfileDesignationExcludeDesignation;
var
  tgt : fhir3_resources.TFhirExpansionProfileDesignationExcludeDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirExpansionProfileDesignationExcludeDesignation.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.language <> '') then
    tgt.language := src.language;

  if (src.use <> nil) then
    tgt.use := convertCoding4(src.use);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

*)

class function TVersionConvertor_30_40.convertFamilyMemberHistory3(src : fhir3_resources.TFhirFamilyMemberHistory) : fhir4_resources.TFhirFamilyMemberHistory;
var
  tgt : fhir4_resources.TFhirFamilyMemberHistory;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirReference;
  t5 : fhir3_types.TFhirAnnotation;
  t6 : fhir3_resources.TFhirFamilyMemberHistoryCondition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirFamilyMemberHistory.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  for t2 in src.definitionList do
  begin
    tgt.instantiatesCanonicalList.add(fhir4_types.TFhirCanonical.Create(t2.reference));
  end;
  tgt.status := convertFamilyHistoryStatus3(src.status);

  if (src.notDoneReason <> nil) then
    tgt.dataAbsentReason := convertCodeableConcept3(src.notDoneReason);

  if (src.patient <> nil) then
    tgt.patient := convertReference3(src.patient);

  tgt.date := src.date;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.relationship <> nil) then
    tgt.relationship := convertCodeableConcept3(src.relationship);

//  tgt.gender := convertAdministrativeGender3(src.gender);

  if (src.born <> nil) then
    tgt.born := convertType3(src.born);

  if (src.age <> nil) then
    tgt.age := convertType3(src.age);

  tgt.estimatedAge := src.estimatedAge;

  if (src.deceased <> nil) then
    tgt.deceased := convertType3(src.deceased);

  for t3 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference3(t4));
  end;
  for t5 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t5));
  end;
  for t6 in src.conditionList do
  begin
    tgt.conditionList.add(convertFamilyMemberHistoryConditionComponent3(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertFamilyMemberHistory4(src : fhir4_resources.TFhirFamilyMemberHistory) : fhir3_resources.TFhirFamilyMemberHistory;
var
  tgt : fhir3_resources.TFhirFamilyMemberHistory;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirUri;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirReference;
  t5 : fhir4_types.TFhirAnnotation;
  t6 : fhir4_resources.TFhirFamilyMemberHistoryCondition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirFamilyMemberHistory.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  for t2 in src.instantiatesCanonicalList do
  begin
    tgt.definitionList.add(fhir3_types.TFhirReference.Create(t2.Value));
  end;
  tgt.status := convertFamilyHistoryStatus4(src.status);

  if (src.dataAbsentReason <> nil) then
    tgt.notDoneReason := convertCodeableConcept4(src.dataAbsentReason);

  if (src.patient <> nil) then
    tgt.patient := convertReference4(src.patient);

  tgt.date := src.date;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.relationship <> nil) then
    tgt.relationship := convertCodeableConcept4(src.relationship);

//  tgt.gender := convertAdministrativeGender4(src.gender);

  if (src.born <> nil) then
    tgt.born := convertType4(src.born);

  if (src.age <> nil) then
    tgt.age := convertType4(src.age);

  tgt.estimatedAge := src.estimatedAge;

  if (src.deceased <> nil) then
    tgt.deceased := convertType4(src.deceased);

  for t3 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference4(t4));
  end;
  for t5 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t5));
  end;
  for t6 in src.conditionList do
  begin
    tgt.conditionList.add(convertFamilyMemberHistoryConditionComponent4(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertFamilyMemberHistoryConditionComponent3(src : fhir3_resources.TFhirFamilyMemberHistoryCondition) : fhir4_resources.TFhirFamilyMemberHistoryCondition;
var
  tgt : fhir4_resources.TFhirFamilyMemberHistoryCondition;
  t : fhir3_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirFamilyMemberHistoryCondition.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertCodeableConcept3(src.code);

  tgt.outcome := convertCodeableConcept3(src.outcome);

  if (src.onset <> nil) then
    tgt.onset := convertType3(src.onset);

  for t in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertFamilyMemberHistoryConditionComponent4(src : fhir4_resources.TFhirFamilyMemberHistoryCondition) : fhir3_resources.TFhirFamilyMemberHistoryCondition;
var
  tgt : fhir3_resources.TFhirFamilyMemberHistoryCondition;
  t : fhir4_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirFamilyMemberHistoryCondition.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertCodeableConcept4(src.code);

  tgt.outcome := convertCodeableConcept4(src.outcome);

  if (src.onset <> nil) then
    tgt.onset := convertType4(src.onset);

  for t in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertFlag3(src : fhir3_resources.TFhirFlag) : fhir4_resources.TFhirFlag;
var
  tgt : fhir4_resources.TFhirFlag;
  t : fhir3_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirFlag.Create();
  try
  copyDomainResource3(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t));
  end;
  tgt.status := convertFlagStatus3(src.status);

  if (src.category <> nil) then
    tgt.categoryList.add(convertCodeableConcept3(src.Category));

  tgt.code := convertCodeableConcept3(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  if (src.encounter <> nil) then
    tgt.encounter := convertReference3(src.encounter);

  if (src.author <> nil) then
    tgt.author := convertReference3(src.author);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertFlag4(src : fhir4_resources.TFhirFlag) : fhir3_resources.TFhirFlag;
var
  tgt : fhir3_resources.TFhirFlag;
  t : fhir4_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirFlag.Create();
  try
  copyDomainResource4(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t));
  end;
  tgt.status := convertFlagStatus4(src.status);

  if (src.categoryList.count > 0) then
    tgt.category := convertCodeableConcept4(src.categoryList[0]);

  tgt.code := convertCodeableConcept4(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  if (src.encounter <> nil) then
    tgt.encounter := convertReference4(src.encounter);

  if (src.author <> nil) then
    tgt.author := convertReference4(src.author);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGoal3(src : fhir3_resources.TFhirGoal) : fhir4_resources.TFhirGoal;
var
  tgt : fhir4_resources.TFhirGoal;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirReference;
  t4 : fhir3_types.TFhirAnnotation;
  t5 : fhir3_types.TFhirCodeableConcept;
  t6 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirGoal.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.lifecycleStatus := convertGoalStatus3(src.status);

  for t2 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept3(t2));
  end;
  if (src.priority <> nil) then
    tgt.priority := convertCodeableConcept3(src.priority);

  if (src.description <> nil) then
    tgt.description := convertCodeableConcept3(src.description);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.start <> nil) then
    tgt.start := convertType3(src.start);

  if (src.target <> nil) then
    tgt.targetList.Add(convertGoalTargetComponent3(src.target));

  tgt.statusDate := src.statusDate.link;

  if (src.statusReason <> '') then
    tgt.statusReason := src.statusReason;

  if (src.expressedBy <> nil) then
    tgt.expressedBy := convertReference3(src.expressedBy);

  for t3 in src.addressesList do
  begin
    tgt.addressesList.add(convertReference3(t3));
  end;
  for t4 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t4));
  end;
  for t5 in src.outcomeCodeList do
  begin
    tgt.outcomeCodeList.add(convertCodeableConcept3(t5));
  end;
  for t6 in src.outcomeReferenceList do
  begin
    tgt.outcomeReferenceList.add(convertReference3(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGoal4(src : fhir4_resources.TFhirGoal) : fhir3_resources.TFhirGoal;
var
  tgt : fhir3_resources.TFhirGoal;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirReference;
  t4 : fhir4_types.TFhirAnnotation;
  t5 : fhir4_types.TFhirCodeableConcept;
  t6 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirGoal.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertGoalStatus4(src.Lifecyclestatus);

  for t2 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept4(t2));
  end;
  if (src.priority <> nil) then
    tgt.priority := convertCodeableConcept4(src.priority);

  if (src.description <> nil) then
    tgt.description := convertCodeableConcept4(src.description);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.start <> nil) then
    tgt.start := convertType4(src.start);

  if (src.targetList.Count > 0) then
    tgt.target := convertGoalTargetComponent4(src.targetList[0]);

  tgt.statusDate := src.statusDate.link;

  if (src.statusReason <> '') then
    tgt.statusReason := src.statusReason;

  if (src.expressedBy <> nil) then
    tgt.expressedBy := convertReference4(src.expressedBy);

  for t3 in src.addressesList do
  begin
    tgt.addressesList.add(convertReference4(t3));
  end;
  for t4 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t4));
  end;
  for t5 in src.outcomeCodeList do
  begin
    tgt.outcomeCodeList.add(convertCodeableConcept4(t5));
  end;
  for t6 in src.outcomeReferenceList do
  begin
    tgt.outcomeReferenceList.add(convertReference4(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGoalTargetComponent3(src : fhir3_resources.TFhirGoalTarget) : fhir4_resources.TFhirGoalTarget;
var
  tgt : fhir4_resources.TFhirGoalTarget;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirGoalTarget.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.measure <> nil) then
    tgt.measure := convertCodeableConcept3(src.measure);

  if (src.detail <> nil) then
    tgt.detail := convertType3(src.detail);

  if (src.due <> nil) then
    tgt.due := convertType3(src.due);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGoalTargetComponent4(src : fhir4_resources.TFhirGoalTarget) : fhir3_resources.TFhirGoalTarget;
var
  tgt : fhir3_resources.TFhirGoalTarget;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirGoalTarget.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.measure <> nil) then
    tgt.measure := convertCodeableConcept4(src.measure);

  if (src.detail <> nil) then
    tgt.detail := convertType4(src.detail);

  if (src.due <> nil) then
    tgt.due := convertType4(src.due);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGraphDefinition3(src : fhir3_resources.TFhirGraphDefinition) : fhir4_resources.TFhirGraphDefinition;
var
  tgt : fhir4_resources.TFhirGraphDefinition;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_resources.TFhirGraphDefinitionLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirGraphDefinition.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  tgt.start := convertActivityDefinitionKind3(src.start);

  if (src.profile <> '') then
    tgt.profile := src.profile;

  for t4 in src.link_List do
  begin
    tgt.link_List.add(convertGraphDefinitionLinkComponent3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGraphDefinition4(src : fhir4_resources.TFhirGraphDefinition) : fhir3_resources.TFhirGraphDefinition;
var
  tgt : fhir3_resources.TFhirGraphDefinition;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_resources.TFhirGraphDefinitionLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirGraphDefinition.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  tgt.start := convertActivityDefinitionKind4(src.start);

  if (src.profile <> '') then
    tgt.profile := src.profile;

  for t4 in src.link_List do
  begin
    tgt.link_List.add(convertGraphDefinitionLinkComponent4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGraphDefinitionLinkComponent3(src : fhir3_resources.TFhirGraphDefinitionLink) : fhir4_resources.TFhirGraphDefinitionLink;
var
  tgt : fhir4_resources.TFhirGraphDefinitionLink;
  t : fhir3_resources.TFhirGraphDefinitionLinkTarget;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirGraphDefinitionLink.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  if (src.sliceName <> '') then
    tgt.sliceName := src.sliceName;

  tgt.min := src.min;

  if (src.max <> '') then
    tgt.max := src.max;

  if (src.description <> '') then
    tgt.description := src.description;

  for t in src.targetList do
  begin
    tgt.targetList.add(convertGraphDefinitionLinkTargetComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGraphDefinitionLinkComponent4(src : fhir4_resources.TFhirGraphDefinitionLink) : fhir3_resources.TFhirGraphDefinitionLink;
var
  tgt : fhir3_resources.TFhirGraphDefinitionLink;
  t : fhir4_resources.TFhirGraphDefinitionLinkTarget;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirGraphDefinitionLink.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  if (src.sliceName <> '') then
    tgt.sliceName := src.sliceName;

  tgt.min := src.min;

  if (src.max <> '') then
    tgt.max := src.max;

  if (src.description <> '') then
    tgt.description := src.description;

  for t in src.targetList do
  begin
    tgt.targetList.add(convertGraphDefinitionLinkTargetComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGraphDefinitionLinkTargetComponent3(src : fhir3_resources.TFhirGraphDefinitionLinkTarget) : fhir4_resources.TFhirGraphDefinitionLinkTarget;
var
  tgt : fhir4_resources.TFhirGraphDefinitionLinkTarget;
  t1 : fhir3_resources.TFhirGraphDefinitionLinkTargetCompartment;
  t2 : fhir3_resources.TFhirGraphDefinitionLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirGraphDefinitionLinkTarget.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_ := convertActivityDefinitionKind3(src.type_);

  if (src.profile <> '') then
    tgt.profile := src.profile;

  for t1 in src.compartmentList do
  begin
    tgt.compartmentList.add(convertGraphDefinitionLinkTargetCompartmentComponent3(t1));
  end;
  for t2 in src.link_List do
  begin
    tgt.link_List.add(convertGraphDefinitionLinkComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGraphDefinitionLinkTargetComponent4(src : fhir4_resources.TFhirGraphDefinitionLinkTarget) : fhir3_resources.TFhirGraphDefinitionLinkTarget;
var
  tgt : fhir3_resources.TFhirGraphDefinitionLinkTarget;
  t1 : fhir4_resources.TFhirGraphDefinitionLinkTargetCompartment;
  t2 : fhir4_resources.TFhirGraphDefinitionLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirGraphDefinitionLinkTarget.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := convertActivityDefinitionKind4(src.type_);

  if (src.profile <> '') then
    tgt.profile := src.profile;

  for t1 in src.compartmentList do
  begin
    tgt.compartmentList.add(convertGraphDefinitionLinkTargetCompartmentComponent4(t1));
  end;
  for t2 in src.link_List do
  begin
    tgt.link_List.add(convertGraphDefinitionLinkComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGraphDefinitionLinkTargetCompartmentComponent3(src : fhir3_resources.TFhirGraphDefinitionLinkTargetCompartment) : fhir4_resources.TFhirGraphDefinitionLinkTargetCompartment;
var
  tgt : fhir4_resources.TFhirGraphDefinitionLinkTargetCompartment;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirGraphDefinitionLinkTargetCompartment.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertCompartmentCode3(src.code);

  tgt.rule := convertGraphCompartmentRule3(src.rule);

  if (src.expression <> '') then
    tgt.expression := src.expression;

  if (src.description <> '') then
    tgt.description := src.description;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGraphDefinitionLinkTargetCompartmentComponent4(src : fhir4_resources.TFhirGraphDefinitionLinkTargetCompartment) : fhir3_resources.TFhirGraphDefinitionLinkTargetCompartment;
var
  tgt : fhir3_resources.TFhirGraphDefinitionLinkTargetCompartment;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirGraphDefinitionLinkTargetCompartment.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertCompartmentCode4(src.code);

  tgt.rule := convertGraphCompartmentRule4(src.rule);

  if (src.expression <> '') then
    tgt.expression := src.expression;

  if (src.description <> '') then
    tgt.description := src.description;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGroup3(src : fhir3_resources.TFhirGroup) : fhir4_resources.TFhirGroup;
var
  tgt : fhir4_resources.TFhirGroup;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_resources.TFhirGroupCharacteristic;
  t3 : fhir3_resources.TFhirGroupMember;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirGroup.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.active := src.active;

  tgt.type_ := convertGroupType3(src.type_);

  tgt.actual := src.actual;

  tgt.code := convertCodeableConcept3(src.code);

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.quantity := src.quantity;

  for t2 in src.characteristicList do
  begin
    tgt.characteristicList.add(convertGroupCharacteristicComponent3(t2));
  end;
  for t3 in src.memberList do
  begin
    tgt.memberList.add(convertGroupMemberComponent3(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGroup4(src : fhir4_resources.TFhirGroup) : fhir3_resources.TFhirGroup;
var
  tgt : fhir3_resources.TFhirGroup;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_resources.TFhirGroupCharacteristic;
  t3 : fhir4_resources.TFhirGroupMember;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirGroup.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.active := src.active;

  tgt.type_ := convertGroupType4(src.type_);

  tgt.actual := src.actual;

  tgt.code := convertCodeableConcept4(src.code);

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.quantity := src.quantity;

  for t2 in src.characteristicList do
  begin
    tgt.characteristicList.add(convertGroupCharacteristicComponent4(t2));
  end;
  for t3 in src.memberList do
  begin
    tgt.memberList.add(convertGroupMemberComponent4(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGroupCharacteristicComponent3(src : fhir3_resources.TFhirGroupCharacteristic) : fhir4_resources.TFhirGroupCharacteristic;
var
  tgt : fhir4_resources.TFhirGroupCharacteristic;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirGroupCharacteristic.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertCodeableConcept3(src.code);

  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  tgt.exclude := src.exclude;

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGroupCharacteristicComponent4(src : fhir4_resources.TFhirGroupCharacteristic) : fhir3_resources.TFhirGroupCharacteristic;
var
  tgt : fhir3_resources.TFhirGroupCharacteristic;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirGroupCharacteristic.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertCodeableConcept4(src.code);

  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  tgt.exclude := src.exclude;

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGroupMemberComponent3(src : fhir3_resources.TFhirGroupMember) : fhir4_resources.TFhirGroupMember;
var
  tgt : fhir4_resources.TFhirGroupMember;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirGroupMember.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.entity <> nil) then
    tgt.entity := convertReference3(src.entity);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  tgt.inactive := src.inactive;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertGroupMemberComponent4(src : fhir4_resources.TFhirGroupMember) : fhir3_resources.TFhirGroupMember;
var
  tgt : fhir3_resources.TFhirGroupMember;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirGroupMember.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.entity <> nil) then
    tgt.entity := convertReference4(src.entity);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  tgt.inactive := src.inactive;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertHealthcareService3(src : fhir3_resources.TFhirHealthcareService) : fhir4_resources.TFhirHealthcareService;
var
  tgt : fhir4_resources.TFhirHealthcareService;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirReference;
  t5 : fhir3_types.TFhirContactPoint;
  t6 : fhir3_types.TFhirReference;
  t7 : fhir3_types.TFhirCodeableConcept;
  t8 : fhir3_types.TFhirString;
  t9 : fhir3_types.TFhirCodeableConcept;
  ta : fhir3_types.TFhirCodeableConcept;
  tb : fhir3_resources.TFhirHealthcareServiceAvailableTime;
  tc : fhir3_resources.TFhirHealthcareServiceNotAvailable;
  td : fhir3_types.TFhirReference;
  te : fhir4_resources.TFhirHealthcareServiceEligibility;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirHealthcareService.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.active := src.active;

  if (src.providedBy <> nil) then
    tgt.providedBy := convertReference3(src.providedBy);

  if (src.category <> nil) then
    tgt.categoryList.add(convertCodeableConcept3(src.Category));

  for t2 in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept3(t2));
  end;
  for t3 in src.specialtyList do
  begin
    tgt.specialtyList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.locationList do
  begin
    tgt.locationList.add(convertReference3(t4));
  end;
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  if (src.extraDetails <> '') then
    tgt.extraDetails := src.extraDetails;

  if (src.photo <> nil) then
    tgt.photo := convertAttachment3(src.photo);

  for t5 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint3(t5));
  end;
  for t6 in src.coverageAreaList do
  begin
    tgt.coverageAreaList.add(convertReference3(t6));
  end;
  for t7 in src.serviceProvisionCodeList do
  begin
    tgt.serviceProvisionCodeList.add(convertCodeableConcept3(t7));
  end;
  if (src.eligibilityNote <> '') or (src.eligibility <> nil) then
  begin
    te := tgt.eligibilityList.Append;
    if (src.eligibility <> nil) then
      te.code := convertCodeableConcept3(src.eligibility);
    if (src.eligibilityNote <> '') then
      te.comment := src.eligibilityNote;
  end;

  for t8 in src.programNameList do
  begin
    tgt.program_List.add(convertString2CodeableConcept3(t8));
  end;
  for t9 in src.characteristicList do
  begin
    tgt.characteristicList.add(convertCodeableConcept3(t9));
  end;
  for ta in src.referralMethodList do
  begin
    tgt.referralMethodList.add(convertCodeableConcept3(ta));
  end;
  tgt.appointmentRequired := src.appointmentRequired;

  for tb in src.availableTimeList do
  begin
    tgt.availableTimeList.add(convertHealthcareServiceAvailableTimeComponent3(tb));
  end;
  for tc in src.notAvailableList do
  begin
    tgt.notAvailableList.add(convertHealthcareServiceNotAvailableComponent3(tc));
  end;
  if (src.availabilityExceptions <> '') then
    tgt.availabilityExceptions := src.availabilityExceptions;

  for td in src.endpointList do
  begin
    tgt.endpointList.add(convertReference3(td));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertHealthcareService4(src : fhir4_resources.TFhirHealthcareService) : fhir3_resources.TFhirHealthcareService;
var
  tgt : fhir3_resources.TFhirHealthcareService;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirReference;
  t5 : fhir4_types.TFhirContactPoint;
  t6 : fhir4_types.TFhirReference;
  t7 : fhir4_types.TFhirCodeableConcept;
  t8 : fhir4_types.TFhirCodeableConcept;
  t9 : fhir4_types.TFhirCodeableConcept;
  ta : fhir4_types.TFhirCodeableConcept;
  tb : fhir4_resources.TFhirHealthcareServiceAvailableTime;
  tc : fhir4_resources.TFhirHealthcareServiceNotAvailable;
  td : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirHealthcareService.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.active := src.active;

  if (src.providedBy <> nil) then
    tgt.providedBy := convertReference4(src.providedBy);

  if (src.categoryList.count > 0) then
    tgt.category := convertCodeableConcept4(src.categoryList[0]);

  for t2 in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept4(t2));
  end;
  for t3 in src.specialtyList do
  begin
    tgt.specialtyList.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.locationList do
  begin
    tgt.locationList.add(convertReference4(t4));
  end;
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  if (src.extraDetails <> '') then
    tgt.extraDetails := src.extraDetails;

  if (src.photo <> nil) then
    tgt.photo := convertAttachment4(src.photo);

  for t5 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint4(t5));
  end;
  for t6 in src.coverageAreaList do
  begin
    tgt.coverageAreaList.add(convertReference4(t6));
  end;
  for t7 in src.serviceProvisionCodeList do
  begin
    tgt.serviceProvisionCodeList.add(convertCodeableConcept4(t7));
  end;
  if (src.eligibilityList.Count > 0) then
  begin
    tgt.eligibility := convertCodeableConcept4(src.eligibilityList[0].code);
    if (src.comment <> '') then
      tgt.eligibilityNote := src.comment;
  end;

  for t8 in src.program_List do
  begin
    tgt.programNameList.add(t8.text);
  end;
  for t9 in src.characteristicList do
  begin
    tgt.characteristicList.add(convertCodeableConcept4(t9));
  end;
  for ta in src.referralMethodList do
  begin
    tgt.referralMethodList.add(convertCodeableConcept4(ta));
  end;
  tgt.appointmentRequired := src.appointmentRequired;

  for tb in src.availableTimeList do
  begin
    tgt.availableTimeList.add(convertHealthcareServiceAvailableTimeComponent4(tb));
  end;
  for tc in src.notAvailableList do
  begin
    tgt.notAvailableList.add(convertHealthcareServiceNotAvailableComponent4(tc));
  end;
  if (src.availabilityExceptions <> '') then
    tgt.availabilityExceptions := src.availabilityExceptions;

  for td in src.endpointList do
  begin
    tgt.endpointList.add(convertReference4(td));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertHealthcareServiceAvailableTimeComponent3(src : fhir3_resources.TFhirHealthcareServiceAvailableTime) : fhir4_resources.TFhirHealthcareServiceAvailableTime;
var
  tgt : fhir4_resources.TFhirHealthcareServiceAvailableTime;
  t : fhir3_types.TFhirDaysOfWeekEnum;
  a : fhir4_types.TFhirDaysOfWeekEnumList;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirHealthcareServiceAvailableTime.Create();
  try
  copyBackboneElement3(src, tgt);

  a := [];
  for t := low(fhir3_types.TFhirDaysOfWeekEnum) to high(fhir3_types.TFhirDaysOfWeekEnum) do
    if t in src.daysOfWeek then
      a := a + [convertDayOfWeek3(t)];
  tgt.daysOfWeek := a;

  tgt.allDay := src.allDay;

  if (src.availableStartTime <> '') then
    tgt.availableStartTime := src.availableStartTime;

  if (src.availableEndTime <> '') then
    tgt.availableEndTime := src.availableEndTime;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertHealthcareServiceAvailableTimeComponent4(src : fhir4_resources.TFhirHealthcareServiceAvailableTime) : fhir3_resources.TFhirHealthcareServiceAvailableTime;
var
  tgt : fhir3_resources.TFhirHealthcareServiceAvailableTime;
  t : fhir4_types.TFhirDaysOfWeekEnum;
  a : fhir3_types.TFhirDaysOfWeekEnumList;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirHealthcareServiceAvailableTime.Create();
  try
  copyBackboneElement4(src, tgt);
  a := [];
  for t := low(fhir4_types.TFhirDaysOfWeekEnum) to high(fhir4_types.TFhirDaysOfWeekEnum) do
    if t in src.daysOfWeek then
      a := a + [convertDayOfWeek4(t)];
  tgt.daysOfWeek := a;

  tgt.allDay := src.allDay;

  if (src.availableStartTime <> '') then
    tgt.availableStartTime := src.availableStartTime;

  if (src.availableEndTime <> '') then
    tgt.availableEndTime := src.availableEndTime;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertHealthcareServiceNotAvailableComponent3(src : fhir3_resources.TFhirHealthcareServiceNotAvailable) : fhir4_resources.TFhirHealthcareServiceNotAvailable;
var
  tgt : fhir4_resources.TFhirHealthcareServiceNotAvailable;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirHealthcareServiceNotAvailable.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.description <> '') then
    tgt.description := src.description;

  if (src.during <> nil) then
    tgt.during := convertPeriod3(src.during);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertHealthcareServiceNotAvailableComponent4(src : fhir4_resources.TFhirHealthcareServiceNotAvailable) : fhir3_resources.TFhirHealthcareServiceNotAvailable;
var
  tgt : fhir3_resources.TFhirHealthcareServiceNotAvailable;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirHealthcareServiceNotAvailable.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.description <> '') then
    tgt.description := src.description;

  if (src.during <> nil) then
    tgt.during := convertPeriod4(src.during);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImmunization3(src : fhir3_resources.TFhirImmunization) : fhir4_resources.TFhirImmunization;
var
  tgt : fhir4_resources.TFhirImmunization;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_resources.TFhirImmunizationPractitioner;
  t3 : fhir3_types.TFhirAnnotation;
  t4 : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirImmunization.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertImmunizationStatus3(src.status);

  if (src.vaccineCode <> nil) then
    tgt.vaccineCode := convertCodeableConcept3(src.vaccineCode);

  if (src.patient <> nil) then
    tgt.patient := convertReference3(src.patient);

  if (src.encounter <> nil) then
    tgt.encounter := convertReference3(src.encounter);

  tgt.occurrence := convertType3(src.dateElement);

  tgt.primarySource := src.primarySource;

  if (src.reportOrigin <> nil) then
    tgt.reportOrigin := convertCodeableConcept3(src.reportOrigin);

  if (src.location <> nil) then
    tgt.location := convertReference3(src.location);

  if (src.manufacturer <> nil) then
    tgt.manufacturer := convertReference3(src.manufacturer);

  if (src.lotNumber <> '') then
    tgt.lotNumber := src.lotNumber;

  tgt.expirationDate := src.expirationDate.link;

  if (src.site <> nil) then
    tgt.site := convertCodeableConcept3(src.site);

  if (src.route <> nil) then
    tgt.route := convertCodeableConcept3(src.route);

  if (src.doseQuantity <> nil) then
    tgt.doseQuantity := convertSimpleQuantity3(src.doseQuantity);

  for t2 in src.practitionerList do
  begin
    tgt.performerList.add(convertImmunizationPractitionerComponent3(t2));
  end;
  for t3 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t3));
  end;
  if src.Explanation <> nil then
    for t4 in src.Explanation.reasonList do
    begin
      tgt.reasonCodeList.add(convertCodeableConcept3(t4));
    end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImmunization4(src : fhir4_resources.TFhirImmunization) : fhir3_resources.TFhirImmunization;
var
  tgt : fhir3_resources.TFhirImmunization;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_resources.TFhirImmunizationPerformer;
  t3 : fhir4_types.TFhirAnnotation;
  t4 : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirImmunization.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertImmunizationStatus4(src.status);

  if (src.vaccineCode <> nil) then
    tgt.vaccineCode := convertCodeableConcept4(src.vaccineCode);

  if (src.patient <> nil) then
    tgt.patient := convertReference4(src.patient);

  if (src.encounter <> nil) then
    tgt.encounter := convertReference4(src.encounter);

  if src.occurrence is TFhirDate then
    tgt.dateElement := convertDateTime4(src.occurrence as TFhirDateTime);

  tgt.primarySource := src.primarySource;

  if (src.reportOrigin <> nil) then
    tgt.reportOrigin := convertCodeableConcept4(src.reportOrigin);

  if (src.location <> nil) then
    tgt.location := convertReference4(src.location);

  if (src.manufacturer <> nil) then
    tgt.manufacturer := convertReference4(src.manufacturer);

  if (src.lotNumber <> '') then
    tgt.lotNumber := src.lotNumber;

  tgt.expirationDate := src.expirationDate.link;

  if (src.site <> nil) then
    tgt.site := convertCodeableConcept4(src.site);

  if (src.route <> nil) then
    tgt.route := convertCodeableConcept4(src.route);

  if (src.doseQuantity <> nil) then
    tgt.doseQuantity := convertSimpleQuantity4(src.doseQuantity);

  for t2 in src.performerList do
  begin
    tgt.practitionerList.add(convertImmunizationPractitionerComponent4(t2));
  end;
  for t3 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t3));
  end;
  for t4 in src.reasonCodeList do
  begin
    if tgt.Explanation = nil then
      tgt.Explanation := TFhirImmunizationExplanation.Create;
    tgt.Explanation.reasonList.add(convertCodeableConcept4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImmunizationPractitionerComponent3(src : fhir3_resources.TFhirImmunizationPractitioner) : fhir4_resources.TFhirImmunizationPerformer;
var
  tgt : fhir4_resources.TFhirImmunizationPerformer;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirImmunizationPerformer.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.role <> nil) then
    tgt.function_ := convertCodeableConcept3(src.role);

  if (src.actor <> nil) then
    tgt.actor := convertReference3(src.actor);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImmunizationPractitionerComponent4(src : fhir4_resources.TFhirImmunizationPerformer) : fhir3_resources.TFhirImmunizationPractitioner;
var
  tgt : fhir3_resources.TFhirImmunizationPractitioner;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirImmunizationPractitioner.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.function_ <> nil) then
    tgt.role := convertCodeableConcept4(src.function_);

  if (src.actor <> nil) then
    tgt.actor := convertReference4(src.actor);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuide3(src : fhir3_resources.TFhirImplementationGuide) : fhir4_resources.TFhirImplementationGuide;
var
  tgt : fhir4_resources.TFhirImplementationGuide;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_resources.TFhirImplementationGuideDependency;
  t5 : fhir3_resources.TFhirImplementationGuidePackage;
  t6 : fhir3_resources.TFhirImplementationGuideGlobal;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirImplementationGuide.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  if (src.fhirVersion <> '') then
    tgt.fhirVersion := [fhir4_types.TFhirFHIRVersionEnum(StringArrayIndexOfSensitive(fhir4_types.CODES_TFhirFHIRVersionEnum, src.fhirVersion))];

  for t4 in src.dependencyList do
  begin
    tgt.dependsOnList.add(convertImplementationGuideDependencyComponent3(t4));
  end;
  for t5 in src.packageList do
  begin
    if tgt.definition = nil then
      tgt.definition := fhir4_resources.TFhirImplementationGuideDefinition.Create;

    tgt.Definition.groupingList.add(convertImplementationGuidePackageComponent3(tgt.Definition, t5));
  end;
  for t6 in src.globalList do
  begin
    tgt.globalList.add(convertImplementationGuideGlobalComponent3(t6));
  end;
  if (src.page <> nil) then
    tgt.Definition.page := convertImplementationGuidePageComponent3(src.page);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuide4(src : fhir4_resources.TFhirImplementationGuide) : fhir3_resources.TFhirImplementationGuide;
var
  tgt : fhir3_resources.TFhirImplementationGuide;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_resources.TFhirImplementationGuideDependsOn;
  t5 : fhir4_resources.TFhirImplementationGuideDefinitionGrouping;
  t6 : fhir4_resources.TFhirImplementationGuideDefinitionResource;
  t7 : fhir4_resources.TFhirImplementationGuideGlobal;
  a : fhir4_types.TFhirFHIRVersionEnum;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirImplementationGuide.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for a := low(TFhirFHIRVersionEnum) to high(TFhirFHIRVersionEnum) do
    if (a in src.fhirVersion) and (a <> FHIRVersionNull) then
      tgt.fhirVersion := fhir4_types.CODES_TFhirFHIRVersionEnum[a];

  for t4 in src.dependsOnList do
  begin
    tgt.dependencyList.add(convertImplementationGuideDependencyComponent4(t4));
  end;
  for t5 in src.Definition.groupingList do
  begin
    tgt.packageList.add(convertImplementationGuidePackageComponent4(t5));
  end;
  for t6 in src.Definition.resourceList do
  begin
    findPackage(tgt.packageList, t6.groupingId).resourceList.add(convertImplementationGuidePackageResourceComponent4(t6));
  end;
  for t7 in src.globalList do
  begin
    tgt.globalList.add(convertImplementationGuideGlobalComponent4(t7));
  end;
  if (src.Definition.page <> nil) then
    tgt.page := convertImplementationGuidePageComponent4(src.Definition.page);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuideDependencyComponent3(src : fhir3_resources.TFhirImplementationGuideDependency) : fhir4_resources.TFhirImplementationGuideDependsOn;
var
  tgt : fhir4_resources.TFhirImplementationGuideDependsOn;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirImplementationGuideDependsOn.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.uri <> '') then
    tgt.uri := src.uri;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuideDependencyComponent4(src : fhir4_resources.TFhirImplementationGuideDependsOn) : fhir3_resources.TFhirImplementationGuideDependency;
var
  tgt : fhir3_resources.TFhirImplementationGuideDependency;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirImplementationGuideDependency.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := fhir3_types.GuideDependencyTypeReference;
  if (src.uri <> '') then
    tgt.uri := src.uri;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuidePackageComponent3(context : fhir4_resources.TFhirImplementationGuideDefinition; src : fhir3_resources.TFhirImplementationGuidePackage) : fhir4_resources.TFhirImplementationGuideDefinitionGrouping;
var
  tgt : fhir4_resources.TFhirImplementationGuideDefinitionGrouping;
  t : fhir3_resources.TFhirImplementationGuidePackageResource;
  tn : fhir4_resources.TFhirImplementationGuideDefinitionResource;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirImplementationGuideDefinitionGrouping.Create();
  try
  tgt.Id := 'p' + inttostr(context.groupingList.count() + 1);
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.description <> '') then
    tgt.description := src.description;

  for t in src.resourceList do
  begin
      tn := convertImplementationGuidePackageResourceComponent3(t);
      tn.groupingId := tgt.id;
      context.resourceList.add(tn);
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuidePackageComponent4(src : fhir4_resources.TFhirImplementationGuideDefinitionGrouping) : fhir3_resources.TFhirImplementationGuidePackage;
var
  tgt : fhir3_resources.TFhirImplementationGuidePackage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirImplementationGuidePackage.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.id := src.id;
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.description <> '') then
    tgt.description := src.description;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuidePackageResourceComponent3(src : fhir3_resources.TFhirImplementationGuidePackageResource) : fhir4_resources.TFhirImplementationGuideDefinitionResource;
var
  tgt : fhir4_resources.TFhirImplementationGuideDefinitionResource;
  t : fhir4_types.TFhirType;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirImplementationGuideDefinitionResource.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.exampleFor <> nil) then
  begin
    t := convertType3(src.ExampleFor);
    if t is fhir4_types.TFhirReference then
    begin
      tgt.Example := fhir4_types.TFhirCanonical.Create((t as fhir4_types.TFhirReference).Reference);
      t.free;
    end
    else
      tgt.Example := t;
  end
  else if (src.example) then
    tgt.Example := fhir4_types.TFHIRBoolean.Create(src.Example);

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.source is fhir3_types.TFHIRReference) then
    tgt.reference := convertReference3(src.source as fhir3_types.TFHIRReference)
  else
    if (src.source is fhir3_types.TFHIRUri) then
      tgt.Reference := fhir4_types.TFhirReference.Create((src.Source as fhir3_types.TFHIRUri).value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuidePackageResourceComponent4(src : fhir4_resources.TFhirImplementationGuideDefinitionResource) : fhir3_resources.TFhirImplementationGuidePackageResource;
var
  tgt : fhir3_resources.TFhirImplementationGuidePackageResource;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirImplementationGuidePackageResource.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.example is fhir4_types.TFHIRCanonical) then
  begin
    tgt.exampleFor := convertCanonicalToReference4(src.example as fhir4_types.TFHIRCanonical);
    tgt.example := true;
  end
  else if (src.example is fhir4_types.TFHIRBoolean) then
    tgt.example := (src.Example as fhir4_types.TFHIRBoolean).value;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.reference <> nil) then
    tgt.source := convertReference4(src.reference);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuideGlobalComponent3(src : fhir3_resources.TFhirImplementationGuideGlobal) : fhir4_resources.TFhirImplementationGuideGlobal;
var
  tgt : fhir4_resources.TFhirImplementationGuideGlobal;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirImplementationGuideGlobal.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_ := convertActivityDefinitionKind3(src.type_);

  if (src.profile <> nil) then
    tgt.profileElement := convertReferenceToCanonical3(src.profile);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuideGlobalComponent4(src : fhir4_resources.TFhirImplementationGuideGlobal) : fhir3_resources.TFhirImplementationGuideGlobal;
var
  tgt : fhir3_resources.TFhirImplementationGuideGlobal;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirImplementationGuideGlobal.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := convertActivityDefinitionKind4(src.type_);

  if (src.profile <> '') then
    tgt.profile := convertCanonicalToReference4(src.profileElement);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuidePageComponent3(src : fhir3_resources.TFhirImplementationGuidePage) : fhir4_resources.TFhirImplementationGuideDefinitionPage;
var
  tgt : fhir4_resources.TFhirImplementationGuideDefinitionPage;
  t : fhir3_resources.TFhirImplementationGuidePage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirImplementationGuideDefinitionPage.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.source <> '') then
    tgt.name := convertUriToUrl3(src.sourceElement);

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.generation := convertPageGeneration3(src.kind);

  for t in src.pageList do
  begin
    tgt.pageList.add(convertImplementationGuidePageComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertImplementationGuidePageComponent4(src : fhir4_resources.TFhirImplementationGuideDefinitionPage) : fhir3_resources.TFhirImplementationGuidePage;
var
  tgt : fhir3_resources.TFhirImplementationGuidePage;
  t : fhir4_resources.TFhirImplementationGuideDefinitionPage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirImplementationGuidePage.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name is fhir4_types.TFHIRUrl) then
    tgt.source := (src.Name as fhir4_types.TFHIRUrl).value;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.kind := convertPageGeneration4(src.generation);

  for t in src.pageList do
  begin
    tgt.pageList.add(convertImplementationGuidePageComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertLinkage3(src : fhir3_resources.TFhirLinkage) : fhir4_resources.TFhirLinkage;
var
  tgt : fhir4_resources.TFhirLinkage;
  t : fhir3_resources.TFhirLinkageItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirLinkage.Create();
  try
  copyDomainResource3(src, tgt);
  tgt.active := src.active;

  if (src.author <> nil) then
    tgt.author := convertReference3(src.author);

  for t in src.itemList do
  begin
    tgt.itemList.add(convertLinkageItemComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertLinkage4(src : fhir4_resources.TFhirLinkage) : fhir3_resources.TFhirLinkage;
var
  tgt : fhir3_resources.TFhirLinkage;
  t : fhir4_resources.TFhirLinkageItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirLinkage.Create();
  try
  copyDomainResource4(src, tgt);
  tgt.active := src.active;

  if (src.author <> nil) then
    tgt.author := convertReference4(src.author);

  for t in src.itemList do
  begin
    tgt.itemList.add(convertLinkageItemComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertLinkageItemComponent3(src : fhir3_resources.TFhirLinkageItem) : fhir4_resources.TFhirLinkageItem;
var
  tgt : fhir4_resources.TFhirLinkageItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirLinkageItem.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_ := convertLinkageType3(src.type_);

  if (src.resource <> nil) then
    tgt.resource := convertReference3(src.resource);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertLinkageItemComponent4(src : fhir4_resources.TFhirLinkageItem) : fhir3_resources.TFhirLinkageItem;
var
  tgt : fhir3_resources.TFhirLinkageItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirLinkageItem.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := convertLinkageType4(src.type_);

  if (src.resource <> nil) then
    tgt.resource := convertReference4(src.resource);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertList3(src : fhir3_resources.TFhirList) : fhir4_resources.TFhirList;
var
  tgt : fhir4_resources.TFhirList;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirAnnotation;
  t3 : fhir3_resources.TFhirListEntry;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirList.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertListStatus3(src.status);

  tgt.mode := convertListMode3(src.mode);

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.code := convertCodeableConcept3(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.encounter <> nil) then
    tgt.encounter := convertReference3(src.encounter);

  tgt.date := src.date;

  if (src.source <> nil) then
    tgt.source := convertReference3(src.source);

  if (src.orderedBy <> nil) then
    tgt.orderedBy := convertCodeableConcept3(src.orderedBy);

  for t2 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t2));
  end;
  for t3 in src.entryList do
  begin
    tgt.entryList.add(convertListEntryComponent3(t3));
  end;
  if (src.emptyReason <> nil) then
    tgt.emptyReason := convertCodeableConcept3(src.emptyReason);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertList4(src : fhir4_resources.TFhirList) : fhir3_resources.TFhirList;
var
  tgt : fhir3_resources.TFhirList;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirAnnotation;
  t3 : fhir4_resources.TFhirListEntry;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirList.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertListStatus4(src.status);

  tgt.mode := convertListMode4(src.mode);

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.code := convertCodeableConcept4(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.encounter <> nil) then
    tgt.encounter := convertReference4(src.encounter);

  tgt.date := src.date;

  if (src.source <> nil) then
    tgt.source := convertReference4(src.source);

  if (src.orderedBy <> nil) then
    tgt.orderedBy := convertCodeableConcept4(src.orderedBy);

  for t2 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t2));
  end;
  for t3 in src.entryList do
  begin
    tgt.entryList.add(convertListEntryComponent4(t3));
  end;
  if (src.emptyReason <> nil) then
    tgt.emptyReason := convertCodeableConcept4(src.emptyReason);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertListEntryComponent3(src : fhir3_resources.TFhirListEntry) : fhir4_resources.TFhirListEntry;
var
  tgt : fhir4_resources.TFhirListEntry;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirListEntry.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.flag <> nil) then
    tgt.flag := convertCodeableConcept3(src.flag);

  tgt.deleted := src.deleted;

  tgt.date := src.date;

  if (src.item <> nil) then
    tgt.item := convertReference3(src.item);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertListEntryComponent4(src : fhir4_resources.TFhirListEntry) : fhir3_resources.TFhirListEntry;
var
  tgt : fhir3_resources.TFhirListEntry;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirListEntry.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.flag <> nil) then
    tgt.flag := convertCodeableConcept4(src.flag);

  tgt.deleted := src.deleted;

  tgt.date := src.date;

  if (src.item <> nil) then
    tgt.item := convertReference4(src.item);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertLocation3(src : fhir3_resources.TFhirLocation) : fhir4_resources.TFhirLocation;
var
  tgt : fhir4_resources.TFhirLocation;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirString;
  t3 : fhir3_types.TFhirContactPoint;
  t4 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirLocation.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertLocationStatus3(src.status);

  if (src.operationalStatus <> nil) then
    tgt.operationalStatus := convertCoding3(src.operationalStatus);

  if (src.name <> '') then
    tgt.name := src.name;

  for t2 in src.aliasList do
  begin
    tgt.aliasList.add(convertString3(t2));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  tgt.mode := convertLocationMode3(src.mode);

  tgt.type_List.add(convertCodeableConcept3(src.Type_));

  for t3 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint3(t3));
  end;
  if (src.address <> nil) then
    tgt.address := convertAddress3(src.address);

  if (src.physicalType <> nil) then
    tgt.physicalType := convertCodeableConcept3(src.physicalType);

  if (src.position <> nil) then
    tgt.position := convertLocationPositionComponent3(src.position);

  if (src.managingOrganization <> nil) then
    tgt.managingOrganization := convertReference3(src.managingOrganization);

  if (src.partOf <> nil) then
    tgt.partOf := convertReference3(src.partOf);

  for t4 in src.endpointList do
  begin
    tgt.endpointList.add(convertReference3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertLocation4(src : fhir4_resources.TFhirLocation) : fhir3_resources.TFhirLocation;
var
  tgt : fhir3_resources.TFhirLocation;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirString;
  t3 : fhir4_types.TFhirContactPoint;
  t4 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirLocation.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertLocationStatus4(src.status);

  if (src.operationalStatus <> nil) then
    tgt.operationalStatus := convertCoding4(src.operationalStatus);

  if (src.name <> '') then
    tgt.name := src.name;

  for t2 in src.aliasList do
  begin
    tgt.aliasList.add(convertString4(t2));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  tgt.mode := convertLocationMode4(src.mode);

  if (src.type_List.count > 0) then
    tgt.type_ := convertCodeableConcept4(src.type_List[0]);

  for t3 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint4(t3));
  end;
  if (src.address <> nil) then
    tgt.address := convertAddress4(src.address);

  if (src.physicalType <> nil) then
    tgt.physicalType := convertCodeableConcept4(src.physicalType);

  if (src.position <> nil) then
    tgt.position := convertLocationPositionComponent4(src.position);

  if (src.managingOrganization <> nil) then
    tgt.managingOrganization := convertReference4(src.managingOrganization);

  if (src.partOf <> nil) then
    tgt.partOf := convertReference4(src.partOf);

  for t4 in src.endpointList do
  begin
    tgt.endpointList.add(convertReference4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertLocationPositionComponent3(src : fhir3_resources.TFhirLocationPosition) : fhir4_resources.TFhirLocationPosition;
var
  tgt : fhir4_resources.TFhirLocationPosition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirLocationPosition.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.longitude := src.longitude;
  tgt.latitude := src.latitude;
  tgt.altitude := src.altitude;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertLocationPositionComponent4(src : fhir4_resources.TFhirLocationPosition) : fhir3_resources.TFhirLocationPosition;
var
  tgt : fhir3_resources.TFhirLocationPosition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirLocationPosition.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.longitude := src.longitude;
  tgt.latitude := src.latitude;
  tgt.altitude := src.altitude;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationIngredientComponent3(src : fhir3_resources.TFhirMedicationIngredient) : fhir4_resources.TFhirMedicationIngredient;
var
  tgt : fhir4_resources.TFhirMedicationIngredient;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationIngredient.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.item <> nil) then
    tgt.item := convertType3(src.item);

  tgt.isActive := src.isActive;

  if (src.amount <> nil) then
    tgt.strength := convertRatio3(src.amount);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationIngredientComponent4(src : fhir4_resources.TFhirMedicationIngredient) : fhir3_resources.TFhirMedicationIngredient;
var
  tgt : fhir3_resources.TFhirMedicationIngredient;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationIngredient.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.item <> nil) then
    tgt.item := convertType4(src.item);

  tgt.isActive := src.isActive;

  if (src.strength <> nil) then
    tgt.amount := convertRatio4(src.strength);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationPackageBatchComponent3(src : fhir3_resources.TFhirMedicationPackageBatch) : fhir4_resources.TFhirMedicationBatch;
var
  tgt : fhir4_resources.TFhirMedicationBatch;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationBatch.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.LotNumber := src.LotNumber;
  tgt.ExpirationDate := src.ExpirationDate;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationPackageBatchComponent4(src : fhir4_resources.TFhirMedicationBatch) : fhir3_resources.TFhirMedicationPackageBatch;
var
  tgt : fhir3_resources.TFhirMedicationPackageBatch;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationPackageBatch.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.LotNumber := src.LotNumber;
  tgt.ExpirationDate := src.ExpirationDate;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedication4(src : fhir4_resources.TFhirMedication) : fhir3_resources.TFhirMedication;
var
  tgt : fhir3_resources.TFhirMedication;
  t : fhir4_resources.TFhirMedicationIngredient;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedication.Create();
  try
  copyDomainResource4(src, tgt);
  tgt.Code := convertCodeableConcept4(src.Code);
  tgt.Status := convertMedicationStatus4(src.Status);
  tgt.Manufacturer := convertReference4(src.Manufacturer);
  tgt.Form := convertCodeableConcept4(src.Form);
  for t in src.ingredientList do
    tgt.IngredientList.add(convertMedicationIngredientComponent4(t));
  if (src.batch <> nil) then
  begin
    tgt.package := fhir3_resources.TFhirMedicationPackage.Create;
    tgt.package.BatchList.add(convertMedicationPackageBatchComponent4(src.batch));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedication3(src : fhir3_resources.TFhirMedication) : fhir4_resources.TFhirMedication;
var
  tgt : fhir4_resources.TFhirMedication;
  t : fhir3_resources.TFhirMedicationIngredient;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedication.Create();
  try
  copyDomainResource3(src, tgt);
  tgt.Code := convertCodeableConcept3(src.Code);
  tgt.Status := convertMedicationStatus3(src.Status);
  tgt.Manufacturer := convertReference3(src.Manufacturer);
  tgt.Form := convertCodeableConcept3(src.Form);
  for t in src.ingredientList do
    tgt.IngredientList.add(convertMedicationIngredientComponent3(t));
  if (src.package <> nil) and (src.Package.batchList.Count > 0) then
    tgt.batch := convertMedicationPackageBatchComponent3(src.Package.batchList[0]);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationAdministration3(src : fhir3_resources.TFhirMedicationAdministration) : fhir4_resources.TFhirMedicationAdministration;
var
  tgt : fhir4_resources.TFhirMedicationAdministration;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_types.TFhirReference;
  t4 : fhir3_types.TFhirReference;
  t5 : fhir3_resources.TFhirMedicationAdministrationPerformer;
  t6 : fhir3_types.TFhirCodeableConcept;
  t7 : fhir3_types.TFhirReference;
  t8 : fhir3_types.TFhirReference;
  t9 : fhir3_types.TFhirAnnotation;
  ta : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationAdministration.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  for t2 in src.definitionList do
  begin
    tgt.instantiatesList.add(fhir4_types.TFhirCanonical.Create(t2.reference));
  end;
  for t3 in src.partOfList do
  begin
    tgt.partOfList.add(convertReference3(t3));
  end;
  tgt.status := convertMedicationAdministrationStatus3(src.status);

  if (src.category <> nil) then
    tgt.category := convertCodeableConcept3(src.category);

  if (src.medication <> nil) then
    tgt.medication := convertType3(src.medication);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.context <> nil) then
    tgt.context := convertReference3(src.context);

  for t4 in src.supportingInformationList do
  begin
    tgt.supportingInformationList.add(convertReference3(t4));
  end;
  if (src.effective <> nil) then
    tgt.effective := convertType3(src.effective);

  for t5 in src.performerList do
  begin
    tgt.performerList.add(convertMedicationAdministrationPerformerComponent3(t5));
  end;
  for t6 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept3(t6));
  end;
  for t7 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference3(t7));
  end;
  if (src.prescription <> nil) then
    tgt.request := convertReference3(src.prescription);

  for t8 in src.deviceList do
  begin
    tgt.deviceList.add(convertReference3(t8));
  end;
  for t9 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t9));
  end;
  if (src.dosage <> nil) then
    tgt.dosage := convertMedicationAdministrationDosageComponent3(src.dosage);

  for ta in src.eventHistoryList do
  begin
    tgt.eventHistoryList.add(convertReference3(ta));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationAdministration4(src : fhir4_resources.TFhirMedicationAdministration) : fhir3_resources.TFhirMedicationAdministration;
var
  tgt : fhir3_resources.TFhirMedicationAdministration;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirUri;
  t3 : fhir4_types.TFhirReference;
  t4 : fhir4_types.TFhirReference;
  t5 : fhir4_resources.TFhirMedicationAdministrationPerformer;
  t6 : fhir4_types.TFhirCodeableConcept;
  t7 : fhir4_types.TFhirReference;
  t8 : fhir4_types.TFhirReference;
  t9 : fhir4_types.TFhirAnnotation;
  ta : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationAdministration.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  for t2 in src.instantiatesList do
  begin
    tgt.definitionList.add(fhir3_types.TFhirUri.Create(t2.value));
  end;
  for t3 in src.partOfList do
  begin
    tgt.partOfList.add(convertReference4(t3));
  end;
  tgt.status := convertMedicationAdministrationStatus4(src.status);

  if (src.category <> nil) then
    tgt.category := convertCodeableConcept4(src.category);

  if (src.medication <> nil) then
    tgt.medication := convertType4(src.medication);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.context <> nil) then
    tgt.context := convertReference4(src.context);

  for t4 in src.supportingInformationList do
  begin
    tgt.supportingInformationList.add(convertReference4(t4));
  end;
  if (src.effective <> nil) then
    tgt.effective := convertType4(src.effective);

  for t5 in src.performerList do
  begin
    tgt.performerList.add(convertMedicationAdministrationPerformerComponent4(t5));
  end;
  for t6 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept4(t6));
  end;
  for t7 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference4(t7));
  end;
  if (src.request <> nil) then
    tgt.prescription := convertReference4(src.request);

  for t8 in src.deviceList do
  begin
    tgt.deviceList.add(convertReference4(t8));
  end;
  for t9 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t9));
  end;
  if (src.dosage <> nil) then
    tgt.dosage := convertMedicationAdministrationDosageComponent4(src.dosage);

  for ta in src.eventHistoryList do
  begin
    tgt.eventHistoryList.add(convertReference4(ta));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationAdministrationPerformerComponent3(src : fhir3_resources.TFhirMedicationAdministrationPerformer) : fhir4_resources.TFhirMedicationAdministrationPerformer;
var
  tgt : fhir4_resources.TFhirMedicationAdministrationPerformer;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationAdministrationPerformer.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.actor <> nil) then
    tgt.actor := convertReference3(src.actor);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationAdministrationPerformerComponent4(src : fhir4_resources.TFhirMedicationAdministrationPerformer) : fhir3_resources.TFhirMedicationAdministrationPerformer;
var
  tgt : fhir3_resources.TFhirMedicationAdministrationPerformer;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationAdministrationPerformer.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.actor <> nil) then
    tgt.actor := convertReference4(src.actor);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationAdministrationDosageComponent3(src : fhir3_resources.TFhirMedicationAdministrationDosage) : fhir4_resources.TFhirMedicationAdministrationDosage;
var
  tgt : fhir4_resources.TFhirMedicationAdministrationDosage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationAdministrationDosage.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.text <> '') then
    tgt.text := src.text;

  if (src.site <> nil) then
    tgt.site := convertCodeableConcept3(src.site);

  if (src.route <> nil) then
    tgt.route := convertCodeableConcept3(src.route);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept3(src.method);

  if (src.dose <> nil) then
    tgt.dose := convertSimpleQuantity3(src.dose);

  if (src.rate <> nil) then
    tgt.rate := convertType3(src.rate);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationAdministrationDosageComponent4(src : fhir4_resources.TFhirMedicationAdministrationDosage) : fhir3_resources.TFhirMedicationAdministrationDosage;
var
  tgt : fhir3_resources.TFhirMedicationAdministrationDosage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationAdministrationDosage.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.text <> '') then
    tgt.text := src.text;

  if (src.site <> nil) then
    tgt.site := convertCodeableConcept4(src.site);

  if (src.route <> nil) then
    tgt.route := convertCodeableConcept4(src.route);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept4(src.method);

  if (src.dose <> nil) then
    tgt.dose := convertSimpleQuantity4(src.dose);

  if (src.rate <> nil) then
    tgt.rate := convertType4(src.rate);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationDispense3(src : fhir3_resources.TFhirMedicationDispense) : fhir4_resources.TFhirMedicationDispense;
var
  tgt : fhir4_resources.TFhirMedicationDispense;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_types.TFhirReference;
  t4 : fhir3_resources.TFhirMedicationDispensePerformer;
  t5 : fhir3_types.TFhirReference;
  t6 : fhir3_types.TFhirReference;
  t7 : fhir3_types.TFhirAnnotation;
  t8 : fhir3_types.TFhirDosage;
  t9 : fhir3_types.TFhirReference;
  ta : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationDispense.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  for t2 in src.partOfList do
  begin
    tgt.partOfList.add(convertReference3(t2));
  end;
  tgt.status := convertMedicationDispenseStatus3(src.status);

  if (src.category <> nil) then
    tgt.category := convertCodeableConcept3(src.category);

  if (src.medication <> nil) then
    tgt.medication := convertType3(src.medication);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.context <> nil) then
    tgt.context := convertReference3(src.context);

  for t3 in src.supportingInformationList do
  begin
    tgt.supportingInformationList.add(convertReference3(t3));
  end;
  for t4 in src.performerList do
  begin
    tgt.performerList.add(convertMedicationDispensePerformerComponent3(t4));
  end;
  for t5 in src.authorizingPrescriptionList do
  begin
    tgt.authorizingPrescriptionList.add(convertReference3(t5));
  end;
  tgt.type_ := convertCodeableConcept3(src.type_);

  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity3(src.quantity);

  if (src.daysSupply <> nil) then
    tgt.daysSupply := convertSimpleQuantity3(src.daysSupply);

  tgt.whenPrepared := src.whenPrepared.link;
  tgt.whenHandedOver := src.whenHandedOver.link;

  if (src.destination <> nil) then
    tgt.destination := convertReference3(src.destination);

  for t6 in src.receiverList do
  begin
    tgt.receiverList.add(convertReference3(t6));
  end;
  for t7 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t7));
  end;
  for t8 in src.dosageInstructionList do
  begin
    tgt.dosageInstructionList.add(convertDosage3(t8));
  end;
  if (src.substitution <> nil) then
    tgt.substitution := convertMedicationDispenseSubstitutionComponent3(src.substitution);

  for t9 in src.detectedIssueList do
  begin
    tgt.detectedIssueList.add(convertReference3(t9));
  end;
  for ta in src.eventHistoryList do
  begin
    tgt.eventHistoryList.add(convertReference3(ta));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationDispense4(src : fhir4_resources.TFhirMedicationDispense) : fhir3_resources.TFhirMedicationDispense;
var
  tgt : fhir3_resources.TFhirMedicationDispense;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirReference;
  t3 : fhir4_types.TFhirReference;
  t4 : fhir4_resources.TFhirMedicationDispensePerformer;
  t5 : fhir4_types.TFhirReference;
  t6 : fhir4_types.TFhirReference;
  t7 : fhir4_types.TFhirAnnotation;
  t8 : fhir4_types.TFhirDosage;
  t9 : fhir4_types.TFhirReference;
  ta : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationDispense.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  for t2 in src.partOfList do
  begin
    tgt.partOfList.add(convertReference4(t2));
  end;
  tgt.status := convertMedicationDispenseStatus4(src.status);

  if (src.category <> nil) then
    tgt.category := convertCodeableConcept4(src.category);

  if (src.medication <> nil) then
    tgt.medication := convertType4(src.medication);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.context <> nil) then
    tgt.context := convertReference4(src.context);

  for t3 in src.supportingInformationList do
  begin
    tgt.supportingInformationList.add(convertReference4(t3));
  end;
  for t4 in src.performerList do
  begin
    tgt.performerList.add(convertMedicationDispensePerformerComponent4(t4));
  end;
  for t5 in src.authorizingPrescriptionList do
  begin
    tgt.authorizingPrescriptionList.add(convertReference4(t5));
  end;
  tgt.type_ := convertCodeableConcept4(src.type_);

  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity4(src.quantity);

  if (src.daysSupply <> nil) then
    tgt.daysSupply := convertSimpleQuantity4(src.daysSupply);

  tgt.whenPrepared := src.whenPrepared.link;
  tgt.whenHandedOver := src.whenHandedOver.link;

  if (src.destination <> nil) then
    tgt.destination := convertReference4(src.destination);

  for t6 in src.receiverList do
  begin
    tgt.receiverList.add(convertReference4(t6));
  end;
  for t7 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t7));
  end;
  for t8 in src.dosageInstructionList do
  begin
    tgt.dosageInstructionList.add(convertDosage4(t8));
  end;
  if (src.substitution <> nil) then
    tgt.substitution := convertMedicationDispenseSubstitutionComponent4(src.substitution);

  for t9 in src.detectedIssueList do
  begin
    tgt.detectedIssueList.add(convertReference4(t9));
  end;
  for ta in src.eventHistoryList do
  begin
    tgt.eventHistoryList.add(convertReference4(ta));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationDispensePerformerComponent3(src : fhir3_resources.TFhirMedicationDispensePerformer) : fhir4_resources.TFhirMedicationDispensePerformer;
var
  tgt : fhir4_resources.TFhirMedicationDispensePerformer;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationDispensePerformer.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.actor <> nil) then
    tgt.actor := convertReference3(src.actor);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationDispensePerformerComponent4(src : fhir4_resources.TFhirMedicationDispensePerformer) : fhir3_resources.TFhirMedicationDispensePerformer;
var
  tgt : fhir3_resources.TFhirMedicationDispensePerformer;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationDispensePerformer.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.actor <> nil) then
    tgt.actor := convertReference4(src.actor);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationDispenseSubstitutionComponent3(src : fhir3_resources.TFhirMedicationDispenseSubstitution) : fhir4_resources.TFhirMedicationDispenseSubstitution;
var
  tgt : fhir4_resources.TFhirMedicationDispenseSubstitution;
  t1 : fhir3_types.TFhirCodeableConcept;
  t2 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationDispenseSubstitution.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.wasSubstituted := src.wasSubstituted;

  tgt.type_ := convertCodeableConcept3(src.type_);

  for t1 in src.reasonList do
  begin
    tgt.reasonList.add(convertCodeableConcept3(t1));
  end;
  for t2 in src.responsiblePartyList do
  begin
    tgt.responsiblePartyList.add(convertReference3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationDispenseSubstitutionComponent4(src : fhir4_resources.TFhirMedicationDispenseSubstitution) : fhir3_resources.TFhirMedicationDispenseSubstitution;
var
  tgt : fhir3_resources.TFhirMedicationDispenseSubstitution;
  t1 : fhir4_types.TFhirCodeableConcept;
  t2 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationDispenseSubstitution.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.wasSubstituted := src.wasSubstituted;

  tgt.type_ := convertCodeableConcept4(src.type_);

  for t1 in src.reasonList do
  begin
    tgt.reasonList.add(convertCodeableConcept4(t1));
  end;
  for t2 in src.responsiblePartyList do
  begin
    tgt.responsiblePartyList.add(convertReference4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequest3(src : fhir3_resources.TFhirMedicationRequest) : fhir4_resources.TFhirMedicationRequest;
var
  tgt : fhir4_resources.TFhirMedicationRequest;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_types.TFhirReference;
  t4 : fhir3_types.TFhirCodeableConcept;
  t5 : fhir3_types.TFhirReference;
  t6 : fhir3_types.TFhirAnnotation;
  t7 : fhir3_types.TFhirDosage;
  t8 : fhir3_types.TFhirReference;
  t9 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationRequest.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  for t2 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference3(t2));
  end;
  if (src.groupIdentifier <> nil) then
    tgt.groupIdentifier := convertIdentifier3(src.groupIdentifier);

  tgt.status := convertMedicationRequestStatus3(src.status);

  tgt.intent := convertMedicationRequestIntent3(src.intent);

  tgt.priority := convertMedicationRequestPriority3(src.priority);

  if (src.medication <> nil) then
    tgt.medication := convertType3(src.medication);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.context <> nil) then
    tgt.encounter := convertReference3(src.context);

  for t3 in src.supportingInformationList do
  begin
    tgt.supportingInformationList.add(convertReference3(t3));
  end;
  tgt.authoredOn := src.authoredOn.link;

  if (src.recorder <> nil) then
    tgt.recorder := convertReference3(src.recorder);

  for t4 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept3(t4));
  end;
  for t5 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference3(t5));
  end;
  for t6 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t6));
  end;
  for t7 in src.dosageInstructionList do
  begin
    tgt.dosageInstructionList.add(convertDosage3(t7));
  end;
  if (src.dispenseRequest <> nil) then
    tgt.dispenseRequest := convertMedicationRequestDispenseRequestComponent3(src.dispenseRequest);

  if (src.substitution <> nil) then
    tgt.substitution := convertMedicationRequestSubstitutionComponent3(src.substitution);

  if (src.priorPrescription <> nil) then
    tgt.priorPrescription := convertReference3(src.priorPrescription);

  for t8 in src.detectedIssueList do
  begin
    tgt.detectedIssueList.add(convertReference3(t8));
  end;
  for t9 in src.eventHistoryList do
  begin
    tgt.eventHistoryList.add(convertReference3(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequest4(src : fhir4_resources.TFhirMedicationRequest) : fhir3_resources.TFhirMedicationRequest;
var
  tgt : fhir3_resources.TFhirMedicationRequest;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirReference;
  t3 : fhir4_types.TFhirReference;
  t4 : fhir4_types.TFhirCodeableConcept;
  t5 : fhir4_types.TFhirReference;
  t6 : fhir4_types.TFhirAnnotation;
  t7 : fhir4_types.TFhirDosage;
  t8 : fhir4_types.TFhirReference;
  t9 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationRequest.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  for t2 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference4(t2));
  end;
  if (src.groupIdentifier <> nil) then
    tgt.groupIdentifier := convertIdentifier4(src.groupIdentifier);

  tgt.status := convertMedicationRequestStatus4(src.status);

  tgt.intent := convertMedicationRequestIntent4(src.intent);

  tgt.priority := convertMedicationRequestPriority4(src.priority);

  if (src.medication <> nil) then
    tgt.medication := convertType4(src.medication);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.encounter <> nil) then
    tgt.context := convertReference4(src.encounter);

  for t3 in src.supportingInformationList do
  begin
    tgt.supportingInformationList.add(convertReference4(t3));
  end;
  tgt.authoredOn := src.authoredOn.link;

  if (src.recorder <> nil) then
    tgt.recorder := convertReference4(src.recorder);

  for t4 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept4(t4));
  end;
  for t5 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference4(t5));
  end;
  for t6 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t6));
  end;
  for t7 in src.dosageInstructionList do
  begin
    tgt.dosageInstructionList.add(convertDosage4(t7));
  end;
  if (src.dispenseRequest <> nil) then
    tgt.dispenseRequest := convertMedicationRequestDispenseRequestComponent4(src.dispenseRequest);

  if (src.substitution <> nil) then
    tgt.substitution := convertMedicationRequestSubstitutionComponent4(src.substitution);

  if (src.priorPrescription <> nil) then
    tgt.priorPrescription := convertReference4(src.priorPrescription);

  for t8 in src.detectedIssueList do
  begin
    tgt.detectedIssueList.add(convertReference4(t8));
  end;
  for t9 in src.eventHistoryList do
  begin
    tgt.eventHistoryList.add(convertReference4(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequestDispenseRequestComponent3(src : fhir3_resources.TFhirMedicationRequestDispenseRequest) : fhir4_resources.TFhirMedicationRequestDispenseRequest;
var
  tgt : fhir4_resources.TFhirMedicationRequestDispenseRequest;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationRequestDispenseRequest.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.validityPeriod <> nil) then
    tgt.validityPeriod := convertPeriod3(src.validityPeriod);

  tgt.numberOfRepeatsAllowed := src.numberOfRepeatsAllowed;

  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity3(src.quantity);

  if (src.expectedSupplyDuration <> nil) then
    tgt.expectedSupplyDuration := convertDuration3(src.expectedSupplyDuration);

  if (src.performer <> nil) then
    tgt.performer := convertReference3(src.performer);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequestDispenseRequestComponent4(src : fhir4_resources.TFhirMedicationRequestDispenseRequest) : fhir3_resources.TFhirMedicationRequestDispenseRequest;
var
  tgt : fhir3_resources.TFhirMedicationRequestDispenseRequest;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationRequestDispenseRequest.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.validityPeriod <> nil) then
    tgt.validityPeriod := convertPeriod4(src.validityPeriod);

  tgt.numberOfRepeatsAllowed := src.numberOfRepeatsAllowed;

  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity4(src.quantity);

  if (src.expectedSupplyDuration <> nil) then
    tgt.expectedSupplyDuration := convertDuration4(src.expectedSupplyDuration);

  if (src.performer <> nil) then
    tgt.performer := convertReference4(src.performer);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequestSubstitutionComponent3(src : fhir3_resources.TFhirMedicationRequestSubstitution) : fhir4_resources.TFhirMedicationRequestSubstitution;
var
  tgt : fhir4_resources.TFhirMedicationRequestSubstitution;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationRequestSubstitution.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.allowed := convertBoolean3(src.allowedElement);

  if (src.reason <> nil) then
    tgt.reason := convertCodeableConcept3(src.reason);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationRequestSubstitutionComponent4(src : fhir4_resources.TFhirMedicationRequestSubstitution) : fhir3_resources.TFhirMedicationRequestSubstitution;
var
  tgt : fhir3_resources.TFhirMedicationRequestSubstitution;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationRequestSubstitution.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.allowed is TFhirBoolean) then

  tgt.allowedElement := convertBoolean4(src.allowed as TFHIRBoolean);

  if (src.reason <> nil) then
    tgt.reason := convertCodeableConcept4(src.reason);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationStatement3(src : fhir3_resources.TFhirMedicationStatement) : fhir4_resources.TFhirMedicationStatement;
var
  tgt : fhir4_resources.TFhirMedicationStatement;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_types.TFhirReference;
  t4 : fhir3_types.TFhirReference;
  t5 : fhir3_types.TFhirCodeableConcept;
  t6 : fhir3_types.TFhirReference;
  t7 : fhir3_types.TFhirAnnotation;
  t8 : fhir3_types.TFhirDosage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMedicationStatement.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  for t2 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference3(t2));
  end;
  for t3 in src.partOfList do
  begin
    tgt.partOfList.add(convertReference3(t3));
  end;
  if (src.context <> nil) then
    tgt.context := convertReference3(src.context);

  tgt.status := convertMedicationStatementStatus3(src.status);

  if (src.category <> nil) then
    tgt.category := convertCodeableConcept3(src.category);

  if (src.medication <> nil) then
    tgt.medication := convertType3(src.medication);

  if (src.effective <> nil) then
    tgt.effective := convertType3(src.effective);

  tgt.dateAsserted := src.dateAsserted;

  if (src.informationSource <> nil) then
    tgt.informationSource := convertReference3(src.informationSource);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  for t4 in src.derivedFromList do
  begin
    tgt.derivedFromList.add(convertReference3(t4));
  end;
  for t5 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept3(t5));
  end;
  for t6 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference3(t6));
  end;
  for t7 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t7));
  end;
  for t8 in src.dosageList do
  begin
    tgt.dosageList.add(convertDosage3(t8));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMedicationStatement4(src : fhir4_resources.TFhirMedicationStatement) : fhir3_resources.TFhirMedicationStatement;
var
  tgt : fhir3_resources.TFhirMedicationStatement;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirReference;
  t3 : fhir4_types.TFhirReference;
  t4 : fhir4_types.TFhirReference;
  t5 : fhir4_types.TFhirCodeableConcept;
  t6 : fhir4_types.TFhirReference;
  t7 : fhir4_types.TFhirAnnotation;
  t8 : fhir4_types.TFhirDosage;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMedicationStatement.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  for t2 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference4(t2));
  end;
  for t3 in src.partOfList do
  begin
    tgt.partOfList.add(convertReference4(t3));
  end;
  if (src.context <> nil) then
    tgt.context := convertReference4(src.context);

  tgt.status := convertMedicationStatementStatus4(src.status);

  if (src.category <> nil) then
    tgt.category := convertCodeableConcept4(src.category);

  if (src.medication <> nil) then
    tgt.medication := convertType4(src.medication);

  if (src.effective <> nil) then
    tgt.effective := convertType4(src.effective);

  tgt.dateAsserted := src.dateAsserted;

  if (src.informationSource <> nil) then
    tgt.informationSource := convertReference4(src.informationSource);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  for t4 in src.derivedFromList do
  begin
    tgt.derivedFromList.add(convertReference4(t4));
  end;
  for t5 in src.reasonCodeList do
  begin
    tgt.reasonCodeList.add(convertCodeableConcept4(t5));
  end;
  for t6 in src.reasonReferenceList do
  begin
    tgt.reasonReferenceList.add(convertReference4(t6));
  end;
  for t7 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t7));
  end;
  for t8 in src.dosageList do
  begin
    tgt.dosageList.add(convertDosage4(t8));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageDefinition3(src : fhir3_resources.TFhirMessageDefinition) : fhir4_resources.TFhirMessageDefinition;
var
  tgt : fhir4_resources.TFhirMessageDefinition;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirReference;
  t5 : fhir3_types.TFhirReference;
  t6 : fhir3_resources.TFhirMessageDefinitionFocus;
  t7 : fhir3_resources.TFhirMessageDefinitionAllowedResponse;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMessageDefinition.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.identifier <> nil) then
    tgt.identifierList.Add(convertIdentifier3(src.identifier));

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  if (src.base <> nil) then
    tgt.baseElement := convertReferenceToCanonical3(src.base);

  for t4 in src.parentList do
  begin
    tgt.ParentList.add(convertReferenceToCanonical3(t4));
  end;
  for t5 in src.replacesList do
  begin
    tgt.ReplacesList.add(convertReferenceToCanonical3(t5));
  end;
  if (src.event <> nil) then
    tgt.event := convertCoding3(src.event);

  tgt.category := convertMessageSignificanceCategory3(src.category);

  for t6 in src.focusList do
  begin
    tgt.focusList.add(convertMessageDefinitionFocusComponent3(t6));
  end;
  if (src.responseRequired) then
    tgt.ResponseRequired := fhir4_types.MessageheaderResponseRequestAlways
  else
    tgt.ResponseRequired := fhir4_types.MessageheaderResponseRequestNever;

  for t7 in src.allowedResponseList do
  begin
    tgt.allowedResponseList.add(convertMessageDefinitionAllowedResponseComponent3(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertCoding2Uri(code : fhir3_types.TFhirCoding) : String;
begin
  exit( code.System + '/' + code.Code);
end;

class function TVersionConvertor_30_40.convertMessageDefinition4(src : fhir4_resources.TFhirMessageDefinition) : fhir3_resources.TFhirMessageDefinition;
var
  tgt : fhir3_resources.TFhirMessageDefinition;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirCanonical;
  t5 : fhir4_types.TFhirCanonical;
  t6 : fhir4_resources.TFhirMessageDefinitionFocus;
  t7 : fhir4_resources.TFhirMessageDefinitionAllowedResponse;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMessageDefinition.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.identifierList.Count <> 0) then
    tgt.identifier := convertIdentifier4(src.identifierList[0]);

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  if (src.base <> '') then
    tgt.base := convertCanonicalToReference4(src.baseElement);

  for t4 in src.parentList do
  begin
    tgt.parentList.add(convertCanonicalToReference4(t4));
  end;
  for t5 in src.replacesList do
  begin
    tgt.replacesList.add(convertCanonicalToReference4(t5));
  end;
  if (src.event is fhir4_types.TFhirCoding) then
    tgt.event := convertCoding4(src.event as fhir4_types.TFhirCoding);

  tgt.category := convertMessageSignificanceCategory4(src.category);

  for t6 in src.focusList do
  begin
    tgt.focusList.add(convertMessageDefinitionFocusComponent4(t6));
  end;
  tgt.ResponseRequired := src.ResponseRequired <> fhir4_types.MessageheaderResponseRequestNever;

  for t7 in src.allowedResponseList do
  begin
    tgt.allowedResponseList.add(convertMessageDefinitionAllowedResponseComponent4(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertUri2Coding(uri : String) : fhir3_types.TFhirCoding;
var
  i : integer;
begin
  i := uri.lastIndexOf('/');
  exit(fhir3_types.TFHIRCoding.Create(uri.substring(0, i), uri.substring(i + 1)));
end;

class function TVersionConvertor_30_40.convertMessageDefinitionFocusComponent3(src : fhir3_resources.TFhirMessageDefinitionFocus) : fhir4_resources.TFhirMessageDefinitionFocus;
var
  tgt : fhir4_resources.TFhirMessageDefinitionFocus;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMessageDefinitionFocus.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertActivityDefinitionKind3(src.code);

  if (src.profile <> nil) then
    tgt.profileElement := convertReferenceToCanonical3(src.profile);

  tgt.min := src.min;

  if (src.max <> '') then
    tgt.max := src.max;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageDefinitionFocusComponent4(src : fhir4_resources.TFhirMessageDefinitionFocus) : fhir3_resources.TFhirMessageDefinitionFocus;
var
  tgt : fhir3_resources.TFhirMessageDefinitionFocus;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMessageDefinitionFocus.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertActivityDefinitionKind4(src.code);

  if (src.profile <> '') then
    tgt.profile := convertCanonicalToReference4(src.profileElement);

  tgt.min := src.min;

  if (src.max <> '') then
    tgt.max := src.max;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageDefinitionAllowedResponseComponent3(src : fhir3_resources.TFhirMessageDefinitionAllowedResponse) : fhir4_resources.TFhirMessageDefinitionAllowedResponse;
var
  tgt : fhir4_resources.TFhirMessageDefinitionAllowedResponse;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMessageDefinitionAllowedResponse.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.message <> nil) then
    tgt.messageElement := convertReferenceToCanonical3(src.message);

  if (src.situation <> '') then
    tgt.situation := src.situation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageDefinitionAllowedResponseComponent4(src : fhir4_resources.TFhirMessageDefinitionAllowedResponse) : fhir3_resources.TFhirMessageDefinitionAllowedResponse;
var
  tgt : fhir3_resources.TFhirMessageDefinitionAllowedResponse;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMessageDefinitionAllowedResponse.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.message <> '') then
    tgt.message := convertCanonicalToReference4(src.messageElement);

  if (src.situation <> '') then
    tgt.situation := src.situation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageHeader3(src : fhir3_resources.TFhirMessageHeader) : fhir4_resources.TFhirMessageHeader;
var
  tgt : fhir4_resources.TFhirMessageHeader;
  t1 : fhir3_resources.TFhirMessageHeaderDestination;
  t2 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMessageHeader.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.event <> nil) then
    tgt.event := convertCoding3(src.event);

  for t1 in src.destinationList do
  begin
    tgt.destinationList.add(convertMessageDestinationComponent3(t1));
  end;
  if (src.sender <> nil) then
    tgt.sender := convertReference3(src.sender);

  if (src.enterer <> nil) then
    tgt.enterer := convertReference3(src.enterer);

  if (src.author <> nil) then
    tgt.author := convertReference3(src.author);

  if (src.source <> nil) then
    tgt.source := convertMessageSourceComponent3(src.source);

  if (src.responsible <> nil) then
    tgt.responsible := convertReference3(src.responsible);

  if (src.reason <> nil) then
    tgt.reason := convertCodeableConcept3(src.reason);

  if (src.response <> nil) then
    tgt.response := convertMessageHeaderResponseComponent3(src.response);

  for t2 in src.focusList do
  begin
    tgt.focusList.add(convertReference3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageHeader4(src : fhir4_resources.TFhirMessageHeader) : fhir3_resources.TFhirMessageHeader;
var
  tgt : fhir3_resources.TFhirMessageHeader;
  t1 : fhir4_resources.TFhirMessageHeaderDestination;
  t2 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMessageHeader.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.event is fhir4_types.TFhirCoding) then
    tgt.event := convertCoding4(src.event as fhir4_types.TFhirCoding);

  for t1 in src.destinationList do
  begin
    tgt.destinationList.add(convertMessageDestinationComponent4(t1));
  end;
  if (src.sender <> nil) then
    tgt.sender := convertReference4(src.sender);

  if (src.enterer <> nil) then
    tgt.enterer := convertReference4(src.enterer);

  if (src.author <> nil) then
    tgt.author := convertReference4(src.author);

  if (src.source <> nil) then
    tgt.source := convertMessageSourceComponent4(src.source);

  if (src.responsible <> nil) then
    tgt.responsible := convertReference4(src.responsible);

  if (src.reason <> nil) then
    tgt.reason := convertCodeableConcept4(src.reason);

  if (src.response <> nil) then
    tgt.response := convertMessageHeaderResponseComponent4(src.response);

  for t2 in src.focusList do
  begin
    tgt.focusList.add(convertReference4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageDestinationComponent3(src : fhir3_resources.TFhirMessageHeaderDestination) : fhir4_resources.TFhirMessageHeaderDestination;
var
  tgt : fhir4_resources.TFhirMessageHeaderDestination;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMessageHeaderDestination.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.target <> nil) then
    tgt.target := convertReference3(src.target);

  if (src.endpoint <> '') then
    tgt.endpoint := src.endpoint;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageDestinationComponent4(src : fhir4_resources.TFhirMessageHeaderDestination) : fhir3_resources.TFhirMessageHeaderDestination;
var
  tgt : fhir3_resources.TFhirMessageHeaderDestination;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMessageHeaderDestination.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.target <> nil) then
    tgt.target := convertReference4(src.target);

  if (src.endpoint <> '') then
    tgt.endpoint := src.endpoint;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageSourceComponent3(src : fhir3_resources.TFhirMessageHeaderSource) : fhir4_resources.TFhirMessageHeaderSource;
var
  tgt : fhir4_resources.TFhirMessageHeaderSource;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMessageHeaderSource.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.software <> '') then
    tgt.software := src.software;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.contact <> nil) then
    tgt.contact := convertContactPoint3(src.contact);

  if (src.endpoint <> '') then
    tgt.endpoint := src.endpoint;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageSourceComponent4(src : fhir4_resources.TFhirMessageHeaderSource) : fhir3_resources.TFhirMessageHeaderSource;
var
  tgt : fhir3_resources.TFhirMessageHeaderSource;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMessageHeaderSource.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.software <> '') then
    tgt.software := src.software;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.contact <> nil) then
    tgt.contact := convertContactPoint4(src.contact);

  if (src.endpoint <> '') then
    tgt.endpoint := src.endpoint;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageHeaderResponseComponent3(src : fhir3_resources.TFhirMessageHeaderResponse) : fhir4_resources.TFhirMessageHeaderResponse;
var
  tgt : fhir4_resources.TFhirMessageHeaderResponse;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMessageHeaderResponse.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.identifier <> '') then
    tgt.identifier := src.identifier;

  tgt.code := convertResponseType3(src.code);

  if (src.details <> nil) then
    tgt.details := convertReference3(src.details);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertMessageHeaderResponseComponent4(src : fhir4_resources.TFhirMessageHeaderResponse) : fhir3_resources.TFhirMessageHeaderResponse;
var
  tgt : fhir3_resources.TFhirMessageHeaderResponse;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirMessageHeaderResponse.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.identifier <> '') then
    tgt.identifier := src.identifier;

  tgt.code := convertResponseType4(src.code);

  if (src.details <> nil) then
    tgt.details := convertReference4(src.details);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertNamingSystem3(src : fhir3_resources.TFhirNamingSystem) : fhir4_resources.TFhirNamingSystem;
var
  tgt : fhir4_resources.TFhirNamingSystem;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_resources.TFhirNamingSystemUniqueId;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirNamingSystem.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.kind := convertNamingSystemType3(src.kind);

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  if (src.responsible <> '') then
    tgt.responsible := src.responsible;

  tgt.type_ := convertCodeableConcept3(src.type_);

  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  if (src.usage <> '') then
    tgt.usage := src.usage;

  for t4 in src.uniqueIdList do
  begin
    tgt.uniqueIdList.add(convertNamingSystemUniqueIdComponent3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertNamingSystem4(src : fhir4_resources.TFhirNamingSystem) : fhir3_resources.TFhirNamingSystem;
var
  tgt : fhir3_resources.TFhirNamingSystem;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_resources.TFhirNamingSystemUniqueId;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirNamingSystem.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.kind := convertNamingSystemType4(src.kind);

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  if (src.responsible <> '') then
    tgt.responsible := src.responsible;

  tgt.type_ := convertCodeableConcept4(src.type_);

  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  if (src.usage <> '') then
    tgt.usage := src.usage;

  for t4 in src.uniqueIdList do
  begin
    tgt.uniqueIdList.add(convertNamingSystemUniqueIdComponent4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertNamingSystemUniqueIdComponent3(src : fhir3_resources.TFhirNamingSystemUniqueId) : fhir4_resources.TFhirNamingSystemUniqueId;
var
  tgt : fhir4_resources.TFhirNamingSystemUniqueId;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirNamingSystemUniqueId.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_ := convertNamingSystemIdentifierType3(src.type_);

  if (src.value <> '') then
    tgt.value := src.value;

  tgt.preferred := src.preferred;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertNamingSystemUniqueIdComponent4(src : fhir4_resources.TFhirNamingSystemUniqueId) : fhir3_resources.TFhirNamingSystemUniqueId;
var
  tgt : fhir3_resources.TFhirNamingSystemUniqueId;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirNamingSystemUniqueId.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := convertNamingSystemIdentifierType4(src.type_);

  if (src.value <> '') then
    tgt.value := src.value;

  tgt.preferred := src.preferred;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertObservation3(src : fhir3_resources.TFhirObservation) : fhir4_resources.TFhirObservation;
var
  tgt : fhir4_resources.TFhirObservation;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirReference;
  t5 : fhir3_resources.TFhirObservationReferenceRange;
  t6 : fhir3_resources.TFhirObservationRelated;
  t7 : fhir3_resources.TFhirObservationComponent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirObservation.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  for t2 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference3(t2));
  end;
  tgt.status := convertObservationStatus3(src.status);

  for t3 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept3(t3));
  end;
  tgt.code := convertCodeableConcept3(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.context <> nil) then
    tgt.encounter := convertReference3(src.context);

  if (src.effective <> nil) then
    tgt.effective := convertType3(src.effective);

  tgt.issued := src.issued;

  for t4 in src.performerList do
  begin
    tgt.performerList.add(convertReference3(t4));
  end;
  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  if (src.dataAbsentReason <> nil) then
    tgt.dataAbsentReason := convertCodeableConcept3(src.dataAbsentReason);

  if (src.interpretation <> nil) then
    tgt.interpretationList.Add(convertCodeableConcept3(src.interpretation));

  if (src.comment <> '') then
    tgt.noteList.Append.text := src.comment;

  if (src.bodySite <> nil) then
    tgt.bodySite := convertCodeableConcept3(src.bodySite);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept3(src.method);

  if (src.specimen <> nil) then
    tgt.specimen := convertReference3(src.specimen);

  if (src.device <> nil) then
    tgt.device := convertReference3(src.device);

  for t5 in src.referenceRangeList do
  begin
    tgt.referenceRangeList.add(convertObservationReferenceRangeComponent3(t5));
  end;
  for t6 in src.relatedList do
  begin
    if (t6.type_ = fhir3_types.ObservationRelationshiptypesHasMember) then
      tgt.hasMemberList.add(convertReference3(t6.Target))
    else if (t6.type_ = fhir3_types.ObservationRelationshiptypesDerivedFrom) then
      tgt.derivedFromList.add(convertReference3(t6.Target));
  end;
  for t7 in src.componentList do
  begin
    tgt.componentList.add(convertObservationComponentComponent3(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertObservation4(src : fhir4_resources.TFhirObservation) : fhir3_resources.TFhirObservation;
var
  tgt : fhir3_resources.TFhirObservation;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirReference;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirReference;
  t5 : fhir4_resources.TFhirObservationReferenceRange;
  t6 : fhir4_types.TFhirReference;
  t7 : fhir4_types.TFhirReference;
  t8 : fhir4_resources.TFhirObservationComponent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirObservation.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  for t2 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference4(t2));
  end;
  tgt.status := convertObservationStatus4(src.status);

  for t3 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept4(t3));
  end;
  tgt.code := convertCodeableConcept4(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.encounter <> nil) then
    tgt.context := convertReference4(src.encounter);

  if (src.effective <> nil) then
    tgt.effective := convertType4(src.effective);

  tgt.issued := src.issued.link;

  for t4 in src.performerList do
  begin
    tgt.performerList.add(convertReference4(t4));
  end;
  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  if (src.dataAbsentReason <> nil) then
    tgt.dataAbsentReason := convertCodeableConcept4(src.dataAbsentReason);

  if (src.interpretationList.Count > 0) then
    tgt.interpretation := convertCodeableConcept4(src.interpretationList[0]);

  if (src.noteList.Count > 0) then
    tgt.comment := src.noteList[0].text;

  if (src.bodySite <> nil) then
    tgt.bodySite := convertCodeableConcept4(src.bodySite);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept4(src.method);

  if (src.specimen <> nil) then
    tgt.specimen := convertReference4(src.specimen);

  if (src.device <> nil) then
    tgt.device := convertReference4(src.device);

  for t5 in src.referenceRangeList do
  begin
    tgt.referenceRangeList.add(convertObservationReferenceRangeComponent4(t5));
  end;
  for t6 in src.hasMemberList do
  begin
    tgt.relatedList.add(convertObservationRelatedComponent4(t6, fhir3_types.ObservationRelationshiptypesHasMember));
  end;
  for t7 in src.derivedFromList do
  begin
    tgt.relatedList.add(convertObservationRelatedComponent4(t7, fhir3_types.ObservationRelationshiptypesDerivedFrom));
  end;
  for t8 in src.componentList do
  begin
    tgt.componentList.add(convertObservationComponentComponent4(t8));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertObservationReferenceRangeComponent3(src : fhir3_resources.TFhirObservationReferenceRange) : fhir4_resources.TFhirObservationReferenceRange;
var
  tgt : fhir4_resources.TFhirObservationReferenceRange;
  t : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirObservationReferenceRange.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.low <> nil) then
    tgt.low := convertSimpleQuantity3(src.low);

  if (src.high <> nil) then
    tgt.high := convertSimpleQuantity3(src.high);

  tgt.type_ := convertCodeableConcept3(src.type_);

  for t in src.appliesToList do
  begin
    tgt.appliesToList.add(convertCodeableConcept3(t));
  end;
  if (src.age <> nil) then
    tgt.age := convertRange3(src.age);

  if (src.text <> '') then
    tgt.text := src.text;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertObservationReferenceRangeComponent4(src : fhir4_resources.TFhirObservationReferenceRange) : fhir3_resources.TFhirObservationReferenceRange;
var
  tgt : fhir3_resources.TFhirObservationReferenceRange;
  t : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirObservationReferenceRange.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.low <> nil) then
    tgt.low := convertSimpleQuantity4(src.low);

  if (src.high <> nil) then
    tgt.high := convertSimpleQuantity4(src.high);

  tgt.type_ := convertCodeableConcept4(src.type_);

  for t in src.appliesToList do
  begin
    tgt.appliesToList.add(convertCodeableConcept4(t));
  end;
  if (src.age <> nil) then
    tgt.age := convertRange4(src.age);

  if (src.text <> '') then
    tgt.text := src.text;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertObservationRelatedComponent4(src : fhir4_types.TFhirReference; type_ : fhir3_types.TFhirObservationRelationshiptypesEnum) : fhir3_resources.TFhirObservationRelated;
var
  tgt : fhir3_resources.TFhirObservationRelated;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirObservationRelated.Create();
  try
  copyElement4(src, tgt);
  tgt.type_ := type_;
  tgt.Target := convertReference4(src);
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertObservationComponentComponent3(src : fhir3_resources.TFhirObservationComponent) : fhir4_resources.TFhirObservationComponent;
var
  tgt : fhir4_resources.TFhirObservationComponent;
  t : fhir3_resources.TFhirObservationReferenceRange;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirObservationComponent.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.code := convertCodeableConcept3(src.code);

  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  if (src.dataAbsentReason <> nil) then
    tgt.dataAbsentReason := convertCodeableConcept3(src.dataAbsentReason);

  if (src.interpretation <> nil) then
    tgt.interpretationList.add(convertCodeableConcept3(src.interpretation));

  for t in src.referenceRangeList do
  begin
    tgt.referenceRangeList.add(convertObservationReferenceRangeComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertObservationComponentComponent4(src : fhir4_resources.TFhirObservationComponent) : fhir3_resources.TFhirObservationComponent;
var
  tgt : fhir3_resources.TFhirObservationComponent;
  t : fhir4_resources.TFhirObservationReferenceRange;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirObservationComponent.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.code := convertCodeableConcept4(src.code);

  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  if (src.dataAbsentReason <> nil) then
    tgt.dataAbsentReason := convertCodeableConcept4(src.dataAbsentReason);

  if (src.interpretationList.Count > 0) then
    tgt.interpretation := convertCodeableConcept4(src.interpretationList[0]);

  for t in src.referenceRangeList do
  begin
    tgt.referenceRangeList.add(convertObservationReferenceRangeComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationDefinition3(src : fhir3_resources.TFhirOperationDefinition) : fhir4_resources.TFhirOperationDefinition;
var
  tgt : fhir4_resources.TFhirOperationDefinition;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t5 : fhir3_resources.TFhirOperationDefinitionParameter;
  t6 : fhir3_resources.TFhirOperationDefinitionOverload;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirOperationDefinition.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.kind := convertOperationKind3(src.kind);

  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  tgt.AffectsState := not src.Idempotent;

  if (src.code <> '') then
    tgt.code := src.code;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  if (src.base <> nil) then
    tgt.baseElement := convertReferenceToCanonical3(src.base);

  // todo:
{
  for t4 in src.resource List do
  begin
    tgt.resourceList.add(convertCode3(t4));
  end;
  }
  tgt.system := src.system;
  tgt.type_ := src.type_;
  tgt.instance := src.instance;

  for t5 in src.parameterList do
  begin
    tgt.parameterList.add(convertOperationDefinitionParameterComponent3(t5));
  end;
  for t6 in src.overloadList do
  begin
    tgt.overloadList.add(convertOperationDefinitionOverloadComponent3(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationDefinition4(src : fhir4_resources.TFhirOperationDefinition) : fhir3_resources.TFhirOperationDefinition;
var
  tgt : fhir3_resources.TFhirOperationDefinition;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t5 : fhir4_resources.TFhirOperationDefinitionParameter;
  t6 : fhir4_resources.TFhirOperationDefinitionOverload;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirOperationDefinition.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.kind := convertOperationKind4(src.kind);

  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  tgt.Idempotent := not src.AffectsState;

  if (src.code <> '') then
    tgt.code := src.code;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  if (src.base <> '') then
    tgt.base := convertCanonicalToReference4(src.baseElement);

    // todo
{
  for t4 in src.resourceList do
  begin
    tgt.resourceList.add(convertCode4(t4));
  end;
  }

  tgt.system := src.system;
  tgt.type_ := src.type_;
  tgt.instance := src.instance;

  for t5 in src.parameterList do
  begin
    tgt.parameterList.add(convertOperationDefinitionParameterComponent4(t5));
  end;
  for t6 in src.overloadList do
  begin
    tgt.overloadList.add(convertOperationDefinitionOverloadComponent4(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationDefinitionParameterComponent3(src : fhir3_resources.TFhirOperationDefinitionParameter) : fhir4_resources.TFhirOperationDefinitionParameter;
var
  tgt : fhir4_resources.TFhirOperationDefinitionParameter;
  t : fhir3_resources.TFhirOperationDefinitionParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirOperationDefinitionParameter.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  tgt.use := convertOperationParameterUse3(src.use);

  tgt.min := src.min;

  if (src.max <> '') then
    tgt.max := src.max;

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  tgt.type_element := convertType3(src.type_Element) as fhir4_types.TFHIREnum;

  tgt.searchType := convertSearchParamType3(src.searchType);

  if (src.profile <> nil) then
    tgt.targetProfileList.add(fhir4_types.TFhirCanonical.Create(src.Profile.reference));

  if (src.binding <> nil) then
    tgt.binding := convertOperationDefinitionParameterBindingComponent3(src.binding);

  for t in src.partList do
  begin
    tgt.partList.add(convertOperationDefinitionParameterComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationDefinitionParameterComponent4(src : fhir4_resources.TFhirOperationDefinitionParameter) : fhir3_resources.TFhirOperationDefinitionParameter;
var
  tgt : fhir3_resources.TFhirOperationDefinitionParameter;
  t1 : fhir4_types.TFhirUri;
  t2 : fhir4_resources.TFhirOperationDefinitionParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirOperationDefinitionParameter.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  tgt.use := convertOperationParameterUse4(src.use);

  tgt.min := src.min;

  if (src.max <> '') then
    tgt.max := src.max;

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  tgt.type_element := convertType4(src.type_Element) as fhir3_types.TFHIREnum;

  tgt.searchType := convertSearchParamType4(src.searchType);

  for t1 in src.targetProfileList do
  begin
    tgt.Profile := fhir3_types.TFhirReference.Create(t1.value);
  end;
  if (src.binding <> nil) then
    tgt.binding := convertOperationDefinitionParameterBindingComponent4(src.binding);

  for t2 in src.partList do
  begin
    tgt.partList.add(convertOperationDefinitionParameterComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationDefinitionParameterBindingComponent3(src : fhir3_resources.TFhirOperationDefinitionParameterBinding) : fhir4_resources.TFhirOperationDefinitionParameterBinding;
var
  tgt : fhir4_resources.TFhirOperationDefinitionParameterBinding;
  vs : fhir4_types.TFhirType;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirOperationDefinitionParameterBinding.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.strength := convertBindingStrength3(src.strength);

  if (src.valueSet <> nil) then
  begin
    vs := convertType3(src.ValueSet);
    try
      if (vs is fhir4_types.TFhirReference) then
        tgt.ValueSet := fhir4_types.TFhirReference(vs).Reference
      else
        tgt.ValueSet := vs.primitiveValue;
      tgt.ValueSet := refToVS(tgt.valueSet);
    finally
      vs.free;
    end;
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationDefinitionParameterBindingComponent4(src : fhir4_resources.TFhirOperationDefinitionParameterBinding) : fhir3_resources.TFhirOperationDefinitionParameterBinding;
var
  tgt : fhir3_resources.TFhirOperationDefinitionParameterBinding;
  s : String;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirOperationDefinitionParameterBinding.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.strength := convertBindingStrength4(src.strength);

  if (src.valueSet <> '') then
  begin
    s := vsToRef(src.valueSet);
    if s <> '' then
      tgt.ValueSet := fhir3_types.TFHIRUri.Create(s)
    else
      tgt.ValueSet := fhir3_types.TFHIRReference.Create(src.ValueSet);
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationDefinitionOverloadComponent3(src : fhir3_resources.TFhirOperationDefinitionOverload) : fhir4_resources.TFhirOperationDefinitionOverload;
var
  tgt : fhir4_resources.TFhirOperationDefinitionOverload;
  t : fhir3_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirOperationDefinitionOverload.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.parameterNameList do
  begin
    tgt.parameterNameList.add(convertString3(t));
  end;
  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationDefinitionOverloadComponent4(src : fhir4_resources.TFhirOperationDefinitionOverload) : fhir3_resources.TFhirOperationDefinitionOverload;
var
  tgt : fhir3_resources.TFhirOperationDefinitionOverload;
  t : fhir4_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirOperationDefinitionOverload.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.parameterNameList do
  begin
    tgt.parameterNameList.add(convertString4(t));
  end;
  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationOutcome3(src : fhir3_resources.TFhirOperationOutcome) : fhir4_resources.TFhirOperationOutcome;
var
  tgt : fhir4_resources.TFhirOperationOutcome;
  t : fhir3_resources.TFhirOperationOutcomeIssue;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirOperationOutcome.Create();
  try
  copyDomainResource3(src, tgt);
  for t in src.issueList do
  begin
    tgt.issueList.add(convertOperationOutcomeIssueComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationOutcome4(src : fhir4_resources.TFhirOperationOutcome) : fhir3_resources.TFhirOperationOutcome;
var
  tgt : fhir3_resources.TFhirOperationOutcome;
  t : fhir4_resources.TFhirOperationOutcomeIssue;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirOperationOutcome.Create();
  try
  copyDomainResource4(src, tgt);
  for t in src.issueList do
  begin
    tgt.issueList.add(convertOperationOutcomeIssueComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationOutcomeIssueComponent3(src : fhir3_resources.TFhirOperationOutcomeIssue) : fhir4_resources.TFhirOperationOutcomeIssue;
var
  tgt : fhir4_resources.TFhirOperationOutcomeIssue;
  t : fhir3_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirOperationOutcomeIssue.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.severity := convertIssueSeverity3(src.severity);

  tgt.code := convertIssueType3(src.code);

  if (src.details <> nil) then
    tgt.details := convertCodeableConcept3(src.details);

  if (src.diagnostics <> '') then
    tgt.diagnostics := src.diagnostics;

  for t in src.locationList do
  begin
    tgt.locationList.add(convertString3(t));
  end;
  for t in src.expressionList do
  begin
    tgt.expressionList.add(convertString3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOperationOutcomeIssueComponent4(src : fhir4_resources.TFhirOperationOutcomeIssue) : fhir3_resources.TFhirOperationOutcomeIssue;
var
  tgt : fhir3_resources.TFhirOperationOutcomeIssue;
  t : fhir4_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirOperationOutcomeIssue.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.severity := convertIssueSeverity4(src.severity);

  tgt.code := convertIssueType4(src.code);

  if (src.details <> nil) then
    tgt.details := convertCodeableConcept4(src.details);

  if (src.diagnostics <> '') then
    tgt.diagnostics := src.diagnostics;

  for t in src.locationList do
  begin
    tgt.locationList.add(convertString4(t));
  end;
  for t in src.expressionList do
  begin
    tgt.expressionList.add(convertString4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOrganization3(src : fhir3_resources.TFhirOrganization) : fhir4_resources.TFhirOrganization;
var
  tgt : fhir4_resources.TFhirOrganization;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirString;
  t4 : fhir3_types.TFhirContactPoint;
  t5 : fhir3_types.TFhirAddress;
  t6 : fhir3_resources.TFhirOrganizationContact;
  t7 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirOrganization.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.active := src.active;

  for t2 in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept3(t2));
  end;
  if (src.name <> '') then
    tgt.name := src.name;

  for t3 in src.aliasList do
  begin
    tgt.aliasList.add(convertString3(t3));
  end;
  for t4 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint3(t4));
  end;
  for t5 in src.addressList do
  begin
    tgt.addressList.add(convertAddress3(t5));
  end;
  if (src.partOf <> nil) then
    tgt.partOf := convertReference3(src.partOf);

  for t6 in src.contactList do
  begin
    tgt.contactList.add(convertOrganizationContactComponent3(t6));
  end;
  for t7 in src.endpointList do
  begin
    tgt.endpointList.add(convertReference3(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOrganization4(src : fhir4_resources.TFhirOrganization) : fhir3_resources.TFhirOrganization;
var
  tgt : fhir3_resources.TFhirOrganization;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirString;
  t4 : fhir4_types.TFhirContactPoint;
  t5 : fhir4_types.TFhirAddress;
  t6 : fhir4_resources.TFhirOrganizationContact;
  t7 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirOrganization.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.active := src.active;

  for t2 in src.type_List do
  begin
    tgt.type_List.add(convertCodeableConcept4(t2));
  end;
  if (src.name <> '') then
    tgt.name := src.name;

  for t3 in src.aliasList do
  begin
    tgt.aliasList.add(convertString4(t3));
  end;
  for t4 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint4(t4));
  end;
  for t5 in src.addressList do
  begin
    tgt.addressList.add(convertAddress4(t5));
  end;
  if (src.partOf <> nil) then
    tgt.partOf := convertReference4(src.partOf);

  for t6 in src.contactList do
  begin
    tgt.contactList.add(convertOrganizationContactComponent4(t6));
  end;
  for t7 in src.endpointList do
  begin
    tgt.endpointList.add(convertReference4(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOrganizationContactComponent3(src : fhir3_resources.TFhirOrganizationContact) : fhir4_resources.TFhirOrganizationContact;
var
  tgt : fhir4_resources.TFhirOrganizationContact;
  t : fhir3_types.TFhirContactPoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirOrganizationContact.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.purpose <> nil) then
    tgt.purpose := convertCodeableConcept3(src.purpose);

  if (src.name <> nil) then
    tgt.name := convertHumanName3(src.name);

  for t in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint3(t));
  end;
  if (src.address <> nil) then
    tgt.address := convertAddress3(src.address);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertOrganizationContactComponent4(src : fhir4_resources.TFhirOrganizationContact) : fhir3_resources.TFhirOrganizationContact;
var
  tgt : fhir3_resources.TFhirOrganizationContact;
  t : fhir4_types.TFhirContactPoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirOrganizationContact.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.purpose <> nil) then
    tgt.purpose := convertCodeableConcept4(src.purpose);

  if (src.name <> nil) then
    tgt.name := convertHumanName4(src.name);

  for t in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint4(t));
  end;
  if (src.address <> nil) then
    tgt.address := convertAddress4(src.address);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPatient3(src : fhir3_resources.TFhirPatient) : fhir4_resources.TFhirPatient;
var
  tgt : fhir4_resources.TFhirPatient;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirHumanName;
  t3 : fhir3_types.TFhirContactPoint;
  t4 : fhir3_types.TFhirAddress;
  t5 : fhir3_types.TFhirAttachment;
  t6 : fhir3_resources.TFhirPatientContact;
  t7 : fhir3_resources.TFhirPatientCommunication;
  t8 : fhir3_types.TFhirReference;
  t9 : fhir3_resources.TFhirPatientLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPatient.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.active := src.active;

  for t2 in src.nameList do
  begin
    tgt.nameList.add(convertHumanName3(t2));
  end;
  for t3 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint3(t3));
  end;
  tgt.gender := convertAdministrativeGender3(src.gender);

  tgt.birthDate := src.birthDate.link;

  if (src.deceased <> nil) then
    tgt.deceased := convertType3(src.deceased);

  for t4 in src.addressList do
  begin
    tgt.addressList.add(convertAddress3(t4));
  end;
  if (src.maritalStatus <> nil) then
    tgt.maritalStatus := convertCodeableConcept3(src.maritalStatus);

  if (src.multipleBirth <> nil) then
    tgt.multipleBirth := convertType3(src.multipleBirth);

  for t5 in src.photoList do
  begin
    tgt.photoList.add(convertAttachment3(t5));
  end;
  for t6 in src.contactList do
  begin
    tgt.contactList.add(convertContactComponent3(t6));
  end;
  if (src.animal <> nil) then
    tgt.extensionList.add(convertAnimalComponent3(src.Animal));

  for t7 in src.communicationList do
  begin
    tgt.communicationList.add(convertPatientCommunicationComponent3(t7));
  end;
  for t8 in src.generalPractitionerList do
  begin
    tgt.generalPractitionerList.add(convertReference3(t8));
  end;
  if (src.managingOrganization <> nil) then
    tgt.managingOrganization := convertReference3(src.managingOrganization);

  for t9 in src.link_List do
  begin
    tgt.link_List.add(convertPatientLinkComponent3(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPatient4(src : fhir4_resources.TFhirPatient) : fhir3_resources.TFhirPatient;
var
  tgt : fhir3_resources.TFhirPatient;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirHumanName;
  t3 : fhir4_types.TFhirContactPoint;
  t4 : fhir4_types.TFhirAddress;
  t5 : fhir4_types.TFhirAttachment;
  t6 : fhir4_resources.TFhirPatientContact;
  t7 : fhir4_resources.TFhirPatientCommunication;
  t8 : fhir4_types.TFhirReference;
  t9 : fhir4_resources.TFhirPatientLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPatient.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.active := src.active;

  for t2 in src.nameList do
  begin
    tgt.nameList.add(convertHumanName4(t2));
  end;
  for t3 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint4(t3));
  end;
  tgt.gender := convertAdministrativeGender4(src.gender);

  tgt.birthDate := src.birthDate.link;

  if (src.deceased <> nil) then
    tgt.deceased := convertType4(src.deceased);

  for t4 in src.addressList do
  begin
    tgt.addressList.add(convertAddress4(t4));
  end;
  if (src.maritalStatus <> nil) then
    tgt.maritalStatus := convertCodeableConcept4(src.maritalStatus);

  if (src.multipleBirth <> nil) then
    tgt.multipleBirth := convertType4(src.multipleBirth);

  for t5 in src.photoList do
  begin
    tgt.photoList.add(convertAttachment4(t5));
  end;
  for t6 in src.contactList do
  begin
    tgt.contactList.add(convertContactComponent4(t6));
  end;
  if (src.hasExtension('http://hl7.org/fhir/StructureDefinition/patient-animal')) then
    tgt.Animal := convertAnimalComponent4(src.getExtensionByUrl('http://hl7.org/fhir/StructureDefinition/patient-animal'));

  for t7 in src.communicationList do
  begin
    tgt.communicationList.add(convertPatientCommunicationComponent4(t7));
  end;
  for t8 in src.generalPractitionerList do
  begin
    tgt.generalPractitionerList.add(convertReference4(t8));
  end;
  if (src.managingOrganization <> nil) then
    tgt.managingOrganization := convertReference4(src.managingOrganization);

  for t9 in src.link_List do
  begin
    tgt.link_List.add(convertPatientLinkComponent4(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertContactComponent3(src : fhir3_resources.TFhirPatientContact) : fhir4_resources.TFhirPatientContact;
var
  tgt : fhir4_resources.TFhirPatientContact;
  t1 : fhir3_types.TFhirCodeableConcept;
  t2 : fhir3_types.TFhirContactPoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPatientContact.Create();
  try
  copyBackboneElement3(src, tgt);
  for t1 in src.relationshipList do
  begin
    tgt.relationshipList.add(convertCodeableConcept3(t1));
  end;
  if (src.name <> nil) then
    tgt.name := convertHumanName3(src.name);

  for t2 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint3(t2));
  end;
  if (src.address <> nil) then
    tgt.address := convertAddress3(src.address);

  tgt.gender := convertAdministrativeGender3(src.gender);

  if (src.organization <> nil) then
    tgt.organization := convertReference3(src.organization);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertContactComponent4(src : fhir4_resources.TFhirPatientContact) : fhir3_resources.TFhirPatientContact;
var
  tgt : fhir3_resources.TFhirPatientContact;
  t1 : fhir4_types.TFhirCodeableConcept;
  t2 : fhir4_types.TFhirContactPoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPatientContact.Create();
  try
  copyBackboneElement4(src, tgt);
  for t1 in src.relationshipList do
  begin
    tgt.relationshipList.add(convertCodeableConcept4(t1));
  end;
  if (src.name <> nil) then
    tgt.name := convertHumanName4(src.name);

  for t2 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint4(t2));
  end;
  if (src.address <> nil) then
    tgt.address := convertAddress4(src.address);

  tgt.gender := convertAdministrativeGender4(src.gender);

  if (src.organization <> nil) then
    tgt.organization := convertReference4(src.organization);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAnimalComponent3(src : fhir3_resources.TFhirPatientAnimal) : fhir4_types.TFhirExtension;
var
  tgt : fhir4_types.TFhirExtension;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_types.TFhirExtension.Create();
  try
  tgt.url := 'http://hl7.org/fhir/StructureDefinition/patient-animal';
  copyElement3(src, tgt);
  if (src.species <> nil) then
    tgt.addExtension('species', convertCodeableConcept3(src.Species));

  if (src.breed <> nil) then
    tgt.addExtension('breed', convertCodeableConcept3(src.Breed));

  if (src.genderStatus <> nil) then
    tgt.addExtension('genderStatus', convertCodeableConcept3(src.GenderStatus));

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertAnimalComponent4(src : fhir4_types.TFhirExtension) : fhir3_resources.TFhirPatientAnimal;
var
  tgt : fhir3_resources.TFhirPatientAnimal;
begin
  if ( src = nil) or (src.isEmpty()) then
    exit(nil);

  tgt := fhir3_resources.TFhirPatientAnimal.Create();
  try
  copyElement4(src, tgt);
  if (src.hasExtension('species')) then
    tgt.Species := convertCodeableConcept4(src.getExtensionByUrl('species').Value as fhir4_types.TFhirCodeableConcept);

  if (src.hasExtension('breed')) then
    tgt.Breed := convertCodeableConcept4(src.getExtensionByUrl('species').Value as fhir4_types.TFhirCodeableConcept);

  if (src.hasExtension('genderStatus')) then
    tgt.GenderStatus := convertCodeableConcept4(src.getExtensionByUrl('genderStatus').Value as fhir4_types.TFhirCodeableConcept);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPatientCommunicationComponent3(src : fhir3_resources.TFhirPatientCommunication) : fhir4_resources.TFhirPatientCommunication;
var
  tgt : fhir4_resources.TFhirPatientCommunication;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPatientCommunication.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.language <> nil) then
    tgt.language := convertCodeableConcept3(src.language);

  tgt.preferred := src.preferred;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPatientCommunicationComponent4(src : fhir4_resources.TFhirPatientCommunication) : fhir3_resources.TFhirPatientCommunication;
var
  tgt : fhir3_resources.TFhirPatientCommunication;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPatientCommunication.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.language <> nil) then
    tgt.language := convertCodeableConcept4(src.language);

  tgt.preferred := src.preferred;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPatientLinkComponent3(src : fhir3_resources.TFhirPatientLink) : fhir4_resources.TFhirPatientLink;
var
  tgt : fhir4_resources.TFhirPatientLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPatientLink.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.other <> nil) then
    tgt.other := convertReference3(src.other);

  tgt.type_ := convertLinkType3(src.type_);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPatientLinkComponent4(src : fhir4_resources.TFhirPatientLink) : fhir3_resources.TFhirPatientLink;
var
  tgt : fhir3_resources.TFhirPatientLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPatientLink.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.other <> nil) then
    tgt.other := convertReference4(src.other);

  tgt.type_ := convertLinkType4(src.type_);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPaymentNotice3(src : fhir3_resources.TFhirPaymentNotice) : fhir4_resources.TFhirPaymentNotice;
var
  tgt : fhir4_resources.TFhirPaymentNotice;
  t : fhir3_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPaymentNotice.Create();
  try
  copyDomainResource3(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t));
  end;
  tgt.status := convertPaymentNoticeStatus3(src.status);

  if (src.request <> nil) then
    tgt.request := convertReference3(src.request);

  if (src.response <> nil) then
    tgt.response := convertReference3(src.response);

  tgt.paymentDate := src.statusDate.link;

  tgt.created := src.created;

  if (src.target <> nil) then
    tgt.recipient := convertReference3(src.target);

  if (src.provider <> nil) then
    tgt.provider := convertReference3(src.provider);

  if (src.paymentStatus <> nil) then
    tgt.paymentStatus := convertCodeableConcept3(src.paymentStatus);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPaymentNotice4(src : fhir4_resources.TFhirPaymentNotice) : fhir3_resources.TFhirPaymentNotice;
var
  tgt : fhir3_resources.TFhirPaymentNotice;
  t : fhir4_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPaymentNotice.Create();
  try
  copyDomainResource4(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t));
  end;
  tgt.status := convertPaymentNoticeStatus4(src.status);

  if (src.request <> nil) then
    tgt.request := convertReference4(src.request);

  if (src.response <> nil) then
    tgt.response := convertReference4(src.response);

  tgt.statusDate := src.paymentDate.link;

  tgt.created := src.created;

  if (src.recipient <> nil) then
    tgt.target := convertReference4(src.recipient);

  if (src.provider <> nil) then
    tgt.provider := convertReference4(src.provider);

  if (src.paymentStatus <> nil) then
    tgt.paymentStatus := convertCodeableConcept4(src.paymentStatus);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPerson3(src : fhir3_resources.TFhirPerson) : fhir4_resources.TFhirPerson;
var
  tgt : fhir4_resources.TFhirPerson;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirHumanName;
  t3 : fhir3_types.TFhirContactPoint;
  t4 : fhir3_types.TFhirAddress;
  t5 : fhir3_resources.TFhirPersonLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPerson.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  for t2 in src.nameList do
  begin
    tgt.nameList.add(convertHumanName3(t2));
  end;
  for t3 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint3(t3));
  end;

  tgt.gender := convertAdministrativeGender3(src.gender);

  tgt.birthDate := src.birthDate.link;

  for t4 in src.addressList do
  begin
    tgt.addressList.add(convertAddress3(t4));
  end;
  if (src.photo <> nil) then
    tgt.photo := convertAttachment3(src.photo);

  if (src.managingOrganization <> nil) then
    tgt.managingOrganization := convertReference3(src.managingOrganization);

  tgt.active := src.active;

  for t5 in src.link_List do
  begin
    tgt.link_List.add(convertPersonLinkComponent3(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPerson4(src : fhir4_resources.TFhirPerson) : fhir3_resources.TFhirPerson;
var
  tgt : fhir3_resources.TFhirPerson;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirHumanName;
  t3 : fhir4_types.TFhirContactPoint;
  t4 : fhir4_types.TFhirAddress;
  t5 : fhir4_resources.TFhirPersonLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPerson.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  for t2 in src.nameList do
  begin
    tgt.nameList.add(convertHumanName4(t2));
  end;
  for t3 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint4(t3));
  end;
  tgt.gender := convertAdministrativeGender4(src.gender);

  tgt.birthDate := src.birthDate.link;

  for t4 in src.addressList do
  begin
    tgt.addressList.add(convertAddress4(t4));
  end;
  if (src.photo <> nil) then
    tgt.photo := convertAttachment4(src.photo);

  if (src.managingOrganization <> nil) then
    tgt.managingOrganization := convertReference4(src.managingOrganization);

  tgt.active := src.active;

  for t5 in src.link_List do
  begin
    tgt.link_List.add(convertPersonLinkComponent4(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPersonLinkComponent3(src : fhir3_resources.TFhirPersonLink) : fhir4_resources.TFhirPersonLink;
var
  tgt : fhir4_resources.TFhirPersonLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPersonLink.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.target <> nil) then
    tgt.target := convertReference3(src.target);

  tgt.assurance := convertIdentityAssuranceLevel3(src.assurance);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPersonLinkComponent4(src : fhir4_resources.TFhirPersonLink) : fhir3_resources.TFhirPersonLink;
var
  tgt : fhir3_resources.TFhirPersonLink;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPersonLink.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.target <> nil) then
    tgt.target := convertReference4(src.target);

  tgt.assurance := convertIdentityAssuranceLevel4(src.assurance);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPractitioner3(src : fhir3_resources.TFhirPractitioner) : fhir4_resources.TFhirPractitioner;
var
  tgt : fhir4_resources.TFhirPractitioner;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirHumanName;
  t3 : fhir3_types.TFhirContactPoint;
  t4 : fhir3_types.TFhirAddress;
  t5 : fhir3_types.TFhirAttachment;
  t6 : fhir3_resources.TFhirPractitionerQualification;
  t7 : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPractitioner.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.active := src.active;

  for t2 in src.nameList do
  begin
    tgt.nameList.add(convertHumanName3(t2));
  end;
  for t3 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint3(t3));
  end;
  for t4 in src.addressList do
  begin
    tgt.addressList.add(convertAddress3(t4));
  end;
  tgt.gender := convertAdministrativeGender3(src.gender);

  tgt.birthDate := src.birthDate.link;

  for t5 in src.photoList do
  begin
    tgt.photoList.add(convertAttachment3(t5));
  end;
  for t6 in src.qualificationList do
  begin
    tgt.qualificationList.add(convertPractitionerQualificationComponent3(t6));
  end;
  for t7 in src.communicationList do
  begin
    tgt.communicationList.add(convertCodeableConcept3(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPractitioner4(src : fhir4_resources.TFhirPractitioner) : fhir3_resources.TFhirPractitioner;
var
  tgt : fhir3_resources.TFhirPractitioner;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirHumanName;
  t3 : fhir4_types.TFhirContactPoint;
  t4 : fhir4_types.TFhirAddress;
  t5 : fhir4_types.TFhirAttachment;
  t6 : fhir4_resources.TFhirPractitionerQualification;
  t7 : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPractitioner.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.active := src.active;

  for t2 in src.nameList do
  begin
    tgt.nameList.add(convertHumanName4(t2));
  end;
  for t3 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint4(t3));
  end;
  for t4 in src.addressList do
  begin
    tgt.addressList.add(convertAddress4(t4));
  end;
  tgt.gender := convertAdministrativeGender4(src.gender);

  tgt.birthDate := src.birthDate.link;

  for t5 in src.photoList do
  begin
    tgt.photoList.add(convertAttachment4(t5));
  end;
  for t6 in src.qualificationList do
  begin
    tgt.qualificationList.add(convertPractitionerQualificationComponent4(t6));
  end;
  for t7 in src.communicationList do
  begin
    tgt.communicationList.add(convertCodeableConcept4(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPractitionerQualificationComponent3(src : fhir3_resources.TFhirPractitionerQualification) : fhir4_resources.TFhirPractitionerQualification;
var
  tgt : fhir4_resources.TFhirPractitionerQualification;
  t : fhir3_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPractitionerQualification.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t));
  end;
  tgt.code := convertCodeableConcept3(src.code);

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  if (src.issuer <> nil) then
    tgt.issuer := convertReference3(src.issuer);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPractitionerQualificationComponent4(src : fhir4_resources.TFhirPractitionerQualification) : fhir3_resources.TFhirPractitionerQualification;
var
  tgt : fhir3_resources.TFhirPractitionerQualification;
  t : fhir4_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPractitionerQualification.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t));
  end;
  tgt.code := convertCodeableConcept4(src.code);

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  if (src.issuer <> nil) then
    tgt.issuer := convertReference4(src.issuer);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPractitionerRole3(src : fhir3_resources.TFhirPractitionerRole) : fhir4_resources.TFhirPractitionerRole;
var
  tgt : fhir4_resources.TFhirPractitionerRole;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirReference;
  t5 : fhir3_types.TFhirReference;
  t6 : fhir3_types.TFhirContactPoint;
  t7 : fhir3_resources.TFhirPractitionerRoleAvailableTime;
  t8 : fhir3_resources.TFhirPractitionerRoleNotAvailable;
  t9 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPractitionerRole.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.active := src.active;

  if (src.period <> nil) then
    tgt.period := convertPeriod3(src.period);

  if (src.practitioner <> nil) then
    tgt.practitioner := convertReference3(src.practitioner);

  if (src.organization <> nil) then
    tgt.organization := convertReference3(src.organization);

  for t2 in src.codeList do
  begin
    tgt.codeList.add(convertCodeableConcept3(t2));
  end;
  for t3 in src.specialtyList do
  begin
    tgt.specialtyList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.locationList do
  begin
    tgt.locationList.add(convertReference3(t4));
  end;
  for t5 in src.healthcareServiceList do
  begin
    tgt.healthcareServiceList.add(convertReference3(t5));
  end;
  for t6 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint3(t6));
  end;
  for t7 in src.availableTimeList do
  begin
    tgt.availableTimeList.add(convertPractitionerRoleAvailableTimeComponent3(t7));
  end;
  for t8 in src.notAvailableList do
  begin
    tgt.notAvailableList.add(convertPractitionerRoleNotAvailableComponent3(t8));
  end;
  if (src.availabilityExceptions <> '') then
    tgt.availabilityExceptions := src.availabilityExceptions;

  for t9 in src.endpointList do
  begin
    tgt.endpointList.add(convertReference3(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPractitionerRole4(src : fhir4_resources.TFhirPractitionerRole) : fhir3_resources.TFhirPractitionerRole;
var
  tgt : fhir3_resources.TFhirPractitionerRole;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirReference;
  t5 : fhir4_types.TFhirReference;
  t6 : fhir4_types.TFhirContactPoint;
  t7 : fhir4_resources.TFhirPractitionerRoleAvailableTime;
  t8 : fhir4_resources.TFhirPractitionerRoleNotAvailable;
  t9 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPractitionerRole.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.active := src.active;

  if (src.period <> nil) then
    tgt.period := convertPeriod4(src.period);

  if (src.practitioner <> nil) then
    tgt.practitioner := convertReference4(src.practitioner);

  if (src.organization <> nil) then
    tgt.organization := convertReference4(src.organization);

  for t2 in src.codeList do
  begin
    tgt.codeList.add(convertCodeableConcept4(t2));
  end;
  for t3 in src.specialtyList do
  begin
    tgt.specialtyList.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.locationList do
  begin
    tgt.locationList.add(convertReference4(t4));
  end;
  for t5 in src.healthcareServiceList do
  begin
    tgt.healthcareServiceList.add(convertReference4(t5));
  end;
  for t6 in src.telecomList do
  begin
    tgt.telecomList.add(convertContactPoint4(t6));
  end;
  for t7 in src.availableTimeList do
  begin
    tgt.availableTimeList.add(convertPractitionerRoleAvailableTimeComponent4(t7));
  end;
  for t8 in src.notAvailableList do
  begin
    tgt.notAvailableList.add(convertPractitionerRoleNotAvailableComponent4(t8));
  end;
  if (src.availabilityExceptions <> '') then
    tgt.availabilityExceptions := src.availabilityExceptions;

  for t9 in src.endpointList do
  begin
    tgt.endpointList.add(convertReference4(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPractitionerRoleAvailableTimeComponent3(src : fhir3_resources.TFhirPractitionerRoleAvailableTime) : fhir4_resources.TFhirPractitionerRoleAvailableTime;
var
  tgt : fhir4_resources.TFhirPractitionerRoleAvailableTime;
  t : fhir3_types.TFhirDaysOfWeekEnum;
  a : fhir4_types.TFhirDaysOfWeekEnumList;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPractitionerRoleAvailableTime.Create();
  try
  copyBackboneElement3(src, tgt);
  a := [];
  for t := low(fhir3_types.TFhirDaysOfWeekEnum) to high(fhir3_types.TFhirDaysOfWeekEnum) do
    if t in src.daysOfWeek then
      a := a + [convertDayOfWeek3(t)];
  tgt.daysOfWeek := a;

  tgt.allDay := src.allDay;

  if (src.availableStartTime <> '') then
    tgt.availableStartTime := src.availableStartTime;

  if (src.availableEndTime <> '') then
    tgt.availableEndTime := src.availableEndTime;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPractitionerRoleAvailableTimeComponent4(src : fhir4_resources.TFhirPractitionerRoleAvailableTime) : fhir3_resources.TFhirPractitionerRoleAvailableTime;
var
  tgt : fhir3_resources.TFhirPractitionerRoleAvailableTime;
  t : fhir4_types.TFhirDaysOfWeekEnum;
  a : fhir3_types.TFhirDaysOfWeekEnumList;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPractitionerRoleAvailableTime.Create();
  try
  copyBackboneElement4(src, tgt);
  a := [];
  for t := low(fhir4_types.TFhirDaysOfWeekEnum) to high(fhir4_types.TFhirDaysOfWeekEnum) do
    if t in src.daysOfWeek then
      a := a + [convertDayOfWeek4(t)];
  tgt.daysOfWeek := a;
  tgt.allDay := src.allDay;

  if (src.availableStartTime <> '') then
    tgt.availableStartTime := src.availableStartTime;

  if (src.availableEndTime <> '') then
    tgt.availableEndTime := src.availableEndTime;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPractitionerRoleNotAvailableComponent3(src : fhir3_resources.TFhirPractitionerRoleNotAvailable) : fhir4_resources.TFhirPractitionerRoleNotAvailable;
var
  tgt : fhir4_resources.TFhirPractitionerRoleNotAvailable;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPractitionerRoleNotAvailable.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.description <> '') then
    tgt.description := src.description;

  if (src.during <> nil) then
    tgt.during := convertPeriod3(src.during);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPractitionerRoleNotAvailableComponent4(src : fhir4_resources.TFhirPractitionerRoleNotAvailable) : fhir3_resources.TFhirPractitionerRoleNotAvailable;
var
  tgt : fhir3_resources.TFhirPractitionerRoleNotAvailable;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPractitionerRoleNotAvailable.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.description <> '') then
    tgt.description := src.description;

  if (src.during <> nil) then
    tgt.during := convertPeriod4(src.during);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaire3(src : fhir3_resources.TFhirQuestionnaire) : fhir4_resources.TFhirQuestionnaire;
var
  tgt : fhir4_resources.TFhirQuestionnaire;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirContactDetail;
  t5 : fhir3_types.TFhirCoding;
  t7 : fhir3_resources.TFhirQuestionnaireItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirQuestionnaire.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.purpose <> '') then
    tgt.purpose := src.purpose;
   tgt.approvalDate := src.approvalDate;
  tgt.lastReviewDate := src.lastReviewDate;

  if (src.effectivePeriod <> nil) then
    tgt.effectivePeriod := convertPeriod3(src.effectivePeriod);

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t4));
  end;
  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t5 in src.codeList do
  begin
    tgt.codeList.add(convertCoding3(t5));
  end;
{  // todo
  for t6 in src.subjectType  do
  begin
    tgt.subjectTypeList.add(convertCode3(t6));
  end;}
  for t7 in src.itemList do
  begin
    tgt.itemList.add(convertQuestionnaireItemComponent3(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertProvenance3(src : fhir3_resources.TFhirProvenance) : fhir4_resources.TFhirProvenance;
var
  tgt : fhir4_resources.TFhirProvenance;
  t1 : fhir3_types.TFhirReference;
  t2 : fhir3_types.TFHIRUri;
  t3 : fhir3_types.TFHIRCoding;
  t4 : fhir3_resources.TFhirProvenanceAgent;
  t5 : fhir3_resources.TFhirProvenanceEntity;
  t6 : fhir3_types.TFhirSignature;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirProvenance.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.targetList do
    tgt.TargetList.add(convertReference3(t1));
  tgt.Occurred := convertPeriod3(src.Period);
  tgt.Recorded := src.Recorded;
  for t2 in src.policyList do
    tgt.PolicyList.add(convertUri3(t2));
  tgt.Location := convertReference3(src.Location);
  for t3 in src.reasonList do
    tgt.ReasonList.add(convertCodingToCodeableConcept3(t3));
  tgt.Activity := convertCodingToCodeableConcept3(src.Activity);
  for t4 in src.agentList do
    tgt.AgentList.add(convertProvenanceAgentComponent3(t4));
  for t5 in src.EntityList do
    tgt.EntityList.add(convertProvenanceEntityComponent3(t5));
  for t6 in src.signatureList do
    tgt.SignatureList.add(convertSignature3(t6));
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertProvenance4(src : fhir4_resources.TFhirProvenance) : fhir3_resources.TFhirProvenance;
var
  tgt : fhir3_resources.TFhirProvenance;
  t1 : fhir4_types.TFhirReference;
  t2 : fhir4_types.TFHIRUri;
  t3 : fhir4_types.TFHIRCodeableConcept;
  c : fhir4_types.TFHIRCoding;
  t4 : fhir4_resources.TFhirProvenanceAgent;
  t5 : fhir4_resources.TFhirProvenanceEntity;
  t6 : fhir4_types.TFhirSignature;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirProvenance.Create();
  try
  for t1 in src.targetList do
    tgt.TargetList.add(convertReference4(t1));
  if src.Occurred is fhir4_types.TFhirPeriod then
    tgt.Period := convertPeriod4(src.Occurred as fhir4_types.TFhirPeriod);
  tgt.Recorded := src.Recorded;
  for t2 in src.policyList do
    tgt.PolicyList.add(convertUri4(t2));
  tgt.Location := convertReference4(src.Location);
  for t3 in src.reasonList do
    for c in t3.codingList do
      tgt.ReasonList.add(convertCoding4(c));
  tgt.Activity := convertCoding4(src.Activity);
  for t4 in src.agentList do
    tgt.AgentList.add(convertProvenanceAgentComponent4(t4));
  for t5 in src.EntityList do
    tgt.EntityList.add(convertProvenanceEntityComponent4(t5));
  for t6 in src.signatureList do
    tgt.SignatureList.add(convertSignature4(t6));
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertProvenanceAgentComponent3(src : fhir3_resources.TFhirProvenanceAgent) : fhir4_resources.TFhirProvenanceAgent;
var
  tgt : fhir4_resources.TFhirProvenanceAgent;
  t : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirProvenanceAgent.Create();
  try
    copyBackboneElement3(src, tgt);
    for t in src.roleList do
      tgt.RoleList.add(convertCodeableConcept3(t));
    tgt.Who := convertType3(src.Who) as fhir4_types.TFHIRReference;
    tgt.OnBehalfOf := convertType3(src.OnBehalfOf) as fhir4_types.TFHIRReference;
    exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertProvenanceAgentComponent4(src : fhir4_resources.TFhirProvenanceAgent) : fhir3_resources.TFhirProvenanceAgent;
var
  tgt : fhir3_resources.TFhirProvenanceAgent;
  t : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirProvenanceAgent.Create();
  try
    copyBackboneElement4(src, tgt);
    for t in src.roleList do
      tgt.RoleList.add(convertCodeableConcept4(t));
    tgt.Who := convertType4(src.Who);
    tgt.OnBehalfOf := convertType4(src.OnBehalfOf);
    exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertProvenanceEntityComponent3(src : fhir3_resources.TFhirProvenanceEntity) : fhir4_resources.TFhirProvenanceEntity;
var
  tgt : fhir4_resources.TFhirProvenanceEntity;
  t4 : fhir3_resources.TFhirProvenanceAgent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirProvenanceEntity.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.Role := convertProvenanceEntityRole3(src.role);
  tgt.what := convertType3(src.what) as fhir4_types.TFHIRReference;
  for t4 in src.agentList do
    tgt.AgentList.add(convertProvenanceAgentComponent3(t4));
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertProvenanceEntityComponent4(src : fhir4_resources.TFhirProvenanceEntity) : fhir3_resources.TFhirProvenanceEntity;
var
  tgt : fhir3_resources.TFhirProvenanceEntity;
  t4 : fhir4_resources.TFhirProvenanceAgent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirProvenanceEntity.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.Role := convertProvenanceEntityRole4(src.role);
  tgt.what := convertType4(src.what);
  for t4 in src.agentList do
    tgt.AgentList.add(convertProvenanceAgentComponent4(t4));
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaire4(src : fhir4_resources.TFhirQuestionnaire) : fhir3_resources.TFhirQuestionnaire;
var
  tgt : fhir3_resources.TFhirQuestionnaire;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirContactDetail;
  t5 : fhir4_types.TFhirCoding;
  t7 : fhir4_resources.TFhirQuestionnaireItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirQuestionnaire.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.purpose <> '') then
    tgt.purpose := src.purpose;
  tgt.approvalDate := src.approvalDate;
  tgt.lastReviewDate := src.lastReviewDate;

  if (src.effectivePeriod <> nil) then
    tgt.effectivePeriod := convertPeriod4(src.effectivePeriod);

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t4));
  end;
  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t5 in src.codeList do
  begin
    tgt.codeList.add(convertCoding4(t5));
  end;
  // todo
  {
  for t6 in src.subjectTypeList do
  begin
    tgt.subjectTypeList.add(convertCode4(t6));
  end;
  }
  for t7 in src.itemList do
  begin
    tgt.itemList.add(convertQuestionnaireItemComponent4(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireItemComponent3(src : fhir3_resources.TFhirQuestionnaireItem) : fhir4_resources.TFhirQuestionnaireItem;
var
  tgt : fhir4_resources.TFhirQuestionnaireItem;
  t1 : fhir3_types.TFhirCoding;
  t2 : fhir3_resources.TFhirQuestionnaireItemEnableWhen;
  t3 : fhir3_resources.TFhirQuestionnaireItemOption;
  t4 : fhir3_resources.TFhirQuestionnaireItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirQuestionnaireItem.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.linkId <> '') then
    tgt.linkId := src.linkId;

  if (src.definition <> '') then
    tgt.definition := src.definition;

  for t1 in src.codeList do
  begin
    tgt.codeList.add(convertCoding3(t1));
  end;
  if (src.prefix <> '') then
    tgt.prefix := src.prefix;

  if (src.text <> '') then
    tgt.text := src.text;

  tgt.type_ := convertQuestionnaireItemType3(src.type_);

  for t2 in src.enableWhenList do
  begin
    tgt.enableWhenList.add(convertQuestionnaireItemEnableWhenComponent3(t2));
  end;
  tgt.required := src.required;
  tgt.repeats := src.repeats;
  tgt.readOnly := src.readOnly;
  tgt.maxLength := src.maxLength;

  if (src.options <> nil) then
    tgt.answerValueSetElement := convertReferenceToCanonical3(src.options);

  for t3 in src.optionList do
  begin
    tgt.answerOptionList.add(convertQuestionnaireItemOptionComponent3(t3));
  end;
  if (src.initial <> nil) then
    tgt.InitialList.append.value := convertType3(src.initial);

  for t4 in src.itemList do
  begin
    tgt.itemList.add(convertQuestionnaireItemComponent3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireItemComponent4(src : fhir4_resources.TFhirQuestionnaireItem) : fhir3_resources.TFhirQuestionnaireItem;
var
  tgt : fhir3_resources.TFhirQuestionnaireItem;
  t1 : fhir4_types.TFhirCoding;
  t2 : fhir4_resources.TFhirQuestionnaireItemEnableWhen;
  t3 : fhir4_resources.TFhirQuestionnaireItemAnswerOption;
  t4 : fhir4_resources.TFhirQuestionnaireItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirQuestionnaireItem.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.linkId <> '') then
    tgt.linkId := src.linkId;

  if (src.definition <> '') then
    tgt.definition := src.definition;

  for t1 in src.codeList do
  begin
    tgt.codeList.add(convertCoding4(t1));
  end;
  if (src.prefix <> '') then
    tgt.prefix := src.prefix;

  if (src.text <> '') then
    tgt.text := src.text;

  tgt.type_ := convertQuestionnaireItemType4(src.type_);

  for t2 in src.enableWhenList do
  begin
    tgt.enableWhenList.add(convertQuestionnaireItemEnableWhenComponent4(t2));
  end;
  tgt.required := src.required;
  tgt.repeats := src.repeats;
  tgt.readOnly := src.readOnly;
  tgt.maxLength := src.maxLength;

  if (src.answerValueSet <> '') then
    tgt.options := convertCanonicalToReference4(src.answerValueSetElement);

  for t3 in src.answerOptionList do
  begin
    tgt.optionList.add(convertQuestionnaireItemOptionComponent4(t3));
  end;
  if (src.InitialList.count > 0) then
    tgt.initial := convertType4(src.InitialList[0].value);

  for t4 in src.itemList do
  begin
    tgt.itemList.add(convertQuestionnaireItemComponent4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireItemEnableWhenComponent3(src : fhir3_resources.TFhirQuestionnaireItemEnableWhen) : fhir4_resources.TFhirQuestionnaireItemEnableWhen;
var
  tgt : fhir4_resources.TFhirQuestionnaireItemEnableWhen;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirQuestionnaireItemEnableWhen.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.question <> '') then
    tgt.question := src.question;

  if (src.hasAnswerElement <> nil) then
  begin
    tgt.Operator := fhir4_types.QuestionnaireEnableOperatorExists;
    tgt.answer := convertType3(src.hasAnswerElement);
  end
  else if (src.answer <> nil) then
    tgt.answer := convertType3(src.answer);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireItemEnableWhenComponent4(src : fhir4_resources.TFhirQuestionnaireItemEnableWhen) : fhir3_resources.TFhirQuestionnaireItemEnableWhen;
var
  tgt : fhir3_resources.TFhirQuestionnaireItemEnableWhen;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirQuestionnaireItemEnableWhen.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.question <> '') then
    tgt.question := src.question;

  if (src.Operator = fhir4_types.QuestionnaireEnableOperatorExists) then
    tgt.hasAnswer := (src.Answer as fhir4_types.TFHIRBoolean).value
  else if (src.answer <> nil) then
    tgt.answer := convertType4(src.answer);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireItemOptionComponent3(src : fhir3_resources.TFhirQuestionnaireItemOption) : fhir4_resources.TFhirQuestionnaireItemAnswerOption;
var
  tgt : fhir4_resources.TFhirQuestionnaireItemAnswerOption;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirQuestionnaireItemAnswerOption.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireItemOptionComponent4(src : fhir4_resources.TFhirQuestionnaireItemAnswerOption) : fhir3_resources.TFhirQuestionnaireItemOption;
var
  tgt : fhir3_resources.TFhirQuestionnaireItemOption;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirQuestionnaireItemOption.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireResponse3(src : fhir3_resources.TFhirQuestionnaireResponse) : fhir4_resources.TFhirQuestionnaireResponse;
var
  tgt : fhir4_resources.TFhirQuestionnaireResponse;
  t1 : fhir3_types.TFhirReference;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_resources.TFhirQuestionnaireResponseItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirQuestionnaireResponse.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier3(src.identifier);

  for t1 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference3(t1));
  end;
  for t2 in src.parentList do
  begin
    tgt.partOfList.add(convertReference3(t2));
  end;
  if (src.questionnaire <> nil) then
    tgt.questionnaireElement := convertReferenceToCanonical3(src.questionnaire);

  tgt.status := convertQuestionnaireResponseStatus3(src.status);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.context <> nil) then
    tgt.encounter := convertReference3(src.context);

  tgt.authored := src.authored.link;

  if (src.author <> nil) then
    tgt.author := convertReference3(src.author);

  if (src.source <> nil) then
    tgt.source := convertReference3(src.source);

  for t3 in src.itemList do
  begin
    tgt.itemList.add(convertQuestionnaireResponseItemComponent3(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireResponse4(src : fhir4_resources.TFhirQuestionnaireResponse) : fhir3_resources.TFhirQuestionnaireResponse;
var
  tgt : fhir3_resources.TFhirQuestionnaireResponse;
  t1 : fhir4_types.TFhirReference;
  t2 : fhir4_types.TFhirReference;
  t3 : fhir4_resources.TFhirQuestionnaireResponseItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirQuestionnaireResponse.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.identifier);

  for t1 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference4(t1));
  end;
  for t2 in src.partOfList do
  begin
    tgt.parentList.add(convertReference4(t2));
  end;
  if (src.questionnaire <> '') then
    tgt.questionnaire := convertCanonicalToReference4(src.questionnaireElement);

  tgt.status := convertQuestionnaireResponseStatus4(src.status);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.encounter <> nil) then
    tgt.context := convertReference4(src.encounter);

  tgt.authored := src.authored.link;

  if (src.author <> nil) then
    tgt.author := convertReference4(src.author);

  if (src.source <> nil) then
    tgt.source := convertReference4(src.source);

  for t3 in src.itemList do
  begin
    tgt.itemList.add(convertQuestionnaireResponseItemComponent4(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireResponseItemComponent3(src : fhir3_resources.TFhirQuestionnaireResponseItem) : fhir4_resources.TFhirQuestionnaireResponseItem;
var
  tgt : fhir4_resources.TFhirQuestionnaireResponseItem;
  t1 : fhir3_resources.TFhirQuestionnaireResponseItemAnswer;
  t2 : fhir3_resources.TFhirQuestionnaireResponseItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirQuestionnaireResponseItem.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.linkId <> '') then
    tgt.linkId := src.linkId;

  if (src.definition <> '') then
    tgt.definition := src.definition;

  if (src.text <> '') then
    tgt.text := src.text;

//  if (src.subject <> nil) then
//    tgt.subject := convertReference3(src.subject);

  for t1 in src.answerList do
  begin
    tgt.answerList.add(convertQuestionnaireResponseItemAnswerComponent3(t1));
  end;
  for t2 in src.itemList do
  begin
    tgt.itemList.add(convertQuestionnaireResponseItemComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireResponseItemComponent4(src : fhir4_resources.TFhirQuestionnaireResponseItem) : fhir3_resources.TFhirQuestionnaireResponseItem;
var
  tgt : fhir3_resources.TFhirQuestionnaireResponseItem;
  t1 : fhir4_resources.TFhirQuestionnaireResponseItemAnswer;
  t2 : fhir4_resources.TFhirQuestionnaireResponseItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirQuestionnaireResponseItem.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.linkId <> '') then
    tgt.linkId := src.linkId;

  if (src.definition <> '') then
    tgt.definition := src.definition;

  if (src.text <> '') then
    tgt.text := src.text;

//  if (src.subject <> nil) then
//    tgt.subject := convertReference4(src.subject);

  for t1 in src.answerList do
  begin
    tgt.answerList.add(convertQuestionnaireResponseItemAnswerComponent4(t1));
  end;
  for t2 in src.itemList do
  begin
    tgt.itemList.add(convertQuestionnaireResponseItemComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireResponseItemAnswerComponent3(src : fhir3_resources.TFhirQuestionnaireResponseItemAnswer) : fhir4_resources.TFhirQuestionnaireResponseItemAnswer;
var
  tgt : fhir4_resources.TFhirQuestionnaireResponseItemAnswer;
  t : fhir3_resources.TFhirQuestionnaireResponseItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirQuestionnaireResponseItemAnswer.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  for t in src.itemList do
  begin
    tgt.itemList.add(convertQuestionnaireResponseItemComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertQuestionnaireResponseItemAnswerComponent4(src : fhir4_resources.TFhirQuestionnaireResponseItemAnswer) : fhir3_resources.TFhirQuestionnaireResponseItemAnswer;
var
  tgt : fhir3_resources.TFhirQuestionnaireResponseItemAnswer;
  t : fhir4_resources.TFhirQuestionnaireResponseItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirQuestionnaireResponseItemAnswer.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  for t in src.itemList do
  begin
    tgt.itemList.add(convertQuestionnaireResponseItemComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertRiskAssessment3(src : fhir3_resources.TFhirRiskAssessment) : fhir4_resources.TFhirRiskAssessment;
var
  tgt : fhir4_resources.TFhirRiskAssessment;
  t1 : fhir4_types.TFhirType;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_resources.TFhirRiskAssessmentPrediction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirRiskAssessment.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifierList.add(convertIdentifier3(src.Identifier));

  if (src.basedOn <> nil) then
    tgt.basedOn := convertReference3(src.basedOn);

  if (src.parent <> nil) then
    tgt.parent := convertReference3(src.parent);

  tgt.status := convertRiskAssessmentStatus3(src.status);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept3(src.method);

  tgt.code := convertCodeableConcept3(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  if (src.context <> nil) then
    tgt.encounter := convertReference3(src.context);

  if (src.occurrence <> nil) then
    tgt.occurrence := convertType3(src.occurrence);

  if (src.condition <> nil) then
    tgt.condition := convertReference3(src.condition);

  if (src.performer <> nil) then
    tgt.performer := convertReference3(src.performer);

  if (src.reason <> nil) then
  begin
    t1 := convertType3(src.Reason);
    if (t1 is fhir4_types.TFHIRCodeableConcept) then
      tgt.reasonCodeList.add(t1)
    else
      tgt.reasonReferenceList.add(t1);
  end;

  for t2 in src.basisList do
  begin
    tgt.basisList.add(convertReference3(t2));
  end;
  for t3 in src.predictionList do
  begin
    tgt.predictionList.add(convertRiskAssessmentPredictionComponent3(t3));
  end;
  if (src.mitigation <> '') then
    tgt.mitigation := src.mitigation;

  if (src.comment <> '') then
    tgt.NoteList.append.text := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertRiskAssessment4(src : fhir4_resources.TFhirRiskAssessment) : fhir3_resources.TFhirRiskAssessment;
var
  tgt : fhir3_resources.TFhirRiskAssessment;
  t1 : fhir4_types.TFhirReference;
  t2 : fhir4_resources.TFhirRiskAssessmentPrediction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirRiskAssessment.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.identifierList.count > 0) then
    tgt.identifier := convertIdentifier4(src.identifierList[0]);

  if (src.basedOn <> nil) then
    tgt.basedOn := convertReference4(src.basedOn);

  if (src.parent <> nil) then
    tgt.parent := convertReference4(src.parent);

  tgt.status := convertRiskAssessmentStatus4(src.status);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept4(src.method);

  tgt.code := convertCodeableConcept4(src.code);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  if (src.encounter <> nil) then
    tgt.context := convertReference4(src.encounter);

  if (src.occurrence <> nil) then
    tgt.occurrence := convertType4(src.occurrence);

  if (src.condition <> nil) then
    tgt.condition := convertReference4(src.condition);

  if (src.performer <> nil) then
    tgt.performer := convertReference4(src.performer);

  if (src.reasonCodeList.count > 0) then
    tgt.reason := convertType4(src.reasonCodeList[0]);

  if (src.reasonReferenceList.count > 0) then
    tgt.reason := convertType4(src.reasonReferenceList[0]);

  for t1 in src.basisList do
  begin
    tgt.basisList.add(convertReference4(t1));
  end;
  for t2 in src.predictionList do
  begin
    tgt.predictionList.add(convertRiskAssessmentPredictionComponent4(t2));
  end;
  if (src.mitigation <> '') then
    tgt.mitigation := src.mitigation;

  if (src.NoteList.count > 0) then
    tgt.comment := src.NoteList[0].text;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertRiskAssessmentPredictionComponent3(src : fhir3_resources.TFhirRiskAssessmentPrediction) : fhir4_resources.TFhirRiskAssessmentPrediction;
var
  tgt : fhir4_resources.TFhirRiskAssessmentPrediction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirRiskAssessmentPrediction.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.outcome := convertCodeableConcept3(src.outcome);

  if (src.probability <> nil) then
    tgt.probability := convertType3(src.probability);

  if (src.qualitativeRisk <> nil) then
    tgt.qualitativeRisk := convertCodeableConcept3(src.qualitativeRisk);

  tgt.relativeRisk := src.relativeRisk;

  if (src.when <> nil) then
    tgt.when := convertType3(src.when);

  if (src.rationale <> '') then
    tgt.rationale := src.rationale;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertRiskAssessmentPredictionComponent4(src : fhir4_resources.TFhirRiskAssessmentPrediction) : fhir3_resources.TFhirRiskAssessmentPrediction;
var
  tgt : fhir3_resources.TFhirRiskAssessmentPrediction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirRiskAssessmentPrediction.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.outcome := convertCodeableConcept4(src.outcome);

  if (src.probability <> nil) then
    tgt.probability := convertType4(src.probability);

  if (src.qualitativeRisk <> nil) then
    tgt.qualitativeRisk := convertCodeableConcept4(src.qualitativeRisk);

  tgt.relativeRisk := src.relativeRisk;

  if (src.when <> nil) then
    tgt.when := convertType4(src.when);

  if (src.rationale <> '') then
    tgt.rationale := src.rationale;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSchedule3(src : fhir3_resources.TFhirSchedule) : fhir4_resources.TFhirSchedule;
var
  tgt : fhir4_resources.TFhirSchedule;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSchedule.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.active := src.active;

  if (src.serviceCategory <> nil) then
    tgt.serviceCategoryList.add(convertCodeableConcept3(src.ServiceCategory));

  for t2 in src.serviceTypeList do
  begin
    tgt.serviceTypeList.add(convertCodeableConcept3(t2));
  end;
  for t3 in src.specialtyList do
  begin
    tgt.specialtyList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.actorList do
  begin
    tgt.actorList.add(convertReference3(t4));
  end;
  if (src.planningHorizon <> nil) then
    tgt.planningHorizon := convertPeriod3(src.planningHorizon);

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSchedule4(src : fhir4_resources.TFhirSchedule) : fhir3_resources.TFhirSchedule;
var
  tgt : fhir3_resources.TFhirSchedule;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSchedule.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.active := src.active;

  if (src.serviceCategoryList.count > 0) then
    tgt.serviceCategory := convertCodeableConcept4(src.serviceCategoryList[0]);

  for t2 in src.serviceTypeList do
  begin
    tgt.serviceTypeList.add(convertCodeableConcept4(t2));
  end;
  for t3 in src.specialtyList do
  begin
    tgt.specialtyList.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.actorList do
  begin
    tgt.actorList.add(convertReference4(t4));
  end;
  if (src.planningHorizon <> nil) then
    tgt.planningHorizon := convertPeriod4(src.planningHorizon);

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSearchParameter3(src : fhir3_resources.TFhirSearchParameter) : fhir4_resources.TFhirSearchParameter;
var
  tgt : fhir4_resources.TFhirSearchParameter;
  t1 : fhir3_types.TFhirContactDetail;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t6 : fhir3_types.TFhirSearchComparatorEnum;
  a1: fhir4_types.TFhirSearchComparatorEnumList;
  t7 : fhir3_types.TFhirSearchModifierCodeEnum;
  a2: fhir4_types.TFhirSearchModifierCodeEnumList;
  t8 : fhir3_types.TFhirString;
  t9 : fhir3_resources.TFhirSearchParameterComponent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSearchParameter.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t1));
  end;
  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.code <> '') then
    tgt.code := src.code;

    // todo:
{
  for t4 in src.baseList do
  begin
    tgt.baseList.add(convertCode3(t4));
  end;
  }
  tgt.type_ := convertSearchParamType3(src.type_);

  if (src.derivedFrom <> '') then
    tgt.derivedFrom := src.derivedFrom;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.expression <> '') then
    tgt.expression := src.expression;

  if (src.xpath <> '') then
    tgt.xpath := src.xpath;

  tgt.xpathUsage := convertXPathUsageType3(src.xpathUsage);

  //todo
  {
  for t5 in src.targetList do
  begin
    tgt.targetList.add(convertCode3(t5));
  end;
  }
  a1 := [];
  for t6 := low(fhir3_types.TFhirSearchComparatorEnum) to high(fhir3_types.TFhirSearchComparatorEnum) do
    if t6 in src.comparator then
      a1 := a1 + [];
  tgt.comparator := a1;

  a2 := [];
  for t7 := low(fhir3_types.TFhirSearchModifierCodeEnum) to high(fhir3_types.TFhirSearchModifierCodeEnum) do
    if t7 in src.modifier then
      a2 := a2 + [];
  tgt.modifier := a2;

  for t8 in src.chainList do
  begin
    tgt.chainList.add(convertString3(t8));
  end;
  for t9 in src.componentList do
  begin
    tgt.componentList.add(convertSearchParameterComponentComponent3(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSearchParameter4(src : fhir4_resources.TFhirSearchParameter) : fhir3_resources.TFhirSearchParameter;
var
  tgt : fhir3_resources.TFhirSearchParameter;
  t1 : fhir4_types.TFhirContactDetail;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t6 : fhir4_types.TFhirSearchComparatorEnum;
  a1: fhir3_types.TFhirSearchComparatorEnumList;
  t7 : fhir4_types.TFhirSearchModifierCodeEnum;
  a2: fhir3_types.TFhirSearchModifierCodeEnumList;
  t8 : fhir4_types.TFhirString;
  t9 : fhir4_resources.TFhirSearchParameterComponent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSearchParameter.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t1));
  end;
  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.code <> '') then
    tgt.code := src.code;

    // todo:
    {
  for t in src.baseList do
  begin
    tgt.baseList.add(convertCode4(t));
  end;
  }
  tgt.type_ := convertSearchParamType4(src.type_);

  if (src.derivedFrom <> '') then
    tgt.derivedFrom := src.derivedFrom;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.expression <> '') then
    tgt.expression := src.expression;

  if (src.xpath <> '') then
    tgt.xpath := src.xpath;

  tgt.xpathUsage := convertXPathUsageType4(src.xpathUsage);

    // todo:
    {
  for t4 in src.targetList do
  begin
    tgt.targetList.add(convertCode4(t4));
  end;
  }
  a1 := [];
  for t6 := low(fhir4_types.TFhirSearchComparatorEnum) to high(fhir4_types.TFhirSearchComparatorEnum) do
    if t6 in src.comparator then
      a1 := a1 + [];
  tgt.comparator := a1;

  a2 := [];
  for t7 := low(fhir4_types.TFhirSearchModifierCodeEnum) to high(fhir4_types.TFhirSearchModifierCodeEnum) do
    if t7 in src.modifier then
      a2 := a2 + [];
  tgt.modifier := a2;
  for t8 in src.chainList do
  begin
    tgt.chainList.add(convertString4(t8));
  end;
  for t9 in src.componentList do
  begin
    tgt.componentList.add(convertSearchParameterComponentComponent4(t9));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSearchParameterComponentComponent3(src : fhir3_resources.TFhirSearchParameterComponent) : fhir4_resources.TFhirSearchParameterComponent;
var
  tgt : fhir4_resources.TFhirSearchParameterComponent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSearchParameterComponent.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.definition <> nil) then
    tgt.definitionElement := convertReferenceToCanonical3(src.definition);

  if (src.expression <> '') then
    tgt.expression := src.expression;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSearchParameterComponentComponent4(src : fhir4_resources.TFhirSearchParameterComponent) : fhir3_resources.TFhirSearchParameterComponent;
var
  tgt : fhir3_resources.TFhirSearchParameterComponent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSearchParameterComponent.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.definition <> '') then
    tgt.definition := convertCanonicalToReference4(src.definitionElement);

  if (src.expression <> '') then
    tgt.expression := src.expression;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

function convertSequenceType3(src : String) : fhir4_types.TFhirSequenceTypeEnum;
var
  i : integer;
begin
  i := StringArrayIndexOfSensitive(fhir4_types.CODES_TFhirSequenceTypeEnum, src);
  if i = -1 then
    result := SequenceTypeNull
  else
    result := fhir4_types.TFhirSequenceTypeEnum(i);
end;

class function TVersionConvertor_30_40.convertSequence3(src : fhir3_resources.TFhirSequence) : fhir4_resources.TFhirMolecularSequence;
var
  tgt : fhir4_resources.TFhirMolecularSequence;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_resources.TFhirSequenceVariant;
  t3 : fhir3_resources.TFhirSequenceQuality;
  t4 : fhir3_resources.TFhirSequenceRepository;
  t5 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMolecularSequence.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.type_ := convertSequenceType3(src.type_);

  tgt.coordinateSystem := src.coordinateSystem;

  if (src.patient <> nil) then
    tgt.patient := convertReference3(src.patient);

  if (src.specimen <> nil) then
    tgt.specimen := convertReference3(src.specimen);

  if (src.device <> nil) then
    tgt.device := convertReference3(src.device);

  if (src.performer <> nil) then
    tgt.performer := convertReference3(src.performer);

  if (src.quantity <> nil) then
    tgt.quantity := convertQuantity3(src.quantity);

  if (src.referenceSeq <> nil) then
    tgt.referenceSeq := convertSequenceReferenceSeqComponent3(src.referenceSeq);

  for t2 in src.variantList do
  begin
    tgt.variantList.add(convertSequenceVariantComponent3(t2));
  end;
  if (src.observedSeq <> '') then
    tgt.observedSeq := src.observedSeq;

  for t3 in src.qualityList do
  begin
    tgt.qualityList.add(convertSequenceQualityComponent3(t3));
  end;
  tgt.readCoverage := src.readCoverage;

  for t4 in src.repositoryList do
  begin
    tgt.repositoryList.add(convertSequenceRepositoryComponent3(t4));
  end;
  for t5 in src.pointerList do
  begin
    tgt.pointerList.add(convertReference3(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSequence4(src : fhir4_resources.TFhirMolecularSequence) : fhir3_resources.TFhirSequence;
var
  tgt : fhir3_resources.TFhirSequence;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_resources.TFhirMolecularSequenceVariant;
  t3 : fhir4_resources.TFhirMolecularSequenceQuality;
  t4 : fhir4_resources.TFhirMolecularSequenceRepository;
  t5 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSequence.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.type_ := fhir4_types.CODES_TFhirSequenceTypeEnum[src.type_];

  tgt.coordinateSystem := src.coordinateSystem;

  if (src.patient <> nil) then
    tgt.patient := convertReference4(src.patient);

  if (src.specimen <> nil) then
    tgt.specimen := convertReference4(src.specimen);

  if (src.device <> nil) then
    tgt.device := convertReference4(src.device);

  if (src.performer <> nil) then
    tgt.performer := convertReference4(src.performer);

  if (src.quantity <> nil) then
    tgt.quantity := convertQuantity4(src.quantity);

  if (src.referenceSeq <> nil) then
    tgt.referenceSeq := convertSequenceReferenceSeqComponent4(src.referenceSeq);

  for t2 in src.variantList do
  begin
    tgt.variantList.add(convertSequenceVariantComponent4(t2));
  end;
  if (src.observedSeq <> '') then
    tgt.observedSeq := src.observedSeq;

  for t3 in src.qualityList do
  begin
    tgt.qualityList.add(convertSequenceQualityComponent4(t3));
  end;
  tgt.readCoverage := src.readCoverage;

  for t4 in src.repositoryList do
  begin
    tgt.repositoryList.add(convertSequenceRepositoryComponent4(t4));
  end;
  for t5 in src.pointerList do
  begin
    tgt.pointerList.add(convertReference4(t5));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSequenceReferenceSeqComponent3(src : fhir3_resources.TFhirSequenceReferenceSeq) : fhir4_resources.TFhirMolecularSequenceReferenceSeq;
var
  tgt : fhir4_resources.TFhirMolecularSequenceReferenceSeq;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMolecularSequenceReferenceSeq.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.chromosome <> nil) then
    tgt.chromosome := convertCodeableConcept3(src.chromosome);

  if (src.genomeBuild <> '') then
    tgt.genomeBuild := src.genomeBuild;

  if (src.referenceSeqId <> nil) then
    tgt.referenceSeqId := convertCodeableConcept3(src.referenceSeqId);

  if (src.referenceSeqPointer <> nil) then
    tgt.referenceSeqPointer := convertReference3(src.referenceSeqPointer);

  if (src.referenceSeqString <> '') then
    tgt.referenceSeqString := src.referenceSeqString;

  tgt.windowStart := src.windowStart;

  tgt.windowEnd := src.windowEnd;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSequenceReferenceSeqComponent4(src : fhir4_resources.TFhirMolecularSequenceReferenceSeq) : fhir3_resources.TFhirSequenceReferenceSeq;
var
  tgt : fhir3_resources.TFhirSequenceReferenceSeq;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSequenceReferenceSeq.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.chromosome <> nil) then
    tgt.chromosome := convertCodeableConcept4(src.chromosome);

  if (src.genomeBuild <> '') then
    tgt.genomeBuild := src.genomeBuild;

  if (src.referenceSeqId <> nil) then
    tgt.referenceSeqId := convertCodeableConcept4(src.referenceSeqId);

  if (src.referenceSeqPointer <> nil) then
    tgt.referenceSeqPointer := convertReference4(src.referenceSeqPointer);

  if (src.referenceSeqString <> '') then
    tgt.referenceSeqString := src.referenceSeqString;

  tgt.windowStart := src.windowStart;

  tgt.windowEnd := src.windowEnd;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSequenceVariantComponent3(src : fhir3_resources.TFhirSequenceVariant) : fhir4_resources.TFhirMolecularSequenceVariant;
var
  tgt : fhir4_resources.TFhirMolecularSequenceVariant;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMolecularSequenceVariant.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.start := src.start;

  tgt.end_ := src.end_;

  if (src.observedAllele <> '') then
    tgt.observedAllele := src.observedAllele;

  if (src.referenceAllele <> '') then
    tgt.referenceAllele := src.referenceAllele;

  if (src.cigar <> '') then
    tgt.cigar := src.cigar;

  if (src.variantPointer <> nil) then
    tgt.variantPointer := convertReference3(src.variantPointer);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSequenceVariantComponent4(src : fhir4_resources.TFhirMolecularSequenceVariant) : fhir3_resources.TFhirSequenceVariant;
var
  tgt : fhir3_resources.TFhirSequenceVariant;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSequenceVariant.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.start := src.start;

  tgt.end_ := src.end_;

  if (src.observedAllele <> '') then
    tgt.observedAllele := src.observedAllele;

  if (src.referenceAllele <> '') then
    tgt.referenceAllele := src.referenceAllele;

  if (src.cigar <> '') then
    tgt.cigar := src.cigar;

  if (src.variantPointer <> nil) then
    tgt.variantPointer := convertReference4(src.variantPointer);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSequenceQualityComponent3(src : fhir3_resources.TFhirSequenceQuality) : fhir4_resources.TFhirMolecularSequenceQuality;
var
  tgt : fhir4_resources.TFhirMolecularSequenceQuality;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMolecularSequenceQuality.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_ := convertQualityType3(src.type_);

  if (src.standardSequence <> nil) then
    tgt.standardSequence := convertCodeableConcept3(src.standardSequence);

  tgt.start := src.start;

  tgt.end_ := src.end_;

  tgt.score := convertQuantity3(src.score);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept3(src.method);

  tgt.truthTP := src.truthTP;

  tgt.queryTP := src.queryTP;
  tgt.truthFN := src.truthFN;
  tgt.queryFP := src.queryFP;
  tgt.gtFP := src.gtFP;
  tgt.precision := src.precision;
  tgt.recall := src.recall;
  tgt.fScore_ := src.fScore_;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSequenceQualityComponent4(src : fhir4_resources.TFhirMolecularSequenceQuality) : fhir3_resources.TFhirSequenceQuality;
var
  tgt : fhir3_resources.TFhirSequenceQuality;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSequenceQuality.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := convertQualityType4(src.type_);

  if (src.standardSequence <> nil) then
    tgt.standardSequence := convertCodeableConcept4(src.standardSequence);

  tgt.start := src.start;

  tgt.end_ := src.end_;

  tgt.score := convertQuantity4(src.score);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept4(src.method);

  tgt.truthTP := src.truthTP;
  tgt.queryTP := src.queryTP;
  tgt.truthFN := src.truthFN;
  tgt.queryFP := src.queryFP;
  tgt.gtFP := src.gtFP;
  tgt.precision := src.precision;
  tgt.recall := src.recall;
  tgt.fScore_ := src.fScore_;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSequenceRepositoryComponent3(src : fhir3_resources.TFhirSequenceRepository) : fhir4_resources.TFhirMolecularSequenceRepository;
var
  tgt : fhir4_resources.TFhirMolecularSequenceRepository;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirMolecularSequenceRepository.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_ := convertRepositoryType3(src.type_);

  if (src.url <> '') then
    tgt.url := src.url;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.datasetId <> '') then
    tgt.datasetId := src.datasetId;

  if (src.variantsetId <> '') then
    tgt.variantsetId := src.variantsetId;

  if (src.readsetId <> '') then
    tgt.readsetId := src.readsetId;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSequenceRepositoryComponent4(src : fhir4_resources.TFhirMolecularSequenceRepository) : fhir3_resources.TFhirSequenceRepository;
var
  tgt : fhir3_resources.TFhirSequenceRepository;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSequenceRepository.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := convertRepositoryType4(src.type_);

  if (src.url <> '') then
    tgt.url := src.url;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.datasetId <> '') then
    tgt.datasetId := src.datasetId;

  if (src.variantsetId <> '') then
    tgt.variantsetId := src.variantsetId;

  if (src.readsetId <> '') then
    tgt.readsetId := src.readsetId;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSlot3(src : fhir3_resources.TFhirSlot) : fhir4_resources.TFhirSlot;
var
  tgt : fhir4_resources.TFhirSlot;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSlot.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  if (src.serviceCategory <> nil) then
    tgt.serviceCategoryList.add(convertCodeableConcept3(src.ServiceCategory));

  for t2 in src.serviceTypeList do
  begin
    tgt.serviceTypeList.add(convertCodeableConcept3(t2));
  end;
  for t3 in src.specialtyList do
  begin
    tgt.specialtyList.add(convertCodeableConcept3(t3));
  end;
  if (src.appointmentType <> nil) then
    tgt.appointmentType := convertCodeableConcept3(src.appointmentType);

  if (src.schedule <> nil) then
    tgt.schedule := convertReference3(src.schedule);

  tgt.status := convertSlotStatus3(src.status);

  tgt.start := src.start;

  tgt.end_ := src.end_;

  tgt.overbooked := src.overbooked;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSlot4(src : fhir4_resources.TFhirSlot) : fhir3_resources.TFhirSlot;
var
  tgt : fhir3_resources.TFhirSlot;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSlot.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  if (src.serviceCategoryList.count > 0) then
    tgt.serviceCategory := convertCodeableConcept4(src.serviceCategoryList[0]);

  for t2 in src.serviceTypeList do
  begin
    tgt.serviceTypeList.add(convertCodeableConcept4(t2));
  end;
  for t3 in src.specialtyList do
  begin
    tgt.specialtyList.add(convertCodeableConcept4(t3));
  end;
  if (src.appointmentType <> nil) then
    tgt.appointmentType := convertCodeableConcept4(src.appointmentType);

  if (src.schedule <> nil) then
    tgt.schedule := convertReference4(src.schedule);

  tgt.status := convertSlotStatus4(src.status);

  tgt.start := src.start;

  tgt.end_ := src.end_;

  tgt.overbooked := src.overbooked;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSpecimen3(src : fhir3_resources.TFhirSpecimen) : fhir4_resources.TFhirSpecimen;
var
  tgt : fhir4_resources.TFhirSpecimen;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_types.TFhirReference;
  t4 : fhir3_resources.TFhirSpecimenProcessing;
  t5 : fhir3_resources.TFhirSpecimenContainer;
  t6 : fhir3_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSpecimen.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  if (src.accessionIdentifier <> nil) then
    tgt.accessionIdentifier := convertIdentifier3(src.accessionIdentifier);

  tgt.status := convertSpecimenStatus3(src.status);

  tgt.type_ := convertCodeableConcept3(src.type_);

  if (src.subject <> nil) then
    tgt.subject := convertReference3(src.subject);

  tgt.receivedTime := src.receivedTime.link;

  for t2 in src.parentList do
  begin
    tgt.parentList.add(convertReference3(t2));
  end;
  for t3 in src.requestList do
  begin
    tgt.requestList.add(convertReference3(t3));
  end;
  if (src.collection <> nil) then
    tgt.collection := convertSpecimenCollectionComponent3(src.collection);

  for t4 in src.processingList do
  begin
    tgt.processingList.add(convertSpecimenProcessingComponent3(t4));
  end;
  for t5 in src.containerList do
  begin
    tgt.containerList.add(convertSpecimenContainerComponent3(t5));
  end;
  for t6 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation3(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSpecimen4(src : fhir4_resources.TFhirSpecimen) : fhir3_resources.TFhirSpecimen;
var
  tgt : fhir3_resources.TFhirSpecimen;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirReference;
  t3 : fhir4_types.TFhirReference;
  t4 : fhir4_resources.TFhirSpecimenProcessing;
  t5 : fhir4_resources.TFhirSpecimenContainer;
  t6 : fhir4_types.TFhirAnnotation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSpecimen.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  if (src.accessionIdentifier <> nil) then
    tgt.accessionIdentifier := convertIdentifier4(src.accessionIdentifier);

  tgt.status := convertSpecimenStatus4(src.status);

  tgt.type_ := convertCodeableConcept4(src.type_);

  if (src.subject <> nil) then
    tgt.subject := convertReference4(src.subject);

  tgt.receivedTime := src.receivedTime.link;

  for t2 in src.parentList do
  begin
    tgt.parentList.add(convertReference4(t2));
  end;
  for t3 in src.requestList do
  begin
    tgt.requestList.add(convertReference4(t3));
  end;
  if (src.collection <> nil) then
    tgt.collection := convertSpecimenCollectionComponent4(src.collection);

  for t4 in src.processingList do
  begin
    tgt.processingList.add(convertSpecimenProcessingComponent4(t4));
  end;
  for t5 in src.containerList do
  begin
    tgt.containerList.add(convertSpecimenContainerComponent4(t5));
  end;
  for t6 in src.noteList do
  begin
    tgt.noteList.add(convertAnnotation4(t6));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSpecimenCollectionComponent3(src : fhir3_resources.TFhirSpecimenCollection) : fhir4_resources.TFhirSpecimenCollection;
var
  tgt : fhir4_resources.TFhirSpecimenCollection;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSpecimenCollection.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.collector <> nil) then
    tgt.collector := convertReference3(src.collector);

  if (src.collected <> nil) then
    tgt.collected := convertType3(src.collected);

  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity3(src.quantity);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept3(src.method);

  if (src.bodySite <> nil) then
    tgt.bodySite := convertCodeableConcept3(src.bodySite);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSpecimenCollectionComponent4(src : fhir4_resources.TFhirSpecimenCollection) : fhir3_resources.TFhirSpecimenCollection;
var
  tgt : fhir3_resources.TFhirSpecimenCollection;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSpecimenCollection.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.collector <> nil) then
    tgt.collector := convertReference4(src.collector);

  if (src.collected <> nil) then
    tgt.collected := convertType4(src.collected);

  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity4(src.quantity);

  if (src.method <> nil) then
    tgt.method := convertCodeableConcept4(src.method);

  if (src.bodySite <> nil) then
    tgt.bodySite := convertCodeableConcept4(src.bodySite);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSpecimenProcessingComponent3(src : fhir3_resources.TFhirSpecimenProcessing) : fhir4_resources.TFhirSpecimenProcessing;
var
  tgt : fhir4_resources.TFhirSpecimenProcessing;
  t : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSpecimenProcessing.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.description <> '') then
    tgt.description := src.description;

  if (src.procedure_ <> nil) then
    tgt.procedure_ := convertCodeableConcept3(src.procedure_);

  for t in src.additiveList do
  begin
    tgt.additiveList.add(convertReference3(t));
  end;
  if (src.time <> nil) then
    tgt.time := convertType3(src.time);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSpecimenProcessingComponent4(src : fhir4_resources.TFhirSpecimenProcessing) : fhir3_resources.TFhirSpecimenProcessing;
var
  tgt : fhir3_resources.TFhirSpecimenProcessing;
  t : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSpecimenProcessing.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.description <> '') then
    tgt.description := src.description;

  if (src.procedure_ <> nil) then
    tgt.procedure_ := convertCodeableConcept4(src.procedure_);

  for t in src.additiveList do
  begin
    tgt.additiveList.add(convertReference4(t));
  end;
  if (src.time <> nil) then
    tgt.time := convertType4(src.time);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSpecimenContainerComponent3(src : fhir3_resources.TFhirSpecimenContainer) : fhir4_resources.TFhirSpecimenContainer;
var
  tgt : fhir4_resources.TFhirSpecimenContainer;
  t : fhir3_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSpecimenContainer.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  tgt.type_ := convertCodeableConcept3(src.type_);

  if (src.capacity <> nil) then
    tgt.capacity := convertSimpleQuantity3(src.capacity);

  if (src.specimenQuantity <> nil) then
    tgt.specimenQuantity := convertSimpleQuantity3(src.specimenQuantity);

  if (src.additive <> nil) then
    tgt.additive := convertType3(src.additive);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSpecimenContainerComponent4(src : fhir4_resources.TFhirSpecimenContainer) : fhir3_resources.TFhirSpecimenContainer;
var
  tgt : fhir3_resources.TFhirSpecimenContainer;
  t : fhir4_types.TFhirIdentifier;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSpecimenContainer.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  tgt.type_ := convertCodeableConcept4(src.type_);

  if (src.capacity <> nil) then
    tgt.capacity := convertSimpleQuantity4(src.capacity);

  if (src.specimenQuantity <> nil) then
    tgt.specimenQuantity := convertSimpleQuantity4(src.specimenQuantity);

  if (src.additive <> nil) then
    tgt.additive := convertType4(src.additive);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureDefinition3(src : fhir3_resources.TFhirStructureDefinition) : fhir4_resources.TFhirStructureDefinition;
var
  tgt : fhir4_resources.TFhirStructureDefinition;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirContactDetail;
  t3 : fhir3_types.TFhirUsageContext;
  t4 : fhir3_types.TFhirCodeableConcept;
  t5 : fhir3_types.TFhirCoding;
  t6 : fhir3_resources.TFhirStructureDefinitionMapping;
  t7 : fhir3_types.TFhirString;
  ec : fhir4_resources.TFhirStructureDefinitionContext;
  t8 : fhir3_types.TFhirString;
  ed : fhir4_types.TFhirElementDefinition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureDefinition.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t2));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t3 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t3));
  end;
  for t4 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t4));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t5 in src.keywordList do
  begin
    tgt.keywordList.add(convertCoding3(t5));
  end;
  if (src.fhirVersion <> '') then
    tgt.fhirVersion := fhir4_types.TFhirFHIRVersionEnum(StringArrayIndexOfSensitive(fhir4_types.CODES_TFhirFHIRVersionEnum, src.fhirVersion));

  for t6 in src.mappingList do
  begin
    tgt.mappingList.add(convertStructureDefinitionMappingComponent3(t6));
  end;
  tgt.kind := convertStructureDefinitionKind3(src.kind);

  tgt.abstract := src.abstract;

  for t7 in src.contextList do
  begin
     ec := tgt.ContextList.Append;
     ec.type_ := convertExtensionContext3(src.contextType);
     ec.expression := t7.value;
  end;
  for t8 in src.contextInvariantList do
  begin
    tgt.contextInvariantList.add(convertString3(t8));
  end;
  if (src.type_ <> '') then
    tgt.type_ := src.type_;

  if (src.baseDefinition <> '') then
    tgt.baseDefinition := src.baseDefinition;

  tgt.derivation := convertTypeDerivationRule3(src.derivation);

  if (src.snapshot <> nil) then
    tgt.snapshot := convertStructureDefinitionSnapshotComponent3(src.snapshot);

  if (src.differential <> nil) then
    tgt.differential := convertStructureDefinitionDifferentialComponent3(src.differential);

  if (tgt.Derivation = fhir4_types.TypeDerivationRuleSpecialization) then
  begin
    for ed in tgt.Snapshot.elementList do
    begin
      if (ed.Base = nil) then
      begin
        ed.base := fhir4_types.TFhirElementDefinitionBase.Create;
        ed.Base.Path := ed.Path;
        ed.Base.Min := ed.Min;
        ed.Base.max := ed.max;
      end;
    end;
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureDefinition4(src : fhir4_resources.TFhirStructureDefinition) : fhir3_resources.TFhirStructureDefinition;
var
  tgt : fhir3_resources.TFhirStructureDefinition;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirContactDetail;
  t3 : fhir4_types.TFhirUsageContext;
  t4 : fhir4_types.TFhirCodeableConcept;
  t5 : fhir4_types.TFhirCoding;
  t6 : fhir4_resources.TFhirStructureDefinitionMapping;
  t7 : fhir4_resources.TFhirStructureDefinitionContext;
  t8 : fhir4_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureDefinition.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t2));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t3 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t3));
  end;
  for t4 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t4));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t5 in src.keywordList do
  begin
    tgt.keywordList.add(convertCoding4(t5));
  end;
  if (src.fhirVersion <> FHIRVersionNull) then
    tgt.fhirVersion := fhir4_types.CODES_TFhirFHIRVersionEnum[src.fhirVersion];

  for t6 in src.mappingList do
  begin
    tgt.mappingList.add(convertStructureDefinitionMappingComponent4(t6));
  end;
  tgt.kind := convertStructureDefinitionKind4(src.kind);

  tgt.abstract := src.abstract;

  for t7 in src.contextList do
  begin
    if (tgt.ContextType <> fhir3_types.ExtensionContextNull) then
    begin
      tgt.contextType := convertExtensionContext4(t7.type_);
      tgt.contextList.add(t7.expression);
    end;
  end;
  for t8 in src.contextInvariantList do
  begin
    tgt.contextInvariantList.add(convertString4(t8));
  end;
  if (src.type_ <> '') then
    tgt.type_ := src.type_;

  if (src.baseDefinition <> '') then
    tgt.baseDefinition := src.baseDefinition;

  tgt.derivation := convertTypeDerivationRule4(src.derivation);

  if (src.snapshot <> nil) then
    tgt.snapshot := convertStructureDefinitionSnapshotComponent4(src.snapshot);

  if (src.differential <> nil) then
    tgt.differential := convertStructureDefinitionDifferentialComponent4(src.differential);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureDefinitionMappingComponent3(src : fhir3_resources.TFhirStructureDefinitionMapping) : fhir4_resources.TFhirStructureDefinitionMapping;
var
  tgt : fhir4_resources.TFhirStructureDefinitionMapping;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureDefinitionMapping.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.identity <> '') then
    tgt.identity := src.identity;

  if (src.uri <> '') then
    tgt.uri := src.uri;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureDefinitionMappingComponent4(src : fhir4_resources.TFhirStructureDefinitionMapping) : fhir3_resources.TFhirStructureDefinitionMapping;
var
  tgt : fhir3_resources.TFhirStructureDefinitionMapping;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureDefinitionMapping.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.identity <> '') then
    tgt.identity := src.identity;

  if (src.uri <> '') then
    tgt.uri := src.uri;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.comment <> '') then
    tgt.comment := src.comment;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureDefinitionSnapshotComponent3(src : fhir3_resources.TFhirStructureDefinitionSnapshot) : fhir4_resources.TFhirStructureDefinitionSnapshot;
var
  tgt : fhir4_resources.TFhirStructureDefinitionSnapshot;
  t : fhir3_types.TFhirElementDefinition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureDefinitionSnapshot.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.elementList do
  begin
    tgt.elementList.add(convertElementDefinition3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureDefinitionSnapshotComponent4(src : fhir4_resources.TFhirStructureDefinitionSnapshot) : fhir3_resources.TFhirStructureDefinitionSnapshot;
var
  tgt : fhir3_resources.TFhirStructureDefinitionSnapshot;
  t : fhir4_types.TFhirElementDefinition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureDefinitionSnapshot.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.elementList do
  begin
    tgt.elementList.add(convertElementDefinition4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureDefinitionDifferentialComponent3(src : fhir3_resources.TFhirStructureDefinitionDifferential) : fhir4_resources.TFhirStructureDefinitionDifferential;
var
  tgt : fhir4_resources.TFhirStructureDefinitionDifferential;
  t : fhir3_types.TFhirElementDefinition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureDefinitionDifferential.Create();
  try
  copyBackboneElement3(src, tgt);
  for t in src.elementList do
  begin
    tgt.elementList.add(convertElementDefinition3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureDefinitionDifferentialComponent4(src : fhir4_resources.TFhirStructureDefinitionDifferential) : fhir3_resources.TFhirStructureDefinitionDifferential;
var
  tgt : fhir3_resources.TFhirStructureDefinitionDifferential;
  t : fhir4_types.TFhirElementDefinition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureDefinitionDifferential.Create();
  try
  copyBackboneElement4(src, tgt);
  for t in src.elementList do
  begin
    tgt.elementList.add(convertElementDefinition4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMap3(src : fhir3_resources.TFhirStructureMap) : fhir4_resources.TFhirStructureMap;
var
  tgt : fhir4_resources.TFhirStructureMap;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirContactDetail;
  t3 : fhir3_types.TFhirUsageContext;
  t4 : fhir3_types.TFhirCodeableConcept;
  t5 : fhir3_resources.TFhirStructureMapStructure;
  t6 : fhir3_types.TFhirUri;
  t7 : fhir3_resources.TFhirStructureMapGroup;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureMap.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t2));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t3 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t3));
  end;
  for t4 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t4));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t5 in src.structureList do
  begin
    tgt.structureList.add(convertStructureMapStructureComponent3(t5));
  end;
  for t6 in src.importList do
  begin
    tgt.importList.add(convertUri3(t6));
  end;
  for t7 in src.groupList do
  begin
    tgt.groupList.add(convertStructureMapGroupComponent3(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMap4(src : fhir4_resources.TFhirStructureMap) : fhir3_resources.TFhirStructureMap;
var
  tgt : fhir3_resources.TFhirStructureMap;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirContactDetail;
  t3 : fhir4_types.TFhirUsageContext;
  t4 : fhir4_types.TFhirCodeableConcept;
  t5 : fhir4_resources.TFhirStructureMapStructure;
  t6 : fhir4_types.TFhirUri;
  t7 : fhir4_resources.TFhirStructureMapGroup;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureMap.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t2));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t3 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t3));
  end;
  for t4 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t4));
  end;
  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t5 in src.structureList do
  begin
    tgt.structureList.add(convertStructureMapStructureComponent4(t5));
  end;
  for t6 in src.importList do
  begin
    tgt.importList.add(convertUri4(t6));
  end;
  for t7 in src.groupList do
  begin
    tgt.groupList.add(convertStructureMapGroupComponent4(t7));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapStructureComponent3(src : fhir3_resources.TFhirStructureMapStructure) : fhir4_resources.TFhirStructureMapStructure;
var
  tgt : fhir4_resources.TFhirStructureMapStructure;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureMapStructure.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  tgt.mode := convertStructureMapModelMode3(src.mode);

  if (src.alias <> '') then
    tgt.alias := src.alias;

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapStructureComponent4(src : fhir4_resources.TFhirStructureMapStructure) : fhir3_resources.TFhirStructureMapStructure;
var
  tgt : fhir3_resources.TFhirStructureMapStructure;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureMapStructure.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  tgt.mode := convertStructureMapModelMode4(src.mode);

  if (src.alias <> '') then
    tgt.alias := src.alias;

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupComponent3(src : fhir3_resources.TFhirStructureMapGroup) : fhir4_resources.TFhirStructureMapGroup;
var
  tgt : fhir4_resources.TFhirStructureMapGroup;
  t1 : fhir3_resources.TFhirStructureMapGroupInput;
  t2 : fhir3_resources.TFhirStructureMapGroupRule;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureMapGroup.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.extends <> '') then
    tgt.extends := src.extends;

  tgt.typeMode := convertStructureMapGroupTypeMode3(src.typeMode);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  for t1 in src.inputList do
  begin
    tgt.inputList.add(convertStructureMapGroupInputComponent3(t1));
  end;
  for t2 in src.ruleList do
  begin
    tgt.ruleList.add(convertStructureMapGroupRuleComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupComponent4(src : fhir4_resources.TFhirStructureMapGroup) : fhir3_resources.TFhirStructureMapGroup;
var
  tgt : fhir3_resources.TFhirStructureMapGroup;
  t1 : fhir4_resources.TFhirStructureMapGroupInput;
  t2 : fhir4_resources.TFhirStructureMapGroupRule;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureMapGroup.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.extends <> '') then
    tgt.extends := src.extends;

  tgt.typeMode := convertStructureMapGroupTypeMode4(src.typeMode);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  for t1 in src.inputList do
  begin
    tgt.inputList.add(convertStructureMapGroupInputComponent4(t1));
  end;
  for t2 in src.ruleList do
  begin
    tgt.ruleList.add(convertStructureMapGroupRuleComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupInputComponent3(src : fhir3_resources.TFhirStructureMapGroupInput) : fhir4_resources.TFhirStructureMapGroupInput;
var
  tgt : fhir4_resources.TFhirStructureMapGroupInput;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureMapGroupInput.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.type_ <> '') then
    tgt.type_ := src.type_;

  tgt.mode := convertStructureMapInputMode3(src.mode);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupInputComponent4(src : fhir4_resources.TFhirStructureMapGroupInput) : fhir3_resources.TFhirStructureMapGroupInput;
var
  tgt : fhir3_resources.TFhirStructureMapGroupInput;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureMapGroupInput.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.type_ <> '') then
    tgt.type_ := src.type_;

  tgt.mode := convertStructureMapInputMode4(src.mode);

  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupRuleComponent3(src : fhir3_resources.TFhirStructureMapGroupRule) : fhir4_resources.TFhirStructureMapGroupRule;
var
  tgt : fhir4_resources.TFhirStructureMapGroupRule;
  t1 : fhir3_resources.TFhirStructureMapGroupRuleSource;
  t2 : fhir3_resources.TFhirStructureMapGroupRuleTarget;
  t3 : fhir3_resources.TFhirStructureMapGroupRule;
  t4 : fhir3_resources.TFhirStructureMapGroupRuleDependent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureMapGroupRule.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  for t1 in src.sourceList do
  begin
    tgt.sourceList.add(convertStructureMapGroupRuleSourceComponent3(t1));
  end;
  for t2 in src.targetList do
  begin
    tgt.targetList.add(convertStructureMapGroupRuleTargetComponent3(t2));
  end;
  for t3 in src.ruleList do
  begin
    tgt.ruleList.add(convertStructureMapGroupRuleComponent3(t3));
  end;
  for t4 in src.dependentList do
  begin
    tgt.dependentList.add(convertStructureMapGroupRuleDependentComponent3(t4));
  end;
  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupRuleComponent4(src : fhir4_resources.TFhirStructureMapGroupRule) : fhir3_resources.TFhirStructureMapGroupRule;
var
  tgt : fhir3_resources.TFhirStructureMapGroupRule;
  t1 : fhir4_resources.TFhirStructureMapGroupRuleSource;
  t2 : fhir4_resources.TFhirStructureMapGroupRuleTarget;
  t3 : fhir4_resources.TFhirStructureMapGroupRule;
  t4 : fhir4_resources.TFhirStructureMapGroupRuleDependent;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureMapGroupRule.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  for t1 in src.sourceList do
  begin
    tgt.sourceList.add(convertStructureMapGroupRuleSourceComponent4(t1));
  end;
  for t2 in src.targetList do
  begin
    tgt.targetList.add(convertStructureMapGroupRuleTargetComponent4(t2));
  end;
  for t3 in src.ruleList do
  begin
    tgt.ruleList.add(convertStructureMapGroupRuleComponent4(t3));
  end;
  for t4 in src.dependentList do
  begin
    tgt.dependentList.add(convertStructureMapGroupRuleDependentComponent4(t4));
  end;
  if (src.documentation <> '') then
    tgt.documentation := src.documentation;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupRuleSourceComponent3(src : fhir3_resources.TFhirStructureMapGroupRuleSource) : fhir4_resources.TFhirStructureMapGroupRuleSource;
var
  tgt : fhir4_resources.TFhirStructureMapGroupRuleSource;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureMapGroupRuleSource.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.context <> '') then
    tgt.context := src.context;

  tgt.min := src.min;

  if (src.max <> '') then
    tgt.max := src.max;

  if (src.type_ <> '') then
    tgt.type_ := src.type_;

  if (src.defaultValue <> nil) then
    tgt.defaultValue := convertType3(src.defaultValue);

  if (src.element <> '') then
    tgt.element := src.element;

  tgt.listMode := convertStructureMapSourceListMode3(src.listMode);

  if (src.variable <> '') then
    tgt.variable := src.variable;

  if (src.condition <> '') then
    tgt.condition := src.condition;

  if (src.check <> '') then
    tgt.check := src.check;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupRuleSourceComponent4(src : fhir4_resources.TFhirStructureMapGroupRuleSource) : fhir3_resources.TFhirStructureMapGroupRuleSource;
var
  tgt : fhir3_resources.TFhirStructureMapGroupRuleSource;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureMapGroupRuleSource.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.context <> '') then
    tgt.context := src.context;

  tgt.min := src.min;

  if (src.max <> '') then
    tgt.max := src.max;

  if (src.type_ <> '') then
    tgt.type_ := src.type_;

  if (src.defaultValue <> nil) then
    tgt.defaultValue := convertType4(src.defaultValue);

  if (src.element <> '') then
    tgt.element := src.element;

   tgt.listMode := convertStructureMapSourceListMode4(src.listMode);

  if (src.variable <> '') then
    tgt.variable := src.variable;

  if (src.condition <> '') then
    tgt.condition := src.condition;

  if (src.check <> '') then
    tgt.check := src.check;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupRuleTargetComponent3(src : fhir3_resources.TFhirStructureMapGroupRuleTarget) : fhir4_resources.TFhirStructureMapGroupRuleTarget;
var
  tgt : fhir4_resources.TFhirStructureMapGroupRuleTarget;
  t1 : fhir3_types.TFhirMapTargetListModeEnum;
  a : fhir4_types.TFhirMapTargetListModeEnumList;
  t2 : fhir3_resources.TFhirStructureMapGroupRuleTargetParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureMapGroupRuleTarget.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.context <> '') then
    tgt.context := src.context;

  tgt.contextType := convertStructureMapContextType3(src.contextType);

  if (src.element <> '') then
    tgt.element := src.element;

  if (src.variable <> '') then
    tgt.variable := src.variable;

  a := [];
  for t1 := low(fhir3_types.TFhirMapTargetListModeEnum) to high(fhir3_types.TFhirMapTargetListModeEnum) do
    if t1 in src.listMode then
      a := a + [convertStructureMapTargetListMode3(t1)];
  tgt.listMode := a;

  if (src.listRuleId <> '') then
    tgt.listRuleId := src.listRuleId;

  tgt.transform := convertStructureMapTransform3(src.transform);

  for t2 in src.parameterList do
  begin
    tgt.parameterList.add(convertStructureMapGroupRuleTargetParameterComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupRuleTargetComponent4(src : fhir4_resources.TFhirStructureMapGroupRuleTarget) : fhir3_resources.TFhirStructureMapGroupRuleTarget;
var
  tgt : fhir3_resources.TFhirStructureMapGroupRuleTarget;
  t1 : fhir4_types.TFhirMapTargetListModeEnum;
  a : fhir3_types.TFhirMapTargetListModeEnumList;
  t2 : fhir4_resources.TFhirStructureMapGroupRuleTargetParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureMapGroupRuleTarget.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.context <> '') then
    tgt.context := src.context;

  tgt.contextType := convertStructureMapContextType4(src.contextType);

  if (src.element <> '') then
    tgt.element := src.element;

  if (src.variable <> '') then
    tgt.variable := src.variable;

  a := [];
  for t1 := low(fhir4_types.TFhirMapTargetListModeEnum) to high(fhir4_types.TFhirMapTargetListModeEnum) do
    if t1 in src.listMode then
      a := a + [convertStructureMapTargetListMode4(t1)];
  tgt.listMode := a;
  if (src.listRuleId <> '') then
    tgt.listRuleId := src.listRuleId;

  tgt.transform := convertStructureMapTransform4(src.transform);

  for t2 in src.parameterList do
  begin
    tgt.parameterList.add(convertStructureMapGroupRuleTargetParameterComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupRuleTargetParameterComponent3(src : fhir3_resources.TFhirStructureMapGroupRuleTargetParameter) : fhir4_resources.TFhirStructureMapGroupRuleTargetParameter;
var
  tgt : fhir4_resources.TFhirStructureMapGroupRuleTargetParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureMapGroupRuleTargetParameter.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupRuleTargetParameterComponent4(src : fhir4_resources.TFhirStructureMapGroupRuleTargetParameter) : fhir3_resources.TFhirStructureMapGroupRuleTargetParameter;
var
  tgt : fhir3_resources.TFhirStructureMapGroupRuleTargetParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureMapGroupRuleTargetParameter.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupRuleDependentComponent3(src : fhir3_resources.TFhirStructureMapGroupRuleDependent) : fhir4_resources.TFhirStructureMapGroupRuleDependent;
var
  tgt : fhir4_resources.TFhirStructureMapGroupRuleDependent;
  t : fhir3_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirStructureMapGroupRuleDependent.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  for t in src.variableList do
  begin
    tgt.variableList.add(convertString3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertStructureMapGroupRuleDependentComponent4(src : fhir4_resources.TFhirStructureMapGroupRuleDependent) : fhir3_resources.TFhirStructureMapGroupRuleDependent;
var
  tgt : fhir3_resources.TFhirStructureMapGroupRuleDependent;
  t : fhir4_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirStructureMapGroupRuleDependent.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  for t in src.variableList do
  begin
    tgt.variableList.add(convertString4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSubscription3(src : fhir3_resources.TFhirSubscription) : fhir4_resources.TFhirSubscription;
var
  tgt : fhir4_resources.TFhirSubscription;
  t1 : fhir3_types.TFhirContactPoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSubscription.Create();
  try
  copyDomainResource3(src, tgt);
  tgt.status := convertSubscriptionStatus3(src.status);

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactPoint3(t1));
  end;
  tgt.end_ := src.end_;

  if (src.reason <> '') then
    tgt.reason := src.reason;

  if (src.criteria <> '') then
    tgt.criteria := src.criteria;

  if (src.error <> '') then
    tgt.error := src.error;

  if (src.channel <> nil) then
    tgt.channel := convertSubscriptionChannelComponent3(src.channel);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSubscription4(src : fhir4_resources.TFhirSubscription) : fhir3_resources.TFhirSubscription;
var
  tgt : fhir3_resources.TFhirSubscription;
  t1 : fhir4_types.TFhirContactPoint;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSubscription.Create();
  try
  copyDomainResource4(src, tgt);
  tgt.status := convertSubscriptionStatus4(src.status);

  for t1 in src.contactList do
  begin
    tgt.contactList.add(convertContactPoint4(t1));
  end;
  tgt.end_ := src.end_;

  if (src.reason <> '') then
    tgt.reason := src.reason;

  if (src.criteria <> '') then
    tgt.criteria := src.criteria;

  if (src.error <> '') then
    tgt.error := src.error;

  if (src.channel <> nil) then
    tgt.channel := convertSubscriptionChannelComponent4(src.channel);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSubscriptionChannelComponent3(src : fhir3_resources.TFhirSubscriptionChannel) : fhir4_resources.TFhirSubscriptionChannel;
var
  tgt : fhir4_resources.TFhirSubscriptionChannel;
  t : fhir3_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSubscriptionChannel.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_ := convertSubscriptionChannelType3(src.type_);

  if (src.endpoint <> '') then
    tgt.endpoint := src.endpoint;

  if (src.payload <> '') then
    tgt.payload := src.payload;

  for t in src.headerList do
  begin
    tgt.headerList.add(convertString3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSubscriptionChannelComponent4(src : fhir4_resources.TFhirSubscriptionChannel) : fhir3_resources.TFhirSubscriptionChannel;
var
  tgt : fhir3_resources.TFhirSubscriptionChannel;
  t : fhir4_types.TFhirString;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSubscriptionChannel.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := convertSubscriptionChannelType4(src.type_);

  if (src.endpoint <> '') then
    tgt.endpoint := src.endpoint;

  if (src.payload <> '') then
    tgt.payload := src.payload;

  for t in src.headerList do
  begin
    tgt.headerList.add(convertString4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSubstance3(src : fhir3_resources.TFhirSubstance) : fhir4_resources.TFhirSubstance;
var
  tgt : fhir4_resources.TFhirSubstance;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_resources.TFhirSubstanceInstance;
  t4 : fhir3_resources.TFhirSubstanceIngredient;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSubstance.Create();
  try
  copyDomainResource3(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  tgt.status := convertFHIRSubstanceStatus3(src.status);

  for t2 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept3(t2));
  end;
  tgt.code := convertCodeableConcept3(src.code);

  if (src.description <> '') then
    tgt.description := src.description;

  for t3 in src.instanceList do
  begin
    tgt.instanceList.add(convertSubstanceInstanceComponent3(t3));
  end;
  for t4 in src.ingredientList do
  begin
    tgt.ingredientList.add(convertSubstanceIngredientComponent3(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSubstance4(src : fhir4_resources.TFhirSubstance) : fhir3_resources.TFhirSubstance;
var
  tgt : fhir3_resources.TFhirSubstance;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_resources.TFhirSubstanceInstance;
  t4 : fhir4_resources.TFhirSubstanceIngredient;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSubstance.Create();
  try
  copyDomainResource4(src, tgt);
  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  tgt.status := convertFHIRSubstanceStatus4(src.status);

  for t2 in src.categoryList do
  begin
    tgt.categoryList.add(convertCodeableConcept4(t2));
  end;
  tgt.code := convertCodeableConcept4(src.code);

  if (src.description <> '') then
    tgt.description := src.description;

  for t3 in src.instanceList do
  begin
    tgt.instanceList.add(convertSubstanceInstanceComponent4(t3));
  end;
  for t4 in src.ingredientList do
  begin
    tgt.ingredientList.add(convertSubstanceIngredientComponent4(t4));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSubstanceInstanceComponent3(src : fhir3_resources.TFhirSubstanceInstance) : fhir4_resources.TFhirSubstanceInstance;
var
  tgt : fhir4_resources.TFhirSubstanceInstance;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSubstanceInstance.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier3(src.identifier);

  tgt.expiry := src.expiry.link;

  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity3(src.quantity);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSubstanceInstanceComponent4(src : fhir4_resources.TFhirSubstanceInstance) : fhir3_resources.TFhirSubstanceInstance;
var
  tgt : fhir3_resources.TFhirSubstanceInstance;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSubstanceInstance.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifier := convertIdentifier4(src.identifier);

  tgt.expiry := src.expiry.link;

  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity4(src.quantity);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSubstanceIngredientComponent3(src : fhir3_resources.TFhirSubstanceIngredient) : fhir4_resources.TFhirSubstanceIngredient;
var
  tgt : fhir4_resources.TFhirSubstanceIngredient;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSubstanceIngredient.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.quantity <> nil) then
    tgt.quantity := convertRatio3(src.quantity);

  if (src.substance <> nil) then
    tgt.substance := convertType3(src.substance);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSubstanceIngredientComponent4(src : fhir4_resources.TFhirSubstanceIngredient) : fhir3_resources.TFhirSubstanceIngredient;
var
  tgt : fhir3_resources.TFhirSubstanceIngredient;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSubstanceIngredient.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.quantity <> nil) then
    tgt.quantity := convertRatio4(src.quantity);

  if (src.substance <> nil) then
    tgt.substance := convertType4(src.substance);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSupplyDelivery3(src : fhir3_resources.TFhirSupplyDelivery) : fhir4_resources.TFhirSupplyDelivery;
var
  tgt : fhir4_resources.TFhirSupplyDelivery;
  t1 : fhir3_types.TFhirReference;
  t2 : fhir3_types.TFhirReference;
  t3 : fhir3_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSupplyDelivery.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.identifier <> nil) then
    tgt.identifierList.add(convertIdentifier3(src.Identifier));

  for t1 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference3(t1));
  end;
  for t2 in src.partOfList do
  begin
    tgt.partOfList.add(convertReference3(t2));
  end;
  tgt.status := convertSupplyDeliveryStatus3(src.status);

  if (src.patient <> nil) then
    tgt.patient := convertReference3(src.patient);

  tgt.type_ := convertCodeableConcept3(src.type_);

  if (src.suppliedItem <> nil) then
    tgt.suppliedItem := convertSupplyDeliverySuppliedItemComponent3(src.suppliedItem);

  if (src.occurrence <> nil) then
    tgt.occurrence := convertType3(src.occurrence);

  if (src.supplier <> nil) then
    tgt.supplier := convertReference3(src.supplier);

  if (src.destination <> nil) then
    tgt.destination := convertReference3(src.destination);

  for t3 in src.receiverList do
  begin
    tgt.receiverList.add(convertReference3(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSupplyDelivery4(src : fhir4_resources.TFhirSupplyDelivery) : fhir3_resources.TFhirSupplyDelivery;
var
  tgt : fhir3_resources.TFhirSupplyDelivery;
  t1 : fhir4_types.TFhirReference;
  t2 : fhir4_types.TFhirReference;
  t3 : fhir4_types.TFhirReference;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSupplyDelivery.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.identifierList.count > 0) then
    tgt.identifier := convertIdentifier4(src.identifierList[0]);

  for t1 in src.basedOnList do
  begin
    tgt.basedOnList.add(convertReference4(t1));
  end;
  for t2 in src.partOfList do
  begin
    tgt.partOfList.add(convertReference4(t2));
  end;
  tgt.status := convertSupplyDeliveryStatus4(src.status);

  if (src.patient <> nil) then
    tgt.patient := convertReference4(src.patient);

  tgt.type_ := convertCodeableConcept4(src.type_);

  if (src.suppliedItem <> nil) then
    tgt.suppliedItem := convertSupplyDeliverySuppliedItemComponent4(src.suppliedItem);

  if (src.occurrence <> nil) then
    tgt.occurrence := convertType4(src.occurrence);

  if (src.supplier <> nil) then
    tgt.supplier := convertReference4(src.supplier);

  if (src.destination <> nil) then
    tgt.destination := convertReference4(src.destination);

  for t3 in src.receiverList do
  begin
    tgt.receiverList.add(convertReference4(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSupplyDeliverySuppliedItemComponent3(src : fhir3_resources.TFhirSupplyDeliverySuppliedItem) : fhir4_resources.TFhirSupplyDeliverySuppliedItem;
var
  tgt : fhir4_resources.TFhirSupplyDeliverySuppliedItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirSupplyDeliverySuppliedItem.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity3(src.quantity);

  if (src.item <> nil) then
    tgt.item := convertType3(src.item);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertSupplyDeliverySuppliedItemComponent4(src : fhir4_resources.TFhirSupplyDeliverySuppliedItem) : fhir3_resources.TFhirSupplyDeliverySuppliedItem;
var
  tgt : fhir3_resources.TFhirSupplyDeliverySuppliedItem;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirSupplyDeliverySuppliedItem.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.quantity <> nil) then
    tgt.quantity := convertSimpleQuantity4(src.quantity);

  if (src.item <> nil) then
    tgt.item := convertType4(src.item);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertValueSet3(src : fhir3_resources.TFhirValueSet) : fhir4_resources.TFhirValueSet;
var
  tgt : fhir4_resources.TFhirValueSet;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirContactDetail;
  t3 : fhir3_types.TFhirUsageContext;
  t4 : fhir3_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirValueSet.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t2));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t3 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t3));
  end;
  for t4 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t4));
  end;
  tgt.immutable := src.immutable;

  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  if (src.compose <> nil) then
    tgt.compose := convertValueSetComposeComponent3(src.compose);

  if (src.expansion <> nil) then
    tgt.expansion := convertValueSetExpansionComponent3(src.expansion);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertValueSet4(src : fhir4_resources.TFhirValueSet) : fhir3_resources.TFhirValueSet;
var
  tgt : fhir3_resources.TFhirValueSet;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirContactDetail;
  t3 : fhir4_types.TFhirUsageContext;
  t4 : fhir4_types.TFhirCodeableConcept;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirValueSet.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  for t2 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t2));
  end;
  if (src.description <> '') then
    tgt.description := src.description;

  for t3 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t3));
  end;
  for t4 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t4));
  end;
  tgt.immutable := src.immutable;

  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  if (src.compose <> nil) then
    tgt.compose := convertValueSetComposeComponent4(src.compose);

  if (src.expansion <> nil) then
    tgt.expansion := convertValueSetExpansionComponent4(src.expansion);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertValueSetComposeComponent3(src : fhir3_resources.TFhirValueSetCompose) : fhir4_resources.TFhirValueSetCompose;
var
  tgt : fhir4_resources.TFhirValueSetCompose;
  t1 : fhir3_resources.TFhirValueSetComposeInclude;
  t2 : fhir3_resources.TFhirValueSetComposeInclude;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirValueSetCompose.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.lockedDate := src.lockedDate.link;

  tgt.inactive := src.inactive;

  for t1 in src.includeList do
  begin
    tgt.includeList.add(convertConceptSetComponent3(t1));
  end;
  for t2 in src.excludeList do
  begin
    tgt.excludeList.add(convertConceptSetComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertValueSetComposeComponent4(src : fhir4_resources.TFhirValueSetCompose) : fhir3_resources.TFhirValueSetCompose;
var
  tgt : fhir3_resources.TFhirValueSetCompose;
  t1 : fhir4_resources.TFhirValueSetComposeInclude;
  t2 : fhir4_resources.TFhirValueSetComposeInclude;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirValueSetCompose.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.lockedDate := src.lockedDate.link;

  tgt.inactive := src.inactive;

  for t1 in src.includeList do
  begin
    tgt.includeList.add(convertConceptSetComponent4(t1));
  end;
  for t2 in src.excludeList do
  begin
    tgt.excludeList.add(convertConceptSetComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptSetComponent3(src : fhir3_resources.TFhirValueSetComposeInclude) : fhir4_resources.TFhirValueSetComposeInclude;
var
  tgt : fhir4_resources.TFhirValueSetComposeInclude;
  t1 : fhir3_resources.TFhirValueSetComposeIncludeConcept;
  t2 : fhir3_resources.TFhirValueSetComposeIncludeFilter;
  t3 : fhir3_types.TFhirUri;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirValueSetComposeInclude.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.system <> '') then
    tgt.system := src.system;

  if (src.version <> '') then
    tgt.version := src.version;

  for t1 in src.conceptList do
  begin
    tgt.conceptList.add(convertConceptReferenceComponent3(t1));
  end;
  for t2 in src.filterList do
  begin
    tgt.filterList.add(convertConceptSetFilterComponent3(t2));
  end;
  for t3 in src.valueSetList do
  begin
    tgt.valueSetList.add(convertUri3(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptSetComponent4(src : fhir4_resources.TFhirValueSetComposeInclude) : fhir3_resources.TFhirValueSetComposeInclude;
var
  tgt : fhir3_resources.TFhirValueSetComposeInclude;
  t1 : fhir4_resources.TFhirValueSetComposeIncludeConcept;
  t2 : fhir4_resources.TFhirValueSetComposeIncludeFilter;
  t3 : fhir4_types.TFhirUri;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirValueSetComposeInclude.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.system <> '') then
    tgt.system := src.system;

  if (src.version <> '') then
    tgt.version := src.version;

  for t1 in src.conceptList do
  begin
    tgt.conceptList.add(convertConceptReferenceComponent4(t1));
  end;
  for t2 in src.filterList do
  begin
    tgt.filterList.add(convertConceptSetFilterComponent4(t2));
  end;
  for t3 in src.valueSetList do
  begin
    tgt.valueSetList.add(convertUri4(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptReferenceComponent3(src : fhir3_resources.TFhirValueSetComposeIncludeConcept) : fhir4_resources.TFhirValueSetComposeIncludeConcept;
var
  tgt : fhir4_resources.TFhirValueSetComposeIncludeConcept;
  t : fhir3_resources.TFhirValueSetComposeIncludeConceptDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirValueSetComposeIncludeConcept.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  for t in src.designationList do
  begin
    tgt.designationList.add(convertConceptReferenceDesignationComponent3(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptReferenceComponent4(src : fhir4_resources.TFhirValueSetComposeIncludeConcept) : fhir3_resources.TFhirValueSetComposeIncludeConcept;
var
  tgt : fhir3_resources.TFhirValueSetComposeIncludeConcept;
  t : fhir4_resources.TFhirValueSetComposeIncludeConceptDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirValueSetComposeIncludeConcept.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  for t in src.designationList do
  begin
    tgt.designationList.add(convertConceptReferenceDesignationComponent4(t));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptReferenceDesignationComponent3(src : fhir3_resources.TFhirValueSetComposeIncludeConceptDesignation) : fhir4_resources.TFhirValueSetComposeIncludeConceptDesignation;
var
  tgt : fhir4_resources.TFhirValueSetComposeIncludeConceptDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirValueSetComposeIncludeConceptDesignation.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.language <> '') then
    tgt.language := src.language;

  if (src.use <> nil) then
    tgt.use := convertCoding3(src.use);

  if (src.value <> '') then
    tgt.value := src.value;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptReferenceDesignationComponent4(src : fhir4_resources.TFhirValueSetComposeIncludeConceptDesignation) : fhir3_resources.TFhirValueSetComposeIncludeConceptDesignation;
var
  tgt : fhir3_resources.TFhirValueSetComposeIncludeConceptDesignation;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirValueSetComposeIncludeConceptDesignation.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.language <> '') then
    tgt.language := src.language;

  if (src.use <> nil) then
    tgt.use := convertCoding4(src.use);

  if (src.value <> '') then
    tgt.value := src.value;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptSetFilterComponent3(src : fhir3_resources.TFhirValueSetComposeIncludeFilter) : fhir4_resources.TFhirValueSetComposeIncludeFilter;
var
  tgt : fhir4_resources.TFhirValueSetComposeIncludeFilter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirValueSetComposeIncludeFilter.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.property_ := src.property_;
  tgt.op := convertFilterOperator3(src.op);

  if (src.value <> '') then
    tgt.value := src.value;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertConceptSetFilterComponent4(src : fhir4_resources.TFhirValueSetComposeIncludeFilter) : fhir3_resources.TFhirValueSetComposeIncludeFilter;
var
  tgt : fhir3_resources.TFhirValueSetComposeIncludeFilter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirValueSetComposeIncludeFilter.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.property_ := src.property_;
  tgt.op := convertFilterOperator4(src.op);
  tgt.value := src.value;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertValueSetExpansionComponent3(src : fhir3_resources.TFhirValueSetExpansion) : fhir4_resources.TFhirValueSetExpansion;
var
  tgt : fhir4_resources.TFhirValueSetExpansion;
  t1 : fhir3_resources.TFhirValueSetExpansionParameter;
  t2 : fhir3_resources.TFhirValueSetExpansionContains;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirValueSetExpansion.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.identifier <> '') then
    tgt.identifier := src.identifier;

  tgt.timestamp := src.timestamp.link;

  tgt.total := src.total;

  tgt.offset := src.offset;

  for t1 in src.parameterList do
  begin
    tgt.parameterList.add(convertValueSetExpansionParameterComponent3(t1));
  end;
  for t2 in src.containsList do
  begin
    tgt.containsList.add(convertValueSetExpansionContainsComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertValueSetExpansionComponent4(src : fhir4_resources.TFhirValueSetExpansion) : fhir3_resources.TFhirValueSetExpansion;
var
  tgt : fhir3_resources.TFhirValueSetExpansion;
  t1 : fhir4_resources.TFhirValueSetExpansionParameter;
  t2 : fhir4_resources.TFhirValueSetExpansionContains;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirValueSetExpansion.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.identifier <> '') then
    tgt.identifier := src.identifier;

  tgt.timestamp := src.timestamp.link;

  tgt.total := src.total;

  tgt.offset := src.offset;

  for t1 in src.parameterList do
  begin
    tgt.parameterList.add(convertValueSetExpansionParameterComponent4(t1));
  end;
  for t2 in src.containsList do
  begin
    tgt.containsList.add(convertValueSetExpansionContainsComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertValueSetExpansionParameterComponent3(src : fhir3_resources.TFhirValueSetExpansionParameter) : fhir4_resources.TFhirValueSetExpansionParameter;
var
  tgt : fhir4_resources.TFhirValueSetExpansionParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirValueSetExpansionParameter.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.value <> nil) then
    tgt.value := convertType3(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertValueSetExpansionParameterComponent4(src : fhir4_resources.TFhirValueSetExpansionParameter) : fhir3_resources.TFhirValueSetExpansionParameter;
var
  tgt : fhir3_resources.TFhirValueSetExpansionParameter;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirValueSetExpansionParameter.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.name <> '') then
    tgt.name := src.name;

  if (src.value <> nil) then
    tgt.value := convertType4(src.value);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertValueSetExpansionContainsComponent3(src : fhir3_resources.TFhirValueSetExpansionContains) : fhir4_resources.TFhirValueSetExpansionContains;
var
  tgt : fhir4_resources.TFhirValueSetExpansionContains;
  t1 : fhir3_resources.TFhirValueSetComposeIncludeConceptDesignation;
  t2 : fhir3_resources.TFhirValueSetExpansionContains;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirValueSetExpansionContains.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.system <> '') then
    tgt.system := src.system;

  tgt.abstract := src.abstract;

  tgt.inactive := src.inactive;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  for t1 in src.designationList do
  begin
    tgt.designationList.add(convertConceptReferenceDesignationComponent3(t1));
  end;
  for t2 in src.containsList do
  begin
    tgt.containsList.add(convertValueSetExpansionContainsComponent3(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertValueSetExpansionContainsComponent4(src : fhir4_resources.TFhirValueSetExpansionContains) : fhir3_resources.TFhirValueSetExpansionContains;
var
  tgt : fhir3_resources.TFhirValueSetExpansionContains;
  t1 : fhir4_resources.TFhirValueSetComposeIncludeConceptDesignation;
  t2 : fhir4_resources.TFhirValueSetExpansionContains;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirValueSetExpansionContains.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.system <> '') then
    tgt.system := src.system;

  tgt.abstract := src.abstract;
  tgt.inactive := src.inactive;

  if (src.version <> '') then
    tgt.version := src.version;

  if (src.code <> '') then
    tgt.code := src.code;

  if (src.display <> '') then
    tgt.display := src.display;

  for t1 in src.designationList do
  begin
    tgt.designationList.add(convertConceptReferenceDesignationComponent4(t1));
  end;
  for t2 in src.containsList do
  begin
    tgt.containsList.add(convertValueSetExpansionContainsComponent4(t2));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinition3(src : fhir3_resources.TFhirPlanDefinition) : fhir4_resources.TFhirPlanDefinition;
var
  tgt : fhir4_resources.TFhirPlanDefinition;
  t1 : fhir3_types.TFhirIdentifier;
  t2 : fhir3_types.TFhirUsageContext;
  t3 : fhir3_types.TFhirCodeableConcept;
  t4 : fhir3_types.TFhirCodeableConcept;
  t5 : fhir3_types.TFhirContributor;
  t6 : fhir3_types.TFhirContactDetail;
  t7 : fhir3_types.TFhirRelatedArtifact;
  t8 : fhir3_types.TFhirReference;
  t9 : fhir3_resources.TFhirPlanDefinitionGoal;
  ta : fhir3_resources.TFhirPlanDefinitionAction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPlanDefinition.Create();
  try
  copyDomainResource3(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier3(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.type_ := convertCodeableConcept3(src.type_);

  tgt.status := convertPublicationStatus3(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.usage <> '') then
    tgt.usage := src.usage;
  tgt.approvalDate := src.approvalDate;
  tgt.lastReviewDate := src.lastReviewDate;

  if (src.effectivePeriod <> nil) then
    tgt.effectivePeriod := convertPeriod3(src.effectivePeriod);

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext3(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept3(t3));
  end;
  for t4 in src.topicList do
  begin
    tgt.topicList.add(convertCodeableConcept3(t4));
  end;
  for t5 in src.contributorList do
  begin
    case t5.type_ of
      fhir3_types.ContributorTypeAuthor : for t6 in t5.contactList do tgt.authorList.Add(convertContactDetail3(t6));
      fhir3_types.ContributorTypeEditor: for t6 in t5.contactList do tgt.editorList.Add(convertContactDetail3(t6));
      fhir3_types.ContributorTypeReviewer: for t6 in t5.contactList do tgt.reviewerList.Add(convertContactDetail3(t6));
      fhir3_types.ContributorTypeEndorser: for t6 in t5.contactList do tgt.endorserList.Add(convertContactDetail3(t6));
    end;
  end;
  for t6 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail3(t6));
  end;
  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t7 in src.relatedArtifactList do
  begin
    tgt.relatedArtifactList.add(convertRelatedArtifact3(t7));
  end;
  for t8 in src.library_List do
  begin
    tgt.Library_List.add(convertReferenceToCanonical3(t8));
  end;
  for t9 in src.goalList do
  begin
    tgt.goalList.add(convertPlanDefinitionGoalComponent3(t9));
  end;
  for ta in src.actionList do
  begin
    tgt.actionList.add(convertPlanDefinitionActionComponent3(ta));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinition4(src : fhir4_resources.TFhirPlanDefinition) : fhir3_resources.TFhirPlanDefinition;
var
  tgt : fhir3_resources.TFhirPlanDefinition;
  t1 : fhir4_types.TFhirIdentifier;
  t2 : fhir4_types.TFhirUsageContext;
  t3 : fhir4_types.TFhirCodeableConcept;
  t4 : fhir4_types.TFhirCodeableConcept;
  t5 : fhir4_types.TFhirContactDetail;
  t6 : fhir4_types.TFhirContactDetail;
  t7 : fhir4_types.TFhirRelatedArtifact;
  t8 : fhir4_types.TFhirCanonical;
  t9 : fhir4_resources.TFhirPlanDefinitionGoal;
  ta : fhir4_resources.TFhirPlanDefinitionAction;
  tz : fhir3_types.TFhirContributor;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPlanDefinition.Create();
  try
  copyDomainResource4(src, tgt);
  if (src.url <> '') then
    tgt.url := src.url;

  for t1 in src.identifierList do
  begin
    tgt.identifierList.add(convertIdentifier4(t1));
  end;
  if (src.version <> '') then
    tgt.version := src.version;

  if (src.name <> '') then
    tgt.name := src.name;

  if (src.title <> '') then
    tgt.title := src.title;

  tgt.type_ := convertCodeableConcept4(src.type_);

  tgt.status := convertPublicationStatus4(src.status);
  tgt.experimental := src.experimental;

  tgt.date := src.date;

  if (src.publisher <> '') then
    tgt.publisher := src.publisher;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.purpose <> '') then
    tgt.purpose := src.purpose;

  if (src.usage <> '') then
    tgt.usage := src.usage;
  tgt.approvalDate := src.approvalDate;
  tgt.lastReviewDate := src.lastReviewDate;

  if (src.effectivePeriod <> nil) then
    tgt.effectivePeriod := convertPeriod4(src.effectivePeriod);

  for t2 in src.useContextList do
  begin
    tgt.useContextList.add(convertUsageContext4(t2));
  end;
  for t3 in src.jurisdictionList do
  begin
    tgt.jurisdictionList.add(convertCodeableConcept4(t3));
  end;
  for t4 in src.topicList do
  begin
    tgt.topicList.add(convertCodeableConcept4(t4));
  end;
  for t5 in src.authorList do
  begin
    tz := tgt.contributorList.Append;
    tz.type_ := fhir3_types.ContributorTypeAuthor;
    tz.contactList.Add(convertContactDetail4(t5));
  end;
  for t5 in src.editorList do
  begin
    tz := tgt.contributorList.Append;
    tz.type_ := fhir3_types.ContributorTypeEditor;
    tz.contactList.Add(convertContactDetail4(t5));
  end;
  for t5 in src.reviewerList do
  begin
    tz := tgt.contributorList.Append;
    tz.type_ := fhir3_types.ContributorTypeReviewer;
    tz.contactList.Add(convertContactDetail4(t5));
  end;
  for t5 in src.endorserList do
  begin
    tz := tgt.contributorList.Append;
    tz.type_ := fhir3_types.ContributorTypeEndorser;
    tz.contactList.Add(convertContactDetail4(t5));
  end;
  for t6 in src.contactList do
  begin
    tgt.contactList.add(convertContactDetail4(t6));
  end;
  if (src.copyright <> '') then
    tgt.copyright := src.copyright;

  for t7 in src.relatedArtifactList do
  begin
    tgt.relatedArtifactList.add(convertRelatedArtifact4(t7));
  end;
  for t8 in src.library_List do
  begin
    tgt.library_List.add(convertCanonicalToReference4(t8));
  end;
  for t9 in src.goalList do
  begin
    tgt.goalList.add(convertPlanDefinitionGoalComponent4(t9));
  end;
  for ta in src.actionList do
  begin
    tgt.actionList.add(convertPlanDefinitionActionComponent4(ta));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionGoalComponent3(src : fhir3_resources.TFhirPlanDefinitionGoal) : fhir4_resources.TFhirPlanDefinitionGoal;
var
  tgt : fhir4_resources.TFhirPlanDefinitionGoal;
  t1 : fhir3_types.TFhirCodeableConcept;
  t2 : fhir3_types.TFhirRelatedArtifact;
  t3 : fhir3_resources.TFhirPlanDefinitionGoalTarget;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPlanDefinitionGoal.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.category <> nil) then
    tgt.category := convertCodeableConcept3(src.category);

  if (src.description <> nil) then
    tgt.description := convertCodeableConcept3(src.description);

  if (src.priority <> nil) then
    tgt.priority := convertCodeableConcept3(src.priority);

  if (src.start <> nil) then
    tgt.start := convertCodeableConcept3(src.start);

  for t1 in src.addressesList do
  begin
    tgt.addressesList.add(convertCodeableConcept3(t1));
  end;
  for t2 in src.documentationList do
  begin
    tgt.documentationList.add(convertRelatedArtifact3(t2));
  end;
  for t3 in src.targetList do
  begin
    tgt.targetList.add(convertPlanDefinitionGoalTargetComponent3(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionGoalComponent4(src : fhir4_resources.TFhirPlanDefinitionGoal) : fhir3_resources.TFhirPlanDefinitionGoal;
var
  tgt : fhir3_resources.TFhirPlanDefinitionGoal;
  t1 : fhir4_types.TFhirCodeableConcept;
  t2 : fhir4_types.TFhirRelatedArtifact;
  t3 : fhir4_resources.TFhirPlanDefinitionGoalTarget;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPlanDefinitionGoal.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.category <> nil) then
    tgt.category := convertCodeableConcept4(src.category);

  if (src.description <> nil) then
    tgt.description := convertCodeableConcept4(src.description);

  if (src.priority <> nil) then
    tgt.priority := convertCodeableConcept4(src.priority);

  if (src.start <> nil) then
    tgt.start := convertCodeableConcept4(src.start);

  for t1 in src.addressesList do
  begin
    tgt.addressesList.add(convertCodeableConcept4(t1));
  end;
  for t2 in src.documentationList do
  begin
    tgt.documentationList.add(convertRelatedArtifact4(t2));
  end;
  for t3 in src.targetList do
  begin
    tgt.targetList.add(convertPlanDefinitionGoalTargetComponent4(t3));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionGoalTargetComponent3(src : fhir3_resources.TFhirPlanDefinitionGoalTarget) : fhir4_resources.TFhirPlanDefinitionGoalTarget;
var
  tgt : fhir4_resources.TFhirPlanDefinitionGoalTarget;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPlanDefinitionGoalTarget.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.measure <> nil) then
    tgt.measure := convertCodeableConcept3(src.measure);

  if (src.detail <> nil) then
    tgt.detail := convertType3(src.detail);

  if (src.due <> nil) then
    tgt.due := convertDuration3(src.due);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionGoalTargetComponent4(src : fhir4_resources.TFhirPlanDefinitionGoalTarget) : fhir3_resources.TFhirPlanDefinitionGoalTarget;
var
  tgt : fhir3_resources.TFhirPlanDefinitionGoalTarget;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPlanDefinitionGoalTarget.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.measure <> nil) then
    tgt.measure := convertCodeableConcept4(src.measure);

  if (src.detail <> nil) then
    tgt.detail := convertType4(src.detail);

  if (src.due <> nil) then
    tgt.due := convertDuration4(src.due);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionActionComponent3(src : fhir3_resources.TFhirPlanDefinitionAction) : fhir4_resources.TFhirPlanDefinitionAction;
var
  tgt : fhir4_resources.TFhirPlanDefinitionAction;
  t1 : fhir3_types.TFhirCodeableConcept;
  t2 : fhir3_types.TFhirCodeableConcept;
  t3 : fhir3_types.TFhirRelatedArtifact;
  t4 : fhir3_types.TFhirId;
  t5 : fhir3_types.TFhirTriggerDefinition;
  t6 : fhir3_resources.TFhirPlanDefinitionActionCondition;
  t7 : fhir3_types.TFhirDataRequirement;
  t8 : fhir3_types.TFhirDataRequirement;
  t9 : fhir3_resources.TFhirPlanDefinitionActionRelatedAction;
  ta : fhir3_resources.TFhirPlanDefinitionActionParticipant;
  tb : fhir3_resources.TFhirPlanDefinitionActionDynamicValue;
  tc : fhir3_resources.TFhirPlanDefinitionAction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPlanDefinitionAction.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.label_ <> '') then
    tgt.prefix := src.label_;

  if (src.title <> '') then
    tgt.title := src.title;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.textEquivalent <> '') then
    tgt.textEquivalent := src.textEquivalent;

  for t1 in src.codeList do
  begin
    tgt.codeList.add(convertCodeableConcept3(t1));
  end;
  for t2 in src.reasonList do
  begin
    tgt.reasonList.add(convertCodeableConcept3(t2));
  end;
  for t3 in src.documentationList do
  begin
    tgt.documentationList.add(convertRelatedArtifact3(t3));
  end;
  for t4 in src.goalIdList do
  begin
    tgt.goalIdList.add(convertId3(t4));
  end;
  for t5 in src.triggerDefinitionList do
  begin
    tgt.triggerList.add(convertTriggerDefinition3(t5));
  end;
  for t6 in src.conditionList do
  begin
    tgt.conditionList.add(convertPlanDefinitionActionConditionComponent3(t6));
  end;
  for t7 in src.inputList do
  begin
    tgt.inputList.add(convertDataRequirement3(t7));
  end;
  for t8 in src.outputList do
  begin
    tgt.outputList.add(convertDataRequirement3(t8));
  end;
  for t9 in src.relatedActionList do
  begin
    tgt.relatedActionList.add(convertPlanDefinitionActionRelatedActionComponent3(t9));
  end;
  if (src.timing <> nil) then
    tgt.timing := convertType3(src.timing);

  for ta in src.participantList do
  begin
    tgt.participantList.add(convertPlanDefinitionActionParticipantComponent3(ta));
  end;
  if src.type_ <> nil then
  begin
    if tgt.Type_ = nil then
      tgt.type_ := fhir4_types.TFhirCodeableConcept.Create();
    tgt.Type_.codingList.add(convertCoding3(src.Type_));
  end;

  tgt.groupingBehavior := convertActionGroupingBehavior3(src.groupingBehavior);
  tgt.selectionBehavior := convertActionSelectionBehavior3(src.selectionBehavior);
  tgt.requiredBehavior := convertActionRequiredBehavior3(src.requiredBehavior);
  tgt.precheckBehavior := convertActionPrecheckBehavior3(src.precheckBehavior);
  tgt.cardinalityBehavior := convertActionCardinalityBehavior3(src.cardinalityBehavior);

  if (src.definition <> nil) then
    tgt.definitionElement := convertReferenceToCanonical3(src.definition);

  if (src.transform <> nil) then
    tgt.transformElement := convertReferenceToCanonical3(src.transform);

  for tb in src.dynamicValueList do
  begin
    tgt.dynamicValueList.add(convertPlanDefinitionActionDynamicValueComponent3(tb));
  end;
  for tc in src.actionList do
  begin
    tgt.actionList.add(convertPlanDefinitionActionComponent3(tc));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionActionComponent4(src : fhir4_resources.TFhirPlanDefinitionAction) : fhir3_resources.TFhirPlanDefinitionAction;
var
  tgt : fhir3_resources.TFhirPlanDefinitionAction;
  t1 : fhir4_types.TFhirCodeableConcept;
  t2 : fhir4_types.TFhirCodeableConcept;
  t3 : fhir4_types.TFhirRelatedArtifact;
  t4 : fhir4_types.TFhirId;
  t5 : fhir4_types.TFhirTriggerDefinition;
  t6 : fhir4_resources.TFhirPlanDefinitionActionCondition;
  t7 : fhir4_types.TFhirDataRequirement;
  t8 : fhir4_types.TFhirDataRequirement;
  t9 : fhir4_resources.TFhirPlanDefinitionActionRelatedAction;
  ta : fhir4_resources.TFhirPlanDefinitionActionParticipant;
  tb : fhir4_resources.TFhirPlanDefinitionActionDynamicValue;
  tc : fhir4_resources.TFhirPlanDefinitionAction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPlanDefinitionAction.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.prefix <> '') then
    tgt.label_ := src.prefix;

  if (src.title <> '') then
    tgt.title := src.title;

  if (src.description <> '') then
    tgt.description := src.description;

  if (src.textEquivalent <> '') then
    tgt.textEquivalent := src.textEquivalent;

  for t1 in src.codeList do
  begin
    tgt.codeList.add(convertCodeableConcept4(t1));
  end;
  for t2 in src.reasonList do
  begin
    tgt.reasonList.add(convertCodeableConcept4(t2));
  end;
  for t3 in src.documentationList do
  begin
    tgt.documentationList.add(convertRelatedArtifact4(t3));
  end;
  for t4 in src.goalIdList do
  begin
    tgt.goalIdList.add(convertId4(t4));
  end;
  for t5 in src.triggerList do
  begin
    tgt.triggerDefinitionList.add(convertTriggerDefinition4(t5));
  end;
  for t6 in src.conditionList do
  begin
    tgt.conditionList.add(convertPlanDefinitionActionConditionComponent4(t6));
  end;
  for t7 in src.inputList do
  begin
    tgt.inputList.add(convertDataRequirement4(t7));
  end;
  for t8 in src.outputList do
  begin
    tgt.outputList.add(convertDataRequirement4(t8));
  end;
  for t9 in src.relatedActionList do
  begin
    tgt.relatedActionList.add(convertPlanDefinitionActionRelatedActionComponent4(t9));
  end;
  if (src.timing <> nil) then
    tgt.timing := convertType4(src.timing);

  for ta in src.participantList do
  begin
    tgt.participantList.add(convertPlanDefinitionActionParticipantComponent4(ta));
  end;
  if (src.Type_ <> nil) and (src.type_.codingList.count > 0) then
    tgt.type_ := convertCoding4(src.Type_.codingList[0]);

  tgt.groupingBehavior := convertActionGroupingBehavior4(src.groupingBehavior);
  tgt.selectionBehavior := convertActionSelectionBehavior4(src.selectionBehavior);
  tgt.requiredBehavior := convertActionRequiredBehavior4(src.requiredBehavior);
  tgt.precheckBehavior := convertActionPrecheckBehavior4(src.precheckBehavior);
  tgt.cardinalityBehavior := convertActionCardinalityBehavior4(src.cardinalityBehavior);

  if (src.definition is TFhirCanonical) then
    tgt.definition := convertCanonicalToReference4(src.definition as TFhirCanonical);

  if (src.transform <> '') then
    tgt.transform := convertCanonicalToReference4(src.transformElement);

  for tb in src.dynamicValueList do
  begin
    tgt.dynamicValueList.add(convertPlanDefinitionActionDynamicValueComponent4(tb));
  end;
  for tc in src.actionList do
  begin
    tgt.actionList.add(convertPlanDefinitionActionComponent4(tc));
  end;
  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionActionConditionComponent3(src : fhir3_resources.TFhirPlanDefinitionActionCondition) : fhir4_resources.TFhirPlanDefinitionActionCondition;
var
  tgt : fhir4_resources.TFhirPlanDefinitionActionCondition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPlanDefinitionActionCondition.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.kind := convertActionConditionKind3(src.kind);

  if (src.description <> '') or (src.language <> '') or (src.expression <> '') then
  begin
    tgt.expression := TFHIRExpression.Create;
    if (src.description <> '') then
      tgt.expression.description := src.description;

    if (src.language <> '') then
      tgt.expression.language := src.language;

    if (src.expression <> '') then
      tgt.expression.expression := src.expression;
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionActionConditionComponent4(src : fhir4_resources.TFhirPlanDefinitionActionCondition) : fhir3_resources.TFhirPlanDefinitionActionCondition;
var
  tgt : fhir3_resources.TFhirPlanDefinitionActionCondition;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPlanDefinitionActionCondition.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.kind := convertActionConditionKind4(src.kind);

  if src.expression <> nil then
  begin
    if (src.expression.description <> '') then
      tgt.description := src.expression.description;

    if (src.expression.language <> '') then
      tgt.language := src.expression.language;

    if (src.expression.expression <> '') then
      tgt.expression := src.expression.expression;
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionActionRelatedActionComponent3(src : fhir3_resources.TFhirPlanDefinitionActionRelatedAction) : fhir4_resources.TFhirPlanDefinitionActionRelatedAction;
var
  tgt : fhir4_resources.TFhirPlanDefinitionActionRelatedAction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPlanDefinitionActionRelatedAction.Create();
  try
  copyBackboneElement3(src, tgt);
  if (src.actionId <> '') then
    tgt.actionId := src.actionId;

  tgt.relationship := convertActionRelationshipType3(src.relationship);

  if (src.offset <> nil) then
    tgt.offset := convertType3(src.offset);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionActionRelatedActionComponent4(src : fhir4_resources.TFhirPlanDefinitionActionRelatedAction) : fhir3_resources.TFhirPlanDefinitionActionRelatedAction;
var
  tgt : fhir3_resources.TFhirPlanDefinitionActionRelatedAction;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPlanDefinitionActionRelatedAction.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.actionId <> '') then
    tgt.actionId := src.actionId;

  tgt.relationship := convertActionRelationshipType4(src.relationship);

  if (src.offset <> nil) then
    tgt.offset := convertType4(src.offset);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionActionParticipantComponent3(src : fhir3_resources.TFhirPlanDefinitionActionParticipant) : fhir4_resources.TFhirPlanDefinitionActionParticipant;
var
  tgt : fhir4_resources.TFhirPlanDefinitionActionParticipant;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPlanDefinitionActionParticipant.Create();
  try
  copyBackboneElement3(src, tgt);
  tgt.type_ := convertActionParticipantType3(src.type_);

  if (src.role <> nil) then
    tgt.role := convertCodeableConcept3(src.role);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionActionParticipantComponent4(src : fhir4_resources.TFhirPlanDefinitionActionParticipant) : fhir3_resources.TFhirPlanDefinitionActionParticipant;
var
  tgt : fhir3_resources.TFhirPlanDefinitionActionParticipant;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPlanDefinitionActionParticipant.Create();
  try
  copyBackboneElement4(src, tgt);
  tgt.type_ := convertActionParticipantType4(src.type_);

  if (src.role <> nil) then
    tgt.role := convertCodeableConcept4(src.role);

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionActionDynamicValueComponent3(src : fhir3_resources.TFhirPlanDefinitionActionDynamicValue) : fhir4_resources.TFhirPlanDefinitionActionDynamicValue;
var
  tgt : fhir4_resources.TFhirPlanDefinitionActionDynamicValue;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir4_resources.TFhirPlanDefinitionActionDynamicValue.Create();
  try
  copyBackboneElement3(src, tgt);

  if (src.path <> '') then
    tgt.path := src.path;

  if (src.description <> '') or (src.language <> '') or (src.expression <> '') then
  begin
    tgt.expression := TFhirExpression.Create;
    if (src.description <> '') then
      tgt.expression.description := src.description;

    if (src.language <> '') then
      tgt.expression.language := src.language;

    if (src.expression <> '') then
      tgt.expression.expression := src.expression;
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertPlanDefinitionActionDynamicValueComponent4(src : fhir4_resources.TFhirPlanDefinitionActionDynamicValue) : fhir3_resources.TFhirPlanDefinitionActionDynamicValue;
var
  tgt : fhir3_resources.TFhirPlanDefinitionActionDynamicValue;
begin
  if (src = nil) then
    exit(nil);
  tgt := fhir3_resources.TFhirPlanDefinitionActionDynamicValue.Create();
  try
  copyBackboneElement4(src, tgt);
  if (src.path <> '') then
    tgt.path := src.path;

  if src.expression <> nil then
  begin
    if (src.expression.description <> '') then
      tgt.description := src.expression.description;

    if (src.expression.language <> '') then
      tgt.language := src.expression.language;

    if (src.expression.expression <> '') then
      tgt.expression := src.expression.expression;
  end;

  exit(tgt.link);
  finally
    tgt.free;
  end;
end;

class function TVersionConvertor_30_40.convertResource3(src : fhir3_resources.TFhirResource) : fhir4_resources.TFhirResource;
begin
  if (src = nil) then
    exit(nil);
  if (src is fhir3_resources.TFhirParameters) then
    exit(convertParameters3(src as fhir3_resources.TFhirParameters));
  if (src is fhir3_resources.TFhirActivityDefinition) then
    exit(convertActivityDefinition3(src as fhir3_resources.TFhirActivityDefinition));
  if (src is fhir3_resources.TFhirAllergyIntolerance) then
    exit(convertAllergyIntolerance3(src as fhir3_resources.TFhirAllergyIntolerance));
  if (src is fhir3_resources.TFhirAppointment) then
    exit(convertAppointment3(src as fhir3_resources.TFhirAppointment));
  if (src is fhir3_resources.TFhirAppointmentResponse) then
    exit(convertAppointmentResponse3(src as fhir3_resources.TFhirAppointmentResponse));
  if (src is fhir3_resources.TFhirAuditEvent) then
    exit(convertAuditEvent3(src as fhir3_resources.TFhirAuditEvent));
  if (src is fhir3_resources.TFhirBasic) then
    exit(convertBasic3(src as fhir3_resources.TFhirBasic));
  if (src is fhir3_resources.TFhirBinary) then
    exit(convertBinary3(src as fhir3_resources.TFhirBinary));
  if (src is fhir3_resources.TFhirBodySite) then
    exit(convertBodySite3(src as fhir3_resources.TFhirBodySite));
  if (src is fhir3_resources.TFhirBundle) then
    exit(convertBundle3(src as fhir3_resources.TFhirBundle));
  if (src is fhir3_resources.TFhirCapabilityStatement) then
    exit(convertCapabilityStatement3(src as fhir3_resources.TFhirCapabilityStatement));
  if (src is fhir3_resources.TFhirCareTeam) then
    exit(convertCareTeam3(src as fhir3_resources.TFhirCareTeam));
  if (src is fhir3_resources.TFhirClinicalImpression) then
    exit(convertClinicalImpression3(src as fhir3_resources.TFhirClinicalImpression));
  if (src is fhir3_resources.TFhirCodeSystem) then
    exit(convertCodeSystem3(src as fhir3_resources.TFhirCodeSystem));
  if (src is fhir3_resources.TFhirCommunication) then
    exit(convertCommunication3(src as fhir3_resources.TFhirCommunication));
  if (src is fhir3_resources.TFhirCompartmentDefinition) then
    exit(convertCompartmentDefinition3(src as fhir3_resources.TFhirCompartmentDefinition));
  if (src is fhir3_resources.TFhirComposition) then
    exit(convertComposition3(src as fhir3_resources.TFhirComposition));
  if (src is fhir3_resources.TFhirConceptMap) then
    exit(convertConceptMap3(src as fhir3_resources.TFhirConceptMap));
  if (src is fhir3_resources.TFhirCondition) then
    exit(convertCondition3(src as fhir3_resources.TFhirCondition));
  if (src is fhir3_resources.TFhirConsent) then
    exit(convertConsent3(src as fhir3_resources.TFhirConsent));
  if (src is fhir3_resources.TFhirDataElement) then
    exit(convertDataElement3(src as fhir3_resources.TFhirDataElement));
  if (src is fhir3_resources.TFhirDetectedIssue) then
    exit(convertDetectedIssue3(src as fhir3_resources.TFhirDetectedIssue));
  if (src is fhir3_resources.TFhirDevice) then
    exit(convertDevice3(src as fhir3_resources.TFhirDevice));
  if (src is fhir3_resources.TFhirDeviceMetric) then
    exit(convertDeviceMetric3(src as fhir3_resources.TFhirDeviceMetric));
  if (src is fhir3_resources.TFhirDeviceUseStatement) then
    exit(convertDeviceUseStatement3(src as fhir3_resources.TFhirDeviceUseStatement));
  if (src is fhir3_resources.TFhirDiagnosticReport) then
    exit(convertDiagnosticReport3(src as fhir3_resources.TFhirDiagnosticReport));
  if (src is fhir3_resources.TFhirDocumentReference) then
    exit(convertDocumentReference3(src as fhir3_resources.TFhirDocumentReference));
  if (src is fhir3_resources.TFhirEncounter) then
    exit(convertEncounter3(src as fhir3_resources.TFhirEncounter));
  if (src is fhir3_resources.TFhirendpoint) then
    exit(convertEndpoint3(src as fhir3_resources.TFhirendpoint));
  if (src is fhir3_resources.TFhirEpisodeOfCare) then
    exit(convertEpisodeOfCare3(src as fhir3_resources.TFhirEpisodeOfCare));
//  if (src is fhir3_resources.TFhirExpansionProfile) then
//    exit(convertExpansionProfile3(src as fhir3_resources.TFhirExpansionProfile));
  if (src is fhir3_resources.TFhirFamilyMemberHistory) then
    exit(convertFamilyMemberHistory3(src as fhir3_resources.TFhirFamilyMemberHistory));
  if (src is fhir3_resources.TFhirFlag) then
    exit(convertFlag3(src as fhir3_resources.TFhirFlag));
  if (src is fhir3_resources.TFhirGoal) then
    exit(convertGoal3(src as fhir3_resources.TFhirGoal));
  if (src is fhir3_resources.TFhirGraphDefinition) then
    exit(convertGraphDefinition3(src as fhir3_resources.TFhirGraphDefinition));
  if (src is fhir3_resources.TFhirGroup) then
    exit(convertGroup3(src as fhir3_resources.TFhirGroup));
  if (src is fhir3_resources.TFhirHealthcareService) then
    exit(convertHealthcareService3(src as fhir3_resources.TFhirHealthcareService));
  if (src is fhir3_resources.TFhirImmunization) then
    exit(convertImmunization3(src as fhir3_resources.TFhirImmunization));
  if (src is fhir3_resources.TFhirImplementationGuide) then
    exit(convertImplementationGuide3(src as fhir3_resources.TFhirImplementationGuide));
  if (src is fhir3_resources.TFhirLinkage) then
    exit(convertLinkage3(src as fhir3_resources.TFhirLinkage));
  if (src is fhir3_resources.TFhirList) then
    exit(convertList3(src as fhir3_resources.TFhirList));
  if (src is fhir3_resources.TFhirLocation) then
    exit(convertLocation3(src as fhir3_resources.TFhirLocation));
  if (src is fhir3_resources.TFhirMedication) then
    exit(convertMedication3(src as fhir3_resources.TFhirMedication));
  if (src is fhir3_resources.TFhirMedicationAdministration) then
    exit(convertMedicationAdministration3(src as fhir3_resources.TFhirMedicationAdministration));
  if (src is fhir3_resources.TFhirMedicationDispense) then
    exit(convertMedicationDispense3(src as fhir3_resources.TFhirMedicationDispense));
  if (src is fhir3_resources.TFhirMedicationRequest) then
    exit(convertMedicationRequest3(src as fhir3_resources.TFhirMedicationRequest));
  if (src is fhir3_resources.TFhirMedicationStatement) then
    exit(convertMedicationStatement3(src as fhir3_resources.TFhirMedicationStatement));
  if (src is fhir3_resources.TFhirMessageDefinition) then
    exit(convertMessageDefinition3(src as fhir3_resources.TFhirMessageDefinition));
  if (src is fhir3_resources.TFhirMessageHeader) then
    exit(convertMessageHeader3(src as fhir3_resources.TFhirMessageHeader));
  if (src is fhir3_resources.TFhirNamingSystem) then
    exit(convertNamingSystem3(src as fhir3_resources.TFhirNamingSystem));
  if (src is fhir3_resources.TFhirObservation) then
    exit(convertObservation3(src as fhir3_resources.TFhirObservation));
  if (src is fhir3_resources.TFhirOperationDefinition) then
    exit(convertOperationDefinition3(src as fhir3_resources.TFhirOperationDefinition));
  if (src is fhir3_resources.TFhirOperationOutcome) then
    exit(convertOperationOutcome3(src as fhir3_resources.TFhirOperationOutcome));
  if (src is fhir3_resources.TFhirOrganization) then
    exit(convertOrganization3(src as fhir3_resources.TFhirOrganization));
  if (src is fhir3_resources.TFhirPatient) then
    exit(convertPatient3(src as fhir3_resources.TFhirPatient));
  if (src is fhir3_resources.TFhirPaymentNotice) then
    exit(convertPaymentNotice3(src as fhir3_resources.TFhirPaymentNotice));
  if (src is fhir3_resources.TFhirPerson) then
    exit(convertPerson3(src as fhir3_resources.TFhirPerson));
  if (src is fhir3_resources.TFhirPractitioner) then
    exit(convertPractitioner3(src as fhir3_resources.TFhirPractitioner));
  if (src is fhir3_resources.TFhirPractitionerRole) then
    exit(convertPractitionerRole3(src as fhir3_resources.TFhirPractitionerRole));
  if (src is fhir3_resources.TFhirProvenance) then
    exit(convertProvenance3(src as fhir3_resources.TFhirProvenance));
  if (src is fhir3_resources.TFhirQuestionnaire) then
    exit(convertQuestionnaire3(src as fhir3_resources.TFhirQuestionnaire));
  if (src is fhir3_resources.TFhirQuestionnaireResponse) then
    exit(convertQuestionnaireResponse3(src as fhir3_resources.TFhirQuestionnaireResponse));
  if (src is fhir3_resources.TFhirRiskAssessment) then
    exit(convertRiskAssessment3(src as fhir3_resources.TFhirRiskAssessment));
  if (src is fhir3_resources.TFhirSchedule) then
    exit(convertSchedule3(src as fhir3_resources.TFhirSchedule));
  if (src is fhir3_resources.TFhirSearchParameter) then
    exit(convertSearchParameter3(src as fhir3_resources.TFhirSearchParameter));
  if (src is fhir3_resources.TFhirSequence) then
    exit(convertSequence3(src as fhir3_resources.TFhirSequence));
  if (src is fhir3_resources.TFhirSlot) then
    exit(convertSlot3(src as fhir3_resources.TFhirSlot));
  if (src is fhir3_resources.TFhirSpecimen) then
    exit(convertSpecimen3(src as fhir3_resources.TFhirSpecimen));
  if (src is fhir3_resources.TFhirStructureDefinition) then
    exit(convertStructureDefinition3(src as fhir3_resources.TFhirStructureDefinition));
  if (src is fhir3_resources.TFhirStructureMap) then
    exit(convertStructureMap3(src as fhir3_resources.TFhirStructureMap));
  if (src is fhir3_resources.TFhirSubscription) then
    exit(convertSubscription3(src as fhir3_resources.TFhirSubscription));
  if (src is fhir3_resources.TFhirSubstance) then
    exit(convertSubstance3(src as fhir3_resources.TFhirSubstance));
  if (src is fhir3_resources.TFhirSupplyDelivery) then
    exit(convertSupplyDelivery3(src as fhir3_resources.TFhirSupplyDelivery));
  if (src is fhir3_resources.TFhirValueSet) then
    exit(convertValueSet3(src as fhir3_resources.TFhirValueSet));
  raise EFHIRException.Create('Unknown resource converting 3 -> 4' + src.fhirType);
end;

class function TVersionConvertor_30_40.convertResource4(src : fhir4_resources.TFhirResource) : fhir3_resources.TFhirResource;
begin
  if (src = nil) then
    exit(nil);
  if (src is fhir4_resources.TFhirParameters) then
    exit(convertParameters4(src as fhir4_resources.TFhirParameters));
  if (src is fhir4_resources.TFhirActivityDefinition) then
    exit(convertActivityDefinition4(src as fhir4_resources.TFhirActivityDefinition));
  if (src is fhir4_resources.TFhirAllergyIntolerance) then
    exit(convertAllergyIntolerance4(src as fhir4_resources.TFhirAllergyIntolerance));
  if (src is fhir4_resources.TFhirAppointment) then
    exit(convertAppointment4(src as fhir4_resources.TFhirAppointment));
  if (src is fhir4_resources.TFhirAppointmentResponse) then
    exit(convertAppointmentResponse4(src as fhir4_resources.TFhirAppointmentResponse));
  if (src is fhir4_resources.TFhirAuditEvent) then
    exit(convertAuditEvent4(src as fhir4_resources.TFhirAuditEvent));
  if (src is fhir4_resources.TFhirBasic) then
    exit(convertBasic4(src as fhir4_resources.TFhirBasic));
  if (src is fhir4_resources.TFhirBinary) then
    exit(convertBinary4(src as fhir4_resources.TFhirBinary));
  if (src is fhir4_resources.TFhirBodyStructure) then
    exit(convertBodySite4(src as fhir4_resources.TFhirBodyStructure));
  if (src is fhir4_resources.TFhirBundle) then
    exit(convertBundle4(src as fhir4_resources.TFhirBundle));
  if (src is fhir4_resources.TFhirCapabilityStatement) then
    exit(convertCapabilityStatement4(src as fhir4_resources.TFhirCapabilityStatement));
  if (src is fhir4_resources.TFhirCareTeam) then
    exit(convertCareTeam4(src as fhir4_resources.TFhirCareTeam));
  if (src is fhir4_resources.TFhirClinicalImpression) then
    exit(convertClinicalImpression4(src as fhir4_resources.TFhirClinicalImpression));
  if (src is fhir4_resources.TFhirCodeSystem) then
    exit(convertCodeSystem4(src as fhir4_resources.TFhirCodeSystem));
  if (src is fhir4_resources.TFhirCommunication) then
    exit(convertCommunication4(src as fhir4_resources.TFhirCommunication));
  if (src is fhir4_resources.TFhirCompartmentDefinition) then
    exit(convertCompartmentDefinition4(src as fhir4_resources.TFhirCompartmentDefinition));
  if (src is fhir4_resources.TFhirComposition) then
    exit(convertComposition4(src as fhir4_resources.TFhirComposition));
  if (src is fhir4_resources.TFhirConceptMap) then
    exit(convertConceptMap4(src as fhir4_resources.TFhirConceptMap));
  if (src is fhir4_resources.TFhirCondition) then
    exit(convertCondition4(src as fhir4_resources.TFhirCondition));
  if (src is fhir4_resources.TFhirConsent) then
    exit(convertConsent4(src as fhir4_resources.TFhirConsent));
  if (src is fhir4_resources.TFhirDetectedIssue) then
    exit(convertDetectedIssue4(src as fhir4_resources.TFhirDetectedIssue));
  if (src is fhir4_resources.TFhirDevice) then
    exit(convertDevice4(src as fhir4_resources.TFhirDevice));
  if (src is fhir4_resources.TFhirDeviceMetric) then
    exit(convertDeviceMetric4(src as fhir4_resources.TFhirDeviceMetric));
  if (src is fhir4_resources.TFhirDeviceUseStatement) then
    exit(convertDeviceUseStatement4(src as fhir4_resources.TFhirDeviceUseStatement));
  if (src is fhir4_resources.TFhirDiagnosticReport) then
    exit(convertDiagnosticReport4(src as fhir4_resources.TFhirDiagnosticReport));
  if (src is fhir4_resources.TFhirDocumentReference) then
    exit(convertDocumentReference4(src as fhir4_resources.TFhirDocumentReference));
  if (src is fhir4_resources.TFhirEncounter) then
    exit(convertEncounter4(src as fhir4_resources.TFhirEncounter));
  if (src is fhir4_resources.TFhirendpoint) then
    exit(convertEndpoint4(src as fhir4_resources.TFhirendpoint));
  if (src is fhir4_resources.TFhirEpisodeOfCare) then
    exit(convertEpisodeOfCare4(src as fhir4_resources.TFhirEpisodeOfCare));
//  if (src is fhir4_resources.TFhirExpansionProfile) then
//    exit(convertExpansionProfile4(src as fhir4_resources.TFhirExpansionProfile));
  if (src is fhir4_resources.TFhirFamilyMemberHistory) then
    exit(convertFamilyMemberHistory4(src as fhir4_resources.TFhirFamilyMemberHistory));
  if (src is fhir4_resources.TFhirFlag) then
    exit(convertFlag4(src as fhir4_resources.TFhirFlag));
  if (src is fhir4_resources.TFhirGoal) then
    exit(convertGoal4(src as fhir4_resources.TFhirGoal));
  if (src is fhir4_resources.TFhirGraphDefinition) then
    exit(convertGraphDefinition4(src as fhir4_resources.TFhirGraphDefinition));
  if (src is fhir4_resources.TFhirGroup) then
    exit(convertGroup4(src as fhir4_resources.TFhirGroup));
  if (src is fhir4_resources.TFhirHealthcareService) then
    exit(convertHealthcareService4(src as fhir4_resources.TFhirHealthcareService));
  if (src is fhir4_resources.TFhirImmunization) then
    exit(convertImmunization4(src as fhir4_resources.TFhirImmunization));
  if (src is fhir4_resources.TFhirImplementationGuide) then
    exit(convertImplementationGuide4(src as fhir4_resources.TFhirImplementationGuide));
  if (src is fhir4_resources.TFhirLinkage) then
    exit(convertLinkage4(src as fhir4_resources.TFhirLinkage));
  if (src is fhir4_resources.TFhirList) then
    exit(convertList4(src as fhir4_resources.TFhirList));
  if (src is fhir4_resources.TFhirLocation) then
    exit(convertLocation4(src as fhir4_resources.TFhirLocation));
  if (src is fhir4_resources.TFhirMedication) then
    exit(convertMedication4(src as fhir4_resources.TFhirMedication));
  if (src is fhir4_resources.TFhirMedicationAdministration) then
    exit(convertMedicationAdministration4(src as fhir4_resources.TFhirMedicationAdministration));
  if (src is fhir4_resources.TFhirMedicationDispense) then
    exit(convertMedicationDispense4(src as fhir4_resources.TFhirMedicationDispense));
  if (src is fhir4_resources.TFhirMedicationRequest) then
    exit(convertMedicationRequest4(src as fhir4_resources.TFhirMedicationRequest));
  if (src is fhir4_resources.TFhirMedicationStatement) then
    exit(convertMedicationStatement4(src as fhir4_resources.TFhirMedicationStatement));
  if (src is fhir4_resources.TFhirMessageDefinition) then
    exit(convertMessageDefinition4(src as fhir4_resources.TFhirMessageDefinition));
  if (src is fhir4_resources.TFhirMessageHeader) then
    exit(convertMessageHeader4(src as fhir4_resources.TFhirMessageHeader));
  if (src is fhir4_resources.TFhirNamingSystem) then
    exit(convertNamingSystem4(src as fhir4_resources.TFhirNamingSystem));
  if (src is fhir4_resources.TFhirObservation) then
    exit(convertObservation4(src as fhir4_resources.TFhirObservation));
  if (src is fhir4_resources.TFhirOperationDefinition) then
    exit(convertOperationDefinition4(src as fhir4_resources.TFhirOperationDefinition));
  if (src is fhir4_resources.TFhirOperationOutcome) then
    exit(convertOperationOutcome4(src as fhir4_resources.TFhirOperationOutcome));
  if (src is fhir4_resources.TFhirOrganization) then
    exit(convertOrganization4(src as fhir4_resources.TFhirOrganization));
  if (src is fhir4_resources.TFhirPatient) then
    exit(convertPatient4(src as fhir4_resources.TFhirPatient));
  if (src is fhir4_resources.TFhirPaymentNotice) then
    exit(convertPaymentNotice4(src as fhir4_resources.TFhirPaymentNotice));
  if (src is fhir4_resources.TFhirPerson) then
    exit(convertPerson4(src as fhir4_resources.TFhirPerson));
  if (src is fhir4_resources.TFhirPractitioner) then
    exit(convertPractitioner4(src as fhir4_resources.TFhirPractitioner));
  if (src is fhir4_resources.TFhirPractitionerRole) then
    exit(convertPractitionerRole4(src as fhir4_resources.TFhirPractitionerRole));
  if (src is fhir4_resources.TFhirProvenance) then
    exit(convertProvenance4(src as fhir4_resources.TFhirProvenance));
  if (src is fhir4_resources.TFhirQuestionnaire) then
    exit(convertQuestionnaire4(src as fhir4_resources.TFhirQuestionnaire));
  if (src is fhir4_resources.TFhirQuestionnaireResponse) then
    exit(convertQuestionnaireResponse4(src as fhir4_resources.TFhirQuestionnaireResponse));
  if (src is fhir4_resources.TFhirRiskAssessment) then
    exit(convertRiskAssessment4(src as fhir4_resources.TFhirRiskAssessment));
  if (src is fhir4_resources.TFhirSchedule) then
    exit(convertSchedule4(src as fhir4_resources.TFhirSchedule));
  if (src is fhir4_resources.TFhirSearchParameter) then
    exit(convertSearchParameter4(src as fhir4_resources.TFhirSearchParameter));
  if (src is fhir4_resources.TFhirMolecularSequence) then
    exit(convertSequence4(src as fhir4_resources.TFhirMolecularSequence));
  if (src is fhir4_resources.TFhirSlot) then
    exit(convertSlot4(src as fhir4_resources.TFhirSlot));
  if (src is fhir4_resources.TFhirSpecimen) then
    exit(convertSpecimen4(src as fhir4_resources.TFhirSpecimen));
  if (src is fhir4_resources.TFhirStructureDefinition) then
    exit(convertStructureDefinition4(src as fhir4_resources.TFhirStructureDefinition));
  if (src is fhir4_resources.TFhirStructureMap) then
    exit(convertStructureMap4(src as fhir4_resources.TFhirStructureMap));
  if (src is fhir4_resources.TFhirSubscription) then
    exit(convertSubscription4(src as fhir4_resources.TFhirSubscription));
  if (src is fhir4_resources.TFhirSubstance) then
    exit(convertSubstance4(src as fhir4_resources.TFhirSubstance));
  if (src is fhir4_resources.TFhirSupplyDelivery) then
    exit(convertSupplyDelivery4(src as fhir4_resources.TFhirSupplyDelivery));
  if (src is fhir4_resources.TFhirValueSet) then
    exit(convertValueSet4(src as fhir4_resources.TFhirValueSet));
  raise EFHIRException.Create('Unknown resource converting 4 -> 3' + src.fhirType);
end;

end.

